<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Intended as a home for Lambda School curriculum.">
<meta name="author" content="">
<meta name="generator" content="Jekyll v3.8.0">
<title>Testing Web Applications · Lambda School</title>

<link rel='stylesheet' integrity crossorigin='anonymous' href='https://d33wubrfki0l68.cloudfront.net/css/0f99ed215b3d52fa1bee44dc614ea3fa1d1bebc0/dist/css/bootstrap.min.css' />

<link href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" rel="stylesheet">
<link rel='stylesheet' href='https://d33wubrfki0l68.cloudfront.net/css/1bf8317b3d6d0c9d813c92505f052bf79ffdcdfe/assets/css/docs.min.css' />

<link rel='stylesheet' href='https://d33wubrfki0l68.cloudfront.net/css/f3626ab7ab84821f8b60ea92b4a5c6acf59991af/assets/css/main.css' />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-122016605-1', 'learn.lambdaschool.com');
  ga('send', 'pageview');
</script>

<script>
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t,e){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.src="https://cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a);analytics._loadOptions=e};analytics.SNIPPET_VERSION="4.1.0";
  analytics.load("BjKorwKrSvMamfNoGkBq9rISk7wF6QQX");
  analytics.page();
  }}();
</script>

<link rel="apple-touch-icon" href="/assets/img/favicons/apple-touch-icon.png" sizes="180x180">
<link rel="icon" href="/assets/img/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
<link rel="icon" href="/assets/img/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
<link rel="manifest" href="/assets/img/favicons/manifest.json">
<link rel="mask-icon" href="/assets/img/favicons/safari-pinned-tab.svg" color="#a0001e">
<link rel="icon" href="/favicon.ico">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#a0001e">
</head>
<body>
<noscript>Please enable JavaScript to view this page.</noscript>
<div id="redirect-message" style="display: none;">
You must be logged in to view this page.
</div>
<div id="unauthorized-message" style="display: none;">
You must be a Lambda School student to view this page.
</div>
<div id="content-wrapper" >
<a id="skippy" class="sr-only sr-only-focusable" href="#content">
<div class="container">
<span class="skiplink-text">Skip to main content</span>
</div>
</a>
<div class="mobile-menu">
<div class="m-drop">
<div class="mobile-row">
<div class="header-row" style="padding: 3px 7px">
<a class="navbar-brand" href="/" aria-label="Lambda School"><svg xmlns="http://www.w3.org/2000/svg" width="33" height="35" viewBox="0 0 33 35" fill="none">
<path fill-rule="evenodd" clip-rule="evenodd" d="M0 0V16.0609C0 27.7335 9.08929 31.7843 15.7321 34.7513H15.75L16.2857 35C16.4107 34.9289 16.5357 34.8756 16.6786 34.8223C16.75 34.7868 16.8393 34.7513 16.9107 34.7157C23.5714 31.7665 32.6964 27.698 32.6964 16.0609V0H0ZM20.7071 23.4536L20.3571 22.5102L15.6071 10.0736C15.3214 10.802 14.6607 12.5609 13.9464 14.4442L11.2143 21.7817C11.0893 22.1371 11.1607 22.3147 11.25 22.4391C11.4464 22.6701 11.8768 22.6701 12.5554 22.6701H12.6786L12.6768 23.4518H7.56964V22.6701H7.9625C8.65893 22.6701 9.23036 22.368 9.65893 21.5152L10.1768 20.3426L14.9089 8.29696L14.0696 6.07614H18.4804L24.5696 22.0127L25.125 23.4536H20.7071Z" fill="#EC3944" />
</svg></a>
<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#mobile-course-menu" aria-controls="mobile-course-menu" aria-expanded="false" aria-label="Toggle navigation">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" width="30" height="30" focusable="false"><title>Menu</title><path stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" d="M4 7h22M4 15h22M4 23h22"></path></svg>
</button>
</div>
</div>
<div class="nav-row">
<div class="results-container">
<ul id="results-container" class="dropdown list-group"></ul>
</div>
<div id="mobile-course-menu" class="collapse nav-row">
<div class="docs-mobile-sidebar" id="bd-docs-nav-mobile">
<nav class="bd-links">
<div class="bd-toc-item">
<h4 class="bd-toc-link">Web Applications II</h4>
</div>

<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web3/sprint/recq59MvEIZfUAohy">
1.&nbsp;&nbsp;Advanced React
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/web3/module/recnDKrWb24lgaziC/">
Class Components
</a>
</li>
<li>
<a href="/web3/module/rec1DPoOZSmocXfak/">
The React Lifecycle
</a>
</li>
<li>
<a href="/web3/module/recAxmnYmusEi8JuL/">
Composing and Sharing Non-Visual Behavior
</a>
</li>
<li class="active bd-sidenav-active">
<a href="/web3/module/rechTQVfCg4p85Hoi/">
Testing Web Applications
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web3/sprint/recukritK1B1pFrcM">
2.&nbsp;&nbsp;Advanced State Management
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/web3/module/rectpk6uIV3pCHJh8/">
The Reducer Pattern
</a>
</li>
<li>
<a href="/web3/module/recba2NUdVmgKYyR3/">
Redux
</a>
</li>
<li>
<a href="/web3/module/recSoiWNJzGURrXYh/">
Async Redux
</a>
</li>
<li>
<a href="/web3/module/recByjgF7FwwH5Z7W/">
Context API
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
 <a class="bd-toc-link" href="/web3/sprint/recnhsJGy28gNi1K5">
3.&nbsp;&nbsp;Advanced Web Applications
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/web3/module/recS9H6qCj0dQe32B/">
Testing React
</a>
</li>
<li>
<a href="/web3/module/recQlbCZf9tOVgiXC/">
Client-Side Authentication
</a>
</li>
<li>
<a href="/web3/module/recupVjaAKPqbuk7Y/">
HTTP / AJAX II
</a>
</li>
<li>
<a href="/web3/module/receOMvCB7dSyX5FL/">
Deploying Web Apps
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web3/sprint/recVFiuMBzbcZllxC">
4.&nbsp;&nbsp;WEB Unit 3 Build
</a>
<ul class="nav bd-sidenav">

</ul>
</div>
</nav>
</div>
</div>
</div>
</div>
</div>
<div class="main-container">
<div class="sidebar-container bd-sidebar">
<div class="docs-sidebar">
<a class="navbar-brand" href="/" aria-label="Lambda School"><svg width="135" height="35" viewBox="0 0 756 197" fill="#ec3944"><g><path d="M292.9,126.6h-6.7c-9,0-12.6-1.9-12.6-9.5V48.5c0-7.7,1.6-8.6,11.4-9.7v-4.5h-41.3v4.5 c9.8,1.1,11.4,1.9,11.4,9.7v69.3c0,7.7-1.6,8.6-11.4,9.7v4.5h73.7l4.9-29.4h-4.4C308.5,119.6,303.9,126.6,292.9,126.6z"></path><path d="M385.5,121.1V79.3c0-15.8-9.4-22.4-26.6-22.4c-15,0-26.8,6.6-26.8,19.3c0,2.4,0.2,3.3,0.8,5h16.6 c-0.5-2-0.7-5-0.7-7.5c0-9.6,3.6-12.4,9.4-12.4c6.4,0,9.7,2,9.7,14.4v11.2l-20.8,7.7c-10.6,4.1-19.3,8.8-19.3,20.7 c0,10.9,7.5,17.8,18.6,17.8c9.9,0,17.4-6.2,21.9-12.1l0.1-0.1l0,0V132h26v-4.4C387.7,127.1,385.5,126.2,385.5,121.1z M368,117.8 c-4.4,3.3-7.6,5.3-12,5.4c-7.7,0-11.2-5.2-11.2-12.6c0-7.7,3.6-11.2,9.8-13.5l13.4-5.4V117.8L368,117.8z"></path><path d="M514.4,121V79.5c0-14.8-6-22.4-18.7-22.4c-11.5,0-19.4,6.6-25.5,13.9c-1.8-9.6-7.7-13.9-17.8-13.9 c-11.4,0-18.7,6.2-24.8,13.6V57h-2.3l-23.8,7.4v2.4l8.6,5v49.4c0,5-2.1,6.1-8.9,6.4v4.4h35.1v-4.4c-6.7-0.3-8.7-1.3-8.7-6.4v-47 c4.7-3.6,9.5-6.5,15.5-6.5c7.6,0,10.5,4.2,10.5,12.7v40.8c0,5-1.9,6.1-8.7,6.4v4.4l34.8,0v-4.4c-6.7-0.3-8.6-1.3-8.6-6.4v-47 c4.7-3.6,9.5-6.5,15.5-6.5c7.6,0,10.5,4.2,10.5,12.7l-0.1,40.5c0,5-1.8,6.4-8.6,6.7l0,4.4h35.1v-4.4 C516.7,127.4,514.4,126.1,514.4,121z"></path><path d="M573.2,57.3c-11,0-18.5,5.7-23.4,12.8V22.9h-2.7l-23.4,6.8v2.5l8.6,4.5V132h2.9l8-3.5c5.8,3.3,12.3,5,20.2,5 c20.8,0,37.4-15.8,37.4-42.6C600.9,69.9,590.4,57.3,573.2,57.3z M563.4,128.7c-5.4,0-10.3-2.4-13.7-7.9V73.6 c3.4-3.4,8.5-5.7,13.5-5.7c13.9,0,20,12.8,20,29.5C583.3,114.7,575.8,128.5,563.4,128.7z"></path><path d="M677,121.2V22.8h-2.6L651,29.6V32l8.6,4.5v25.7c-3.4-3.2-8.8-5.1-15.5-5.1c-19.9,0-35.2,15.3-35.2,41.3 c0,20.7,11.2,34.6,28.1,34.6c9.8,0,17-5.3,22.6-13.1v0.9V132h26.3l0-4.4C679.1,127.3,677,126.3,677,121.2z M659.6,117.1 L659.6,117.1c-3.4,3.4-8,5.1-13.2,5.1c-13.2,0-20.4-12.8-20.4-29.8c0-17.8,7.3-29.2,19.5-29.2c8.7,0,14.1,6.9,14.1,18.3 L659.6,117.1z"></path><path d="M747.1,121.1V79.3c0-15.8-9.4-22.4-26.6-22.4c-15,0-26.8,6.6-26.8,19.3c0,2.4,0.2,3.3,0.8,5h16.6 c-0.5-2-0.7-5-0.7-7.5c0-9.6,3.6-12.4,9.4-12.4c6.4,0,9.7,2,9.7,14.4v11.2l-20.8,7.7c-10.6,4.1-19.3,8.8-19.3,20.7 c0,10.9,7.5,17.8,18.6,17.8c9.9,0,17.4-6.2,21.9-12.1v-0.1h0.1l0,11.1l26,0.1v-4.5C749.3,127.1,747.1,126.2,747.1,121.1z M729.6,117.8c-4.4,3.3-7.6,5.3-12.1,5.4c-7.7,0-11.2-5.2-11.2-12.6c0-7.7,3.6-11.2,9.8-13.5l13.4-5.4L729.6,117.8L729.6,117.8z"></path></g><path d="M0,0v90.4c0,65.7,50.9,88.5,88.1,105.2h0.1l3,1.4c0.7-0.4,1.4-0.7,2.2-1c0.4-0.2,0.9-0.4,1.3-0.6 c37.3-16.6,88.4-39.5,88.4-105V0H0z M116,132l-2-5.3l-26.6-70c-1.6,4.1-5.3,14-9.3,24.6l-15.3,41.3c-0.7,2-0.3,3,0.2,3.7 c1.1,1.3,3.5,1.3,7.3,1.3H71l0,4.4H42.4l0-4.4h2.2c3.9,0,7.1-1.7,9.5-6.5l2.9-6.6l26.5-67.8l-4.7-12.5h24.7l34.1,89.7l3.1,8.1H116z"></path></svg></a>
<ul id="results-container" class="dropdown list-group"></ul>
<nav class="bd-links collapse" id="bd-docs-nav">
<div class="bd-toc-item">
<h4 class="bd-toc-link">Web Applications II</h4>
</div>

<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web3/sprint/recq59MvEIZfUAohy">
1.&nbsp;&nbsp;Advanced React
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/web3/module/recnDKrWb24lgaziC/">
Class Components
</a>
</li>
<li>
<a href="/web3/module/rec1DPoOZSmocXfak/">
The React Lifecycle
</a>
</li>
<li>
<a href="/web3/module/recAxmnYmusEi8JuL/">
Composing and Sharing Non-Visual Behavior
</a>
</li>
<li class="active bd-sidenav-active">
<a href="/web3/module/rechTQVfCg4p85Hoi/">
Testing Web Applications
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web3/sprint/recukritK1B1pFrcM">
2.&nbsp;&nbsp;Advanced State Management
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/web3/module/rectpk6uIV3pCHJh8/">
The Reducer Pattern
</a>
</li>
<li>
<a href="/web3/module/recba2NUdVmgKYyR3/">
Redux
</a>
</li>
<li>
<a href="/web3/module/recSoiWNJzGURrXYh/">
Async Redux
</a>
</li>
<li>
<a href="/web3/module/recByjgF7FwwH5Z7W/">
Context API
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web3/sprint/recnhsJGy28gNi1K5">
3.&nbsp;&nbsp;Advanced Web Applications
</a>
 <ul class="nav bd-sidenav">

<li>
<a href="/web3/module/recS9H6qCj0dQe32B/">
Testing React
</a>
</li>
<li>
<a href="/web3/module/recQlbCZf9tOVgiXC/">
Client-Side Authentication
</a>
</li>
<li>
<a href="/web3/module/recupVjaAKPqbuk7Y/">
HTTP / AJAX II
</a>
</li>
<li>
<a href="/web3/module/receOMvCB7dSyX5FL/">
Deploying Web Apps
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web3/sprint/recVFiuMBzbcZllxC">
4.&nbsp;&nbsp;WEB Unit 3 Build
</a>
<ul class="nav bd-sidenav">

</ul>
</div>
</nav>
</div>
</div>
<main class="content-container flex-wrapper" role="main">
<div class="sticky-nav">
<div class="sprint-nav">
<ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#prepare">Prepare</a></li>
<li class="toc-entry toc-h2"><a href="#learn">Learn</a></li>
<li class="toc-entry toc-h2"><a href="#project">Project</a></li>
<li class="toc-entry toc-h2"><a href="#review">Review</a></li>
</ul>
</div>

</div>
<div class="wrapper limit-width">
<div class="flex-wrapper">
<div class="limit-width">
<div class="jumbotron">
<h1 class="bd-title" id="content">Testing Web Applications</h1>
<span class="lead">
<p class="bd-lead"></p>
<p>In this module we will learn about automated testing, and more specifically how to write unit tests with Jest and react-testing-library.</p>
</span>
<strong>At the end of this module, you should be able to:</strong>
<ul>
<li>explain what automated testing is and its importance</li>
<li>use react-testing-library for testing react components</li>
<li>use react-testing-library to test user interactions with fireEvent</li>
</ul>
</div>
<div class="alert alert-warning" role="alert">
<h4>Pro Tip</h4>
<p>We all build on the work of others.</p>
</div>
<h2 class="display-4">
<a id="prepare" class="anchor" href="#prepare" aria-hidden="true"><span class="octicon octicon-link"></span></a>Prepare</h2>
<p class="lead">Review each preclass resource before class.</p>
<div class="preclass">
<ul class="list-group list-group-flush">
<li class="list-group-item">
<div class="embed-responsive embed-responsive-16by9">
<iframe class="embed-responsive-item" src="https://www.youtube.com/embed/jyWUNzzV29U" frameborder="0" allowfullscreen></iframe>
</div>
</li>
<li class="list-group-item">
<div class="embed-responsive embed-responsive-16by9">
<iframe class="embed-responsive-item" src="https://www.youtube.com/embed/uFXGcLpbBMU" frameborder="0" allowfullscreen></iframe>
</div>
</li>
<li class="list-group-item">
<div class="embed-responsive embed-responsive-16by9">
<iframe class="embed-responsive-item" src="https://www.youtube.com/embed/vItkiDBCVcc" frameborder="0" allowfullscreen></iframe>
</div>
</li>
</ul>
</div>
<h2 class="display-4">
<a id="learn" class="anchor" href="#learn" aria-hidden="true"><span class="octicon octicon-link"></span></a>Learn</h2>
<h4 class="mark mb-3 p-2">Learn to explain what automated testing is and its importance</h4>
<p>Testing is essential for software quality. It should be integrated into the development process from beginning to end. We should not wait until a feature is complete to start testing it. Testing software manually on every commit to source control or every time we make a change does not scale! Automated testing works by using software to test our code.</p>
<h5>Overview</h5>
<h3 id="why-test">Why test</h3>
<p>Automated testing minimizes the risk of bugs finding their way into production code. <strong>Testing is NOT optional</strong>. Testing should be a part of every developer’s workflow. A feature is not done until it is fully tested! In direct contrast to manual testing, automated testing significantly reduces the manpower and margin for error needed to confidently ship a product. Though it can’t entirely remove manual testing from the process, it certainly helps.</p>
<p><strong>In terms of benefits, testing…</strong></p>
<ul>
<li>Surfaces bugs faster.</li>
<li>Reduces the risk of regressions.</li>
<li>Allows us to trust the code.</li>
<li>Makes us think about the edge cases.</li>
<li>Acts as a safety net when making changes or refactoring.</li>
<li>Acts as documentation for the code.</li>
<li>Encourages us to write more testable (better!) code.</li>
</ul>
<p><strong>On the other hand, NOT testing…</strong></p>
<ul>
<li>Forces very expensive manual testing.</li>
<li>Causes bugs and edge cases to be encountered later.</li>
<li>Makes refactoring or adding features risky and scary.</li>
<li>Can make codebases fragile and expensive to maintain.</li>
<li>Makes less documented codebases much harder to understand.</li>
</ul>
<p>Not writing tests can be thought of as <strong>taking a loan with a very high-interest rate</strong>. The quick payoff is being able to write spaghetti code unhindered. The costs long term can become enormous and surpass hundreds of times over any marginal time gains obtained by not writing tests. Eventually, entire teams of developers can get so bogged down in bugs and regressions that the product can’t move forward.</p>
<h3 id="types-of-testing">Types of testing</h3>
<p>There are many different ways of classifying tests. Here are some common levels of testing:</p>
<h4 id="integration-testing">Integration testing</h4>
<p>In this level, several units of software are tested as a group to ensure they work together correctly.</p>
<h4 id="end-to-end-testing">End-to-end testing</h4>
<p>End-to-end (E2E) testing is where the whole application is tested, simulating real user scenarios closely. Because these tests are slow and expensive, there should be a thick “cushion” of unit tests in a codebase.</p>
<h4 id="unit-testing">Unit Testing</h4>
<p>We test the smaller units of software (often functions or methods) in isolation. There are usually many unit tests in a codebase, and because these tests are meant to be run often, they need to run fast. We will talk about this eventually, but not much today.</p>
<h3 id="when-to-test">When to Test</h3>
<p>When trying to determine whether to manually test a feature, or to automate testing, consider the following guidelines:</p>
<ul>
<li>Automated testing should be built for any test that is executed often. Internally at Lambda we say “1..2.. automate!” meaning, you should only do a task 2 times manually before you are required to build out a system to automate that test or task for you. It isn’t always relevant, but a catchy motto to consider.</li>
<li>Automated testing should be built for any difficult manual task - if it requires too much work, or too many steps, that even a 2nd manual test would be a large task, automate it from the start.</li>
<li>Automated testing should be built for any test that, if it fails, will dramatically affect the use of a product or health of a company. For example, you’d always want to build a test to check for security of credit card information on a payment processing website.</li>
</ul>
<p>On the flip side, if you’re trying something new, or if test requirements are changing a lot, you can probably hold off on creating an automated test.</p>
<h3 id="how-to-test">How to Test</h3>
<p>The framework we use for testing is: arrange, act, assert. These are three steps that we can take to build good tests. First, we “arrange” our test by setting up our code such that it can be tested. Then, we “act” - calling a method or function that returns a result of interest to our test. Finally, with that return we “assert” if our expected return matched the actual return.</p>
<p>Very often arrange and act will happen in the same line of code, for illustration here we’ve separated these sections, but don’t be scared if you see them together.</p>
<h5>Follow Along</h5>
<p>Read through this article that talks about how to know what to test: https://kentcdodds.com/blog/how-to-know-what-to-test</p>
<h5>Challenge</h5>
<p>Research other types of tests: sanity testing, smoke testing, regression testing, system testing, snapshot testing, acceptance testing.</p>
<hr>
<h4 class="mark mb-3 p-2">Learn to use react-testing-library for testing react components</h4>
<p>In the Node ecosystem, small and specialized libraries prevail over large, batteries-included frameworks. In a similar way architecting a React application requires putting together a stack made of several different libraries, testing our React components require that we choose libraries depending on the methodology we favor, and use them together.</p>
<h5>Overview</h5>
<p>In the last objective we discussed the general <em>what</em> and <em>why</em> of testing. Here we’re going to dive into the <em>how</em>. We will use the <a href="https://testing-library.com/docs/react-testing-library/intro">react-testing-library</a> to run tests in this unit. Unlike previous testing libraries, react-testing-library is designed with the user in mind, testing components via DOM nodes, similar to how a user would interact with the front end of a website.</p>
<p>react-testing-library recently underwent a major overhaul - we used to use a different libraries, Enzyme and Jest, for tests that cared more about the internal management of props and state. Now though, we can use react-testing-library to test prop, state, output (in DOM elements), and more.</p>
<p>The “hello world” so to speak in the react-testing-library is a test to check if a component loads without crashing. Here, we declare a test, name it, and check if the App renders.</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">test</span><span class="p">(</span><span class="dl">"</span><span class="s2">renders App without crashing</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">App</span> <span class="o">/&gt;</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>
<p>Earlier, we discussed about the “Arrange, Act, Assert” structure for testing. There’s a technical first step, import - we’ll look at all of them below. For more details, check out the <a href="https://testing-library.com/docs/react-testing-library/example-intro">testing-library documentation</a>.</p>
<p>The following matches the structure we’ve studied and is slightly simplified version of what you’‘ll find in the documentation. What we’ll walk through in the tutorial is even more simple but this example is good for illustration.</p>
<p>Here we are testing the <code class="highlighter-rouge">greeting</code> component to see if our expected greeting (“hello lambdalorians”) appears in the browser as we expect it will per the code below. Important note here, our tests work with text because that’s what the user sees and what the user experiences - the test does not test on classes, for example, because that’s an implementation detail, not a rendered element.</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">Greeting</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">h1</span> <span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">my-greeting</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">Hello</span> <span class="nx">Lambdalorians</span><span class="o">!&lt;</span><span class="sr">/h1&gt;</span><span class="err">;
</span><span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">Greeting</span><span class="p">;</span>
</code></pre></div></div>
<h3 id="import">Import</h3>
<p>As with any library, we need to import react-testing-library before we can use it, this all should look more or less familiar from imports we’ve done before. You’ll notice that “Arrange, Act, and Assert” are yet to be filled out.</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// import dependencies</span>
<span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>

<span class="c1">// import react-testing methods</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">render</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@testing-library/react</span><span class="dl">"</span><span class="p">;</span>

<span class="c1">// add greeting</span>
<span class="k">import</span> <span class="nx">Greeting</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./Greeting</span><span class="dl">"</span><span class="p">;</span>

<span class="nx">test</span><span class="p">(</span><span class="dl">"</span><span class="s2">renders greeting on Greeting component</span><span class="dl">"</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Arrange</span>
  <span class="c1">// Act</span>
  <span class="c1">// Assert</span>
<span class="p">});</span>
</code></pre></div></div>
<h3 id="arrange">Arrange</h3>
<p>The <code class="highlighter-rouge">render</code> method renders a React element into a virtual DOM and returns utility functions for testing the component. Recalling our definition of “arrange”, this is basically the part where we set ourselves up for success. Here, we use <code class="highlighter-rouge">getByText</code> to set up the action that we want to run later on - checking the greeting text.</p>
<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">test</span><span class="p">(</span><span class="dl">"</span><span class="s2">renders greeting on Greeting component</span><span class="dl">"</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Arrange</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">getByText</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">render</span><span class="p">(&lt;</span><span class="nc">Greeting</span> <span class="p">/&gt;);</span>
  <span class="c1">// Act</span>
  <span class="c1">// Assert</span>
<span class="p">});</span>
</code></pre></div></div>
<h3 id="act">Act</h3>
<p>The <code class="highlighter-rouge">getByText</code> method can be used to “query” the DOM for a specific node by its text that we expect to see in the browser. We will use it here to test that our greeting (“hello lambdalorians”) is being rendered by the <code class="highlighter-rouge">&lt;Greeting /&gt;</code> component.</p>
<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">test</span><span class="p">(</span><span class="dl">"</span><span class="s2">renders greeting on Greeting component</span><span class="dl">"</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Arrange</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">getByText</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">render</span><span class="p">(&lt;</span><span class="nc">Greeting</span> <span class="p">/&gt;);</span>
  <span class="c1">// Act</span>
  <span class="kd">const</span> <span class="nx">greeting</span> <span class="o">=</span> <span class="nx">getByText</span><span class="p">(</span><span class="sr">/hello lambdalorians!/i</span><span class="p">);</span>
  <span class="c1">// Assert</span>
<span class="p">});</span>
</code></pre></div></div>
<p>A quick note here, you may notice that “hello lambdalorians” is written with <code class="highlighter-rouge">/</code> instead of <code class="highlighter-rouge">"</code>s. This is regex syntax and is commonly used in testing. the <code class="highlighter-rouge">i</code> designates our text as case insensitive so even though we have the string “hello lambdalorians” written, our test will pass even if “hElLo LamBdAlOriAns” is displayed in the browser.</p>
<h3 id="assert">Assert</h3>
<p>Finally, we need to “assert” that the greeting has indeed been rendered. Here we use a couple of new functions - <code class="highlighter-rouge">expect</code> is a Jest function that is made globally available with create react app. The other, <code class="highlighter-rouge">toBeInTheDocument()</code>, comes from <a href="https://testing-library.com/docs/ecosystem-jest-dom">Jest DOM</a>, a companion library to react-testing-library that provides custom matchers for Jest. A full list of functions can be found on <a href="https://github.com/testing-library/jest-dom">GitHub</a>. Throughout our examples we assume that you import Jest DOM in create-react-app, and suggest that you always do this, rather than importing it every time.</p>
<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">test</span><span class="p">(</span><span class="dl">"</span><span class="s2">renders greeting on Greeting component</span><span class="dl">"</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Arrange</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">getByText</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">render</span><span class="p">(&lt;</span><span class="nc">Greeting</span> <span class="p">/&gt;);</span>
  <span class="c1">// Act</span>
  <span class="kd">const</span> <span class="nx">greeting</span> <span class="o">=</span> <span class="nx">getByText</span><span class="p">(</span><span class="sr">/hello lambdalorians!/i</span><span class="p">);</span>
  <span class="c1">// Assert</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">greeting</span><span class="p">).</span><span class="nx">toBeInTheDocument</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div></div>
<h3 id="running-tests">Running Tests</h3>
<p>You should be at least somewhat familiar with this process from tests that we’ve used throughout Lambda to help your code along. All tests run in the terminal with <code class="highlighter-rouge">npm test</code> - as you run tests you should see passes and failures in the console. Running this test would result in a “pass” since our earlier code does indeed render “Hello Lambdalorians”.</p>
<h5>Follow Along</h5>
<p>Here, we are testing to see wither learn react will render the way we expect it to.</p>
<ol>
<li>
<strong>Create a React project</strong> with <code class="highlighter-rouge">create-react-app</code> in command line.</li>
</ol>
<p>Remember that older versions of Create React App required you to install <code class="highlighter-rouge">@testing-library/jest-dom</code> and <code class="highlighter-rouge">@testing-library/react</code> separately. Not anymore. And <strong>we do NOT need to install Jest</strong> either, as CRA projects come with Jest installed and working out of the box.</p>
<ol>
<li>
<strong>Open <code class="highlighter-rouge">App.test.js</code></strong> (inside the <code class="highlighter-rouge">src</code> folder). You should see the below:</li>
</ol>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
    <span class="k">import</span> <span class="p">{</span> <span class="nx">render</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@testing-library/react</span><span class="dl">'</span><span class="p">;</span>
    <span class="k">import</span> <span class="nx">App</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./App</span><span class="dl">'</span><span class="p">;</span>

    <span class="nx">test</span><span class="p">(</span><span class="dl">'</span><span class="s1">renders learn react link</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="p">{</span> <span class="nx">getByText</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">App</span> <span class="o">/&gt;</span><span class="p">);</span>
      <span class="kd">const</span> <span class="nx">linkElement</span> <span class="o">=</span> <span class="nx">getByText</span><span class="p">(</span><span class="sr">/learn react/i</span><span class="p">);</span>
      <span class="nx">expect</span><span class="p">(</span><span class="nx">linkElement</span><span class="p">).</span><span class="nx">toBeInTheDocument</span><span class="p">();</span>
<span class="p">});</span>
</code></pre></div></div>
<ol>
<li>
<strong>Note</strong> a few things about the imports:</li>
</ol>
<ul>
<li>
<code class="highlighter-rouge">React</code> has to be in scope because we will be using JSX.</li>
<li>
<code class="highlighter-rouge">react-testing-library</code> exposes a render function that we are importing with <code class="highlighter-rouge">import { render }</code> syntax. This allows us to render React components so we can <strong>test them</strong>.</li>
</ul>
<ol>
<li>
<strong>Render a React element</strong> containing a “Hello World” message, and run tests as usual:</li>
</ol>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">renders without crashing</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">render</span><span class="p">(</span>
        <span class="o">&lt;</span><span class="nx">span</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">greet</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">hello</span> <span class="nx">world</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>      <span class="p">);</span>
    <span class="p">});</span>
</code></pre></div></div>
<ol>
<li>
<strong>Inspect the output</strong> by logging <code class="highlighter-rouge">wrapper.debug()</code>. See how the element is rendered into a in-memory document-like structure:</li>
</ol>
<p><img src="https://tk-assets.lambdaschool.com/f9be6244-1d0a-4386-ae0e-cf01e20b98f7_ScreenShot2019-04-15at13.56.43.png" alt="alt text"></p>
<ol>
<li>
<strong>Capture the node of interest.</strong> Let’s assume the true, actual purpose of some React component returning the jsx <code class="highlighter-rouge">&lt;span&gt;hello world&lt;/span&gt;</code> is to render a “hello” message to the screen for the user to see. We could assert that by mounting such a component, the browser will render a span containing this language. We can use a <code class="highlighter-rouge">dom-testing-library</code> <strong>query</strong> to capture such an element:</li>
</ol>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">renders without crashing</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">wrapper</span> <span class="o">=</span> <span class="nx">rtl</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
        <span class="o">&lt;</span><span class="nx">span</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">greet</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">hello</span> <span class="nx">world</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>      <span class="p">);</span>
      <span class="c1">// the querying functionality is accessed through the wrapper:</span>
      <span class="kd">const</span> <span class="nx">element</span> <span class="o">=</span> <span class="nx">wrapper</span><span class="p">.</span><span class="nx">queryByText</span><span class="p">(</span><span class="sr">/hello/i</span><span class="p">);</span>

      <span class="c1">// assertions will come in here</span>
    <span class="p">});</span>
</code></pre></div></div>
<ol>
<li>
<strong>Run assertions</strong> about the actual output:</li>
</ol>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nx">expect</span><span class="p">(</span><span class="nx">element</span><span class="p">).</span><span class="nx">toBeTruthy</span><span class="p">();</span> <span class="c1">// jest matcher</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">element</span><span class="p">).</span><span class="nx">toBeInTheDocument</span><span class="p">();</span> <span class="c1">// jest-dom matcher</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">element</span><span class="p">).</span><span class="nx">toBeVisible</span><span class="p">();</span> <span class="c1">// jest-dom matcher</span>
</code></pre></div></div>
<h5>Challenge</h5>
<p>Add two more text elements (headers, paragraphs, anchor tags, etc) to the component and write a test for each of them to assert that they are being rendered.</p>
<hr>
<h4 class="mark mb-3 p-2">Learn to use react-testing-library to test user interactions with fireEvent</h4>
<p>The philosophy of <code class="highlighter-rouge">@testing-library/dom</code> is to test UI the same way a user would. We as users would probably test an application by confirming that the visual pieces that are supposed to be there are actually there (like buttons, inputs, links or labels). We would ensure critical content can be read, inputs filled in, and that clicking buttons has the desired effect of having other pieces appear (or go away).</p>
<h5>Overview</h5>
<p>For review, the react-testing-library are designed to mimic how a human would interact with a website, just like the react-testing-library, these tests focus on UI specifically. This again, is just another way to consider the user in design.</p>
<p>We test pieces of interface by capturing what we expect to see (or not see) in the DOM using queries. What should (or should not) be there is rendered to a virtual DOM by the library’s renderer. This is the DOM node of interest (a certain button, a label containing a specific text, an input with some specific value). We can run matchers against that piece of DOM to <strong>assert</strong>, for example, that the selection exists in the document, or that it’s visible.</p>
<p>Let’s consider the example of an increment counter that increases by one every time the <code class="highlighter-rouge">Increment</code> button is clicked. Set up like so:</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">Counter</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">count</span><span class="p">,</span> <span class="nx">setCount</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">h2</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">count</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/h2</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="nx">setCount</span><span class="p">(</span><span class="nx">count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)}</span><span class="o">&gt;</span><span class="nx">Increment</span><span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="nx">setCount</span><span class="p">(</span><span class="nx">count</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)}</span><span class="o">&gt;</span><span class="nx">Decrement</span><span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">Counter</span><span class="p">;</span>
</code></pre></div></div>
<p>Our test would look something like the following. This should look similar to the example we walked through in the last objective, with just a few more steps added on. Importantly, we simulate a user click with <code class="highlighter-rouge">fireEvent.click(button)</code> and include multiple assertions at the end.</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>

<span class="k">import</span> <span class="p">{</span> <span class="nx">render</span><span class="p">,</span> <span class="nx">fireEvent</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@testing-library/react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Counter</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./Counter</span><span class="dl">"</span><span class="p">;</span>

<span class="nx">test</span><span class="p">(</span><span class="dl">"</span><span class="s2">increments count when increment button is clicked</span><span class="dl">"</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Arrange</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">getByText</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Counter</span> <span class="o">/&gt;</span><span class="p">);</span>
  <span class="c1">// Act</span>
  <span class="kd">const</span> <span class="nx">count</span> <span class="o">=</span> <span class="nx">getByText</span><span class="p">(</span><span class="sr">/0/i</span><span class="p">);</span>
  <span class="c1">// get the button node</span>
  <span class="kd">const</span> <span class="nx">button</span> <span class="o">=</span> <span class="nx">getByText</span><span class="p">(</span><span class="sr">/increment/i</span><span class="p">);</span>
  <span class="c1">// simulate a user click</span>
  <span class="nx">fireEvent</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">button</span><span class="p">);</span>
  <span class="c1">// Assert</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">count</span><span class="p">).</span><span class="nx">toHaveTextContent</span><span class="p">(</span><span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">);</span> <span class="c1">//passes with 1 because we expect it to be 1 after a button click</span>
  <span class="nx">expect</span><span class="p">(</span><span class="nx">count</span><span class="p">).</span><span class="nx">not</span><span class="p">.</span><span class="nx">toHaveTextContent</span><span class="p">(</span><span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>
<h3 id="break-the-test">Break the Test</h3>
<p>We’ll tell you to break your tests often. In the example above there are multiple <code class="highlighter-rouge">expect</code> statements as an attempt to ‘break the test’, this is important and intentional. When testing, we want to “break the test” as much as we possibly can, this is the best (and really the only) way to ensure that your website won’t break when a user goes to try and use it.</p>
<h5>Follow Along</h5>
<ol>
<li>
<strong>Change</strong> <code class="highlighter-rouge">App.js</code> to output different jsx:
<div class="language-javascript highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>  <span class="kd">const</span> <span class="nx">App</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
       <span class="k">return</span> <span class="p">(</span>
         <span class="o">&lt;</span><span class="nx">section</span> <span class="nx">aria</span><span class="o">-</span><span class="nx">labelledby</span><span class="o">=</span><span class="dl">"</span><span class="s2">KittensHeader</span><span class="dl">"</span><span class="o">&gt;</span>
           <span class="o">&lt;</span><span class="nx">h2</span> <span class="nx">id</span><span class="o">=</span><span class="dl">"</span><span class="s2">KittensHeader</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">All</span> <span class="nx">About</span> <span class="nx">Kittens</span><span class="o">&lt;</span><span class="sr">/h2</span><span class="err">&gt;
</span>           <span class="o">&lt;</span><span class="nx">p</span> <span class="nx">className</span><span class="o">=</span><span class="dl">'</span><span class="s1">content</span><span class="dl">'</span><span class="o">&gt;</span><span class="nx">Lorem</span> <span class="nx">ipsum</span> <span class="nx">dolor</span> <span class="nx">sit</span> <span class="nx">amet</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>         <span class="o">&lt;</span><span class="sr">/section</span><span class="err">&gt;
</span>   <span class="p">}</span>
</code></pre></div> </div>
</li>
<li>
<p><strong>Import</strong> the App component into our test file <code class="highlighter-rouge">App.test.js</code> and render it. You may pass any props you want! Renders the app component.</p>
<div class="language-javascript highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>   <span class="k">import</span> <span class="nx">React</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
   <span class="k">import</span> <span class="p">{</span> <span class="nx">render</span> <span class="p">}</span> <span class="k">as</span> <span class="nx">rtl</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@testing-library/react</span><span class="dl">'</span><span class="p">;</span>
   <span class="k">import</span> <span class="nx">App</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./App</span><span class="dl">'</span><span class="p">;</span>

   <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">renders "all about kittens" text</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
     <span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">App</span> <span class="nx">foo</span><span class="o">=</span><span class="dl">"</span><span class="s2">you may inject props!</span><span class="dl">"</span> <span class="o">/&gt;</span><span class="p">);</span>
   <span class="p">});</span>
</code></pre></div> </div>
</li>
<li>
<p><strong>Capture</strong> a piece of the output! We expect some text containing “All About Kittens” to be rendered so we’ll use <code class="highlighter-rouge">queryByText</code>. This is an example of the <code class="highlighter-rouge">act</code> phase.</p>
<div class="language-javascript highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>   <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">renders "all about kittens" text</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
     <span class="kd">const</span> <span class="p">{</span> <span class="nx">queryByText</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">App</span> <span class="o">/&gt;</span><span class="p">);</span>
     <span class="kd">const</span> <span class="nx">hasKittensText</span> <span class="o">=</span> <span class="nx">queryByText</span><span class="p">(</span><span class="sr">/all about kittens/i</span><span class="p">);</span>
   <span class="p">});</span>
</code></pre></div> </div>
</li>
<li>
<p><strong>Assert</strong> that the <code class="highlighter-rouge">hasKittensText</code> is actually in the document. If it’s not, the value of <code class="highlighter-rouge">hasKittensText</code> will be null.</p>
<div class="language-javascript highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>   <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">renders "all about kittens" text</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
     <span class="kd">const</span> <span class="p">{</span> <span class="nx">queryByText</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">App</span> <span class="o">/&gt;</span><span class="p">);</span>
     <span class="c1">// IMPORTANT</span>
     <span class="c1">// queryByText() returns either the node, or null:</span>
     <span class="kd">const</span> <span class="nx">hasKittensText</span> <span class="o">=</span> <span class="nx">queryByText</span><span class="p">(</span><span class="sr">/all about kittens/i</span><span class="p">);</span>
     <span class="nx">expect</span><span class="p">(</span><span class="nx">hasKittensText</span><span class="p">).</span><span class="nx">toBeInTheDocument</span><span class="p">();</span>
   <span class="p">});</span>
</code></pre></div> </div>
</li>
<li>
<p><strong>Try out</strong> <code class="highlighter-rouge">getByText()</code> as an alternative to <code class="highlighter-rouge">queryByText()</code>.</p>
<div class="language-javascript highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>   <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">renders "all about kittens" text</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
     <span class="kd">const</span> <span class="p">{</span> <span class="nx">queryByText</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">App</span> <span class="o">/&gt;</span><span class="p">);</span>
     <span class="c1">// IMPORTANT</span>
     <span class="c1">// getByText() returns either the node, or **FAILS THE TEST** outright:</span>
     <span class="nx">expect</span><span class="p">(</span><span class="nx">getByText</span><span class="p">(</span><span class="sr">/all about kittens/i</span><span class="p">));</span>
   <span class="p">});</span>
</code></pre></div> </div>
</li>
<li>
<strong>Break the test!.</strong> Remember that <code class="highlighter-rouge">getByText</code>, as well as the rest of the queries that have <code class="highlighter-rouge">get</code> prefix in their names, will cause a test fail, instead of returning a null value. Queries that have the <code class="highlighter-rouge">query</code> prefix return <code class="highlighter-rouge">null</code> if the element is not found.
<div class="language-javascript highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>   <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">renders "all about kittens" text</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
     <span class="kd">const</span> <span class="p">{</span> <span class="nx">queryByText</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">App</span> <span class="o">/&gt;</span><span class="p">);</span>
     <span class="c1">// no matcher needed, although it may be added to improve readability</span>
     <span class="nx">expect</span><span class="p">(</span><span class="nx">getByText</span><span class="p">(</span><span class="sr">/THIS WILL MAKE THE TEST CRASH AND BURN/i</span><span class="p">));</span>
   <span class="p">});</span>
</code></pre></div> </div>
<p><img src="https://tk-assets.lambdaschool.com/8fdc962c-fff0-427f-aa69-41108cf491bb_ScreenShot2019-04-15at17.39.25.png" alt="alt text"></p>
</li>
<li>
<p><strong>Capture using different criteria.</strong> We have many other queries available to us. In our component, we have an <code class="highlighter-rouge">aria-labeledby</code> attribute on the <code class="highlighter-rouge">section</code> to inform screen readers that the element <code class="highlighter-rouge">&lt;h2 id="KittensHeader"&gt;All About Kittens&lt;/h2&gt;</code> is actually a label for the <code class="highlighter-rouge">section</code> element. Let’s capture the <code class="highlighter-rouge">h2</code> by label text! The point is to test like a user would. We expect a particular label to be there for our users!</p>
<div class="language-javascript highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>   <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">renders "all about kittens" text</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
     <span class="kd">const</span> <span class="nx">wrapper</span> <span class="o">=</span> <span class="nx">rtl</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">App</span> <span class="o">/&gt;</span><span class="p">);</span>
     <span class="nx">expect</span><span class="p">(</span><span class="nx">wrapper</span><span class="p">.</span><span class="nx">getByLabelText</span><span class="p">(</span><span class="sr">/All About Kittens/i</span><span class="p">));</span>
   <span class="p">});</span>
</code></pre></div> </div>
</li>
</ol>
<h5>Challenge</h5>
<p>Use the starter code above to create a test that works for the decrement button.</p>
<hr>
<h2 class="display-4">
<a id="project" class="anchor" href="#project" aria-hidden="true"><span class="octicon octicon-link"></span></a>Project</h2>
<ul class="list-group">
<li class="list-group-item">
<h5><a target="_blank" href="https://github.com/LambdaSchool/React-Testing-Contact-Form">React Testing - Contact Form</a></h5>
<p>Write tests for a contact form to give you confidence in the component’s code</p>
</li>
</ul>
<h2 class="display-4">
<a id="review" class="anchor" href="#review" aria-hidden="true"><span class="octicon octicon-link"></span></a>Review</h2>
<h3 class="display-5">Class Recordings</h3>
<p class="lead">You can use class recordings to help you master the material.</p>
<div>
<ul class="list-group list-group-flush">
<li class="list-group-item">
<strong><a target="_blank" href="https://youtu.be/IH-1DYjcpxg">Testing Web Applications for Web35 w/ Warren Longmire</a></strong>
<p>Testing Web Applications</p>
</li>
<li class="list-group-item">
<a href="/archive/WEB3/module/rechTQVfCg4p85Hoi">All previous recordings</a>
</li>
</ul>
</div>
<h3 class="display-5">Demonstrate Mastery</h3>
<p>To demonstrate mastery of this module, you need to complete and pass a code review on each of the following:</p>
<ul>
<li>Objective challenge: <p>Research other types of tests: sanity testing, smoke testing, regression testing, system testing, snapshot testing, acceptance testing.</p>
</li>
<li>Objective challenge: <p>Add two more text elements (headers, paragraphs, anchor tags, etc) to the component and write a test for each of them to assert that they are being rendered.</p>
</li>
<li>Objective challenge: <p>Use the starter code above to create a test that works for the decrement button.</p>
</li>
<li>Project: React Testing - Contact Form</li>
</ul>
</div>
</div>
</div>
</main>
</div>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-80850900-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());

  gtag('config', 'UA-80850900-4');
</script>
<script type="text/javascript">
  function getDomain() {
    const domainName = window.location.hostname.split('.')[1];
    return `${domainName}.com`;
  }
</script>
<script src="" integrity="" crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
<script src="/assets/js/vendor/popper.min.js" integrity="" crossorigin="anonymous"></script><script src="/dist/js/bootstrap.min.js" integrity="" crossorigin="anonymous"></script><script src="/assets/js/activate.js"></script>
<script src="/assets/js/jekyll-search.js" type="text/javascript"></script>
<script type="text/javascript">
  SimpleJekyllSearch.init({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('results-container'),
    dataSource: '/search.json',
    searchResultTemplate: '<li class="list-group-item"><a href="{url}" title="Testing Web Applications">{title}</a></li>',
    noResultsText: '',
    limit: 10,
    fuzzy: true,
  })
</script>
<script src="/assets/js/mermaid.min.js"></script><script type="text/javascript">
  if (window.attachEvent) {
    window.attachEvent('onload', verifySignedIn);
  } else {
    if (window.onload) {
      var currentOnLoadFn = window.onload;
      var newOnLoadFn = function (evt) {
        currentOnLoadFn(evt);
        verifySignedIn();
      };
      window.onload = newOnLoadFn;
    } else {
      window.onload = verifySignedIn;
    }
  }

  function verifySignedIn() {
    if (isPagePublic()) {
      return showPageContents();
    }

    window.__user = null;
    isSignedIn().then((user) => {
      window.__user = user;

      if (!user.signedIn) {
        redirectToSignIn();
      } else if (!user.student && !window.__openToAdmissions) {
        showUnauthorizedMessage();
      } else {
        showPageContents();
      }
    });
  }

  function isPagePublic() {
    const openCourses = [
      'and-pre',
      'ds-pre',
      'fsw-pre',
      'help',
      'ios-pre',
    ];

    const openPages = [
      'cs-and',
      'cs-fsw',
      'cs-ios',
      'cr',
      'ds',
      'jx',
      'p4s',
      'ux',
    ];

    const pathParts = window.location.pathname.split('/');
    const courseName = pathParts[1];
    const pageName = pathParts[pathParts.length - 1];

    return openCourses.includes(courseName) || openPages.includes(pageName);
  }

  function isSignedIn() {
    const isDeployPreview = window.location.hostname.startsWith('deploy-preview') && window.location.hostname.endsWith('netlify.com');

    if (isDeployPreview) return Promise.resolve({ signedIn: true, student: true });

    return fetch(`${getAuthBaseUrl()}/whoami`, { credentials: 'include' })
      .then((response) => response.text())
      .then((userAsText) => userAsText ? JSON.parse(userAsText) : null)
      .then((userData) => ({ signedIn: Boolean(userData), student: Boolean(userData && userData.airtableId), id: userData ? userData.id : null, email: userData ? userData.email : null }))
      .catch((error) => {});
  }

  function redirectToSignIn() {
    const signInUrl = `${getAuthBaseUrl()}/sign-in?redirect=${encodeURIComponent(window.location.href)}&reason=auth_required`
    const redirectMessage = document.querySelector('#redirect-message');
    redirectMessage.style.display = "block";
    redirectMessage.innerHTML = `<div>You are being redirected to the sign in page. If you aren't redirected automatically, you can use <a href=${signInUrl}>this link</a>.</div>`
    window.location = signInUrl;
  }

  function showPageContents() {
    document.querySelector('#content-wrapper').style.visibility = 'visible';
  }

  function showUnauthorizedMessage() {
    document.querySelector('#unauthorized-message').style.display = 'block';
  }

  function getAuthBaseUrl() {
    const domain = getDomain();
    const authBaseUrl = `https://auth.${domain}`;
    return authBaseUrl;
  }
</script><script src="/assets/js/docs.min.js"></script><script>
  var MathJax = {
    tex: {
      inlineMath: [['$$', '$$'], ['\[', '\])']]
    },
    "HTML-CSS": {
      styles: {
        ".MathJax span": {
          color: "#000000"
        }
      }
    }
  }
</script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
<script>
  handleExternalLinks();

  function handleExternalLinks() {
    const domain = getDomain();
    const links = document.querySelectorAll('a');
    return links.forEach((link) => {
      if (!link.host.includes(domain)) link.target = '_blank';
    })
  };
</script>
</div>
</body>
</html>
