

<a href="#content" id="skippy" class="sr-only sr-only-focusable"></a>

<span class="skiplink-text">Skip to main content</span>

<a href="/" class="navbar-brand"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMyIgaGVpZ2h0PSIzNSIgdmlld2JveD0iMCAwIDMzIDM1IiBmaWxsPSJub25lIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0wIDBWMTYuMDYwOUMwIDI3LjczMzUgOS4wODkyOSAzMS43ODQzIDE1LjczMjEgMzQuNzUxM0gxNS43NUwxNi4yODU3IDM1QzE2LjQxMDcgMzQuOTI4OSAxNi41MzU3IDM0Ljg3NTYgMTYuNjc4NiAzNC44MjIzQzE2Ljc1IDM0Ljc4NjggMTYuODM5MyAzNC43NTEzIDE2LjkxMDcgMzQuNzE1N0MyMy41NzE0IDMxLjc2NjUgMzIuNjk2NCAyNy42OTggMzIuNjk2NCAxNi4wNjA5VjBIMFpNMjAuNzA3MSAyMy40NTM2TDIwLjM1NzEgMjIuNTEwMkwxNS42MDcxIDEwLjA3MzZDMTUuMzIxNCAxMC44MDIgMTQuNjYwNyAxMi41NjA5IDEzLjk0NjQgMTQuNDQ0MkwxMS4yMTQzIDIxLjc4MTdDMTEuMDg5MyAyMi4xMzcxIDExLjE2MDcgMjIuMzE0NyAxMS4yNSAyMi40MzkxQzExLjQ0NjQgMjIuNjcwMSAxMS44NzY4IDIyLjY3MDEgMTIuNTU1NCAyMi42NzAxSDEyLjY3ODZMMTIuNjc2OCAyMy40NTE4SDcuNTY5NjRWMjIuNjcwMUg3Ljk2MjVDOC42NTg5MyAyMi42NzAxIDkuMjMwMzYgMjIuMzY4IDkuNjU4OTMgMjEuNTE1MkwxMC4xNzY4IDIwLjM0MjZMMTQuOTA4OSA4LjI5Njk2TDE0LjA2OTYgNi4wNzYxNEgxOC40ODA0TDI0LjU2OTYgMjIuMDEyN0wyNS4xMjUgMjMuNDUzNkgyMC43MDcxWiIgZmlsbD0iI0VDMzk0NCI+PC9wYXRoPgo8L3N2Zz4=" /></a>

![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdib3g9IjAgMCAzMCAzMCIgd2lkdGg9IjMwIiBoZWlnaHQ9IjMwIiBmb2N1c2FibGU9ImZhbHNlIj48dGl0bGU+TWVudTwvdGl0bGU+PHBhdGggc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNNCA3aDIyTTQgMTVoMjJNNCAyM2gyMiI+PC9wYXRoPjwvc3ZnPg==)

#### Web API: Java

<a href="/web4java/sprint/recnLDyTtONLTMiFJ" class="bd-toc-link">1.  Java Precourse Information</a>

-   [Welcome to Java Spring](/web4java/module/recfnUAvFbeyIAHib/)
-   [Java Spring Course Table of Contents](/web4java/module/recjH0lMflsFIVzDM/)

<a href="/web4java/sprint/recoJ4ZqNQWX3cy6E" class="bd-toc-link">2.  Java Fundamentals</a>

-   [Java - JDK and Java Classes](/web4java/module/recAGVTYNZyJbEFpu/)
-   [Java Interfaces, Abstract Classes, Lambda Expression](/web4java/module/rec6Hrk77HupYeoN5/)
-   [Java - RDBMS and SQL Basics](/web4java/module/recyJ663TrxVgpqY9/)
-   [Java - Intro to Maven, Spring, and Tomcat Using REST API](/web4java/module/recqtftA9E98qpbak/)

<a href="/web4java/sprint/recRVUSWQEtosl0Cz" class="bd-toc-link">3.  RDBMS and Intro to APIs</a>

-   [Java - Spring Database Creation Including Seed Data](/web4java/module/recb0OVmRrJzqhH4D/)
-   [Java - Read Data using CRUD Operations](/web4java/module/rec3THcdjv8BumGCt/)
-   [Java - Inserting Deleting and Updating Data using CRUD Operations](/web4java/module/recJihkiNn2KH2nEW/)
-   [Java - Data Modeling and Auditing Fields with custom querying](/web4java/module/rec2oQCFWOVShtxIx/)

<a href="/web4java/sprint/recSqm5AAEkJcIl3p" class="bd-toc-link">4.  Java Frameworks</a>

-   [Java - Exception Handling](/web4java/module/rec3E1WYDyoiEF1e3/)
-   [Java - User Authentication](/web4java/module/rececDV2OMIUcY2eH/)
-   [Java - Automated Testing](/web4java/module/recDboXln5wm4aKJt/)
-   [Java - Java Deployment and Best Practices](/web4java/module/rec7pCiBPzI4DkAJT/)

<a href="/web4java/sprint/recC5dhR9menaROwx" class="bd-toc-link">5.  WEB Unit 4 Java Build</a>

<a href="/" class="navbar-brand"><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTM1IiBoZWlnaHQ9IjM1IiB2aWV3Ym94PSIwIDAgNzU2IDE5NyIgZmlsbD0iI2VjMzk0NCI+PGc+PHBhdGggZD0iTTI5Mi45LDEyNi42aC02LjdjLTksMC0xMi42LTEuOS0xMi42LTkuNVY0OC41YzAtNy43LDEuNi04LjYsMTEuNC05Ljd2LTQuNWgtNDEuM3Y0LjUgYzkuOCwxLjEsMTEuNCwxLjksMTEuNCw5Ljd2NjkuM2MwLDcuNy0xLjYsOC42LTExLjQsOS43djQuNWg3My43bDQuOS0yOS40aC00LjRDMzA4LjUsMTE5LjYsMzAzLjksMTI2LjYsMjkyLjksMTI2LjZ6Ij48L3BhdGg+PHBhdGggZD0iTTM4NS41LDEyMS4xVjc5LjNjMC0xNS44LTkuNC0yMi40LTI2LjYtMjIuNGMtMTUsMC0yNi44LDYuNi0yNi44LDE5LjNjMCwyLjQsMC4yLDMuMywwLjgsNWgxNi42IGMtMC41LTItMC43LTUtMC43LTcuNWMwLTkuNiwzLjYtMTIuNCw5LjQtMTIuNGM2LjQsMCw5LjcsMiw5LjcsMTQuNHYxMS4ybC0yMC44LDcuN2MtMTAuNiw0LjEtMTkuMyw4LjgtMTkuMywyMC43IGMwLDEwLjksNy41LDE3LjgsMTguNiwxNy44YzkuOSwwLDE3LjQtNi4yLDIxLjktMTIuMWwwLjEtMC4xbDAsMFYxMzJoMjZ2LTQuNEMzODcuNywxMjcuMSwzODUuNSwxMjYuMiwzODUuNSwxMjEuMXogTTM2OCwxMTcuOCBjLTQuNCwzLjMtNy42LDUuMy0xMiw1LjRjLTcuNywwLTExLjItNS4yLTExLjItMTIuNmMwLTcuNywzLjYtMTEuMiw5LjgtMTMuNWwxMy40LTUuNFYxMTcuOEwzNjgsMTE3Ljh6Ij48L3BhdGg+PHBhdGggZD0iTTUxNC40LDEyMVY3OS41YzAtMTQuOC02LTIyLjQtMTguNy0yMi40Yy0xMS41LDAtMTkuNCw2LjYtMjUuNSwxMy45Yy0xLjgtOS42LTcuNy0xMy45LTE3LjgtMTMuOSBjLTExLjQsMC0xOC43LDYuMi0yNC44LDEzLjZWNTdoLTIuM2wtMjMuOCw3LjR2Mi40bDguNiw1djQ5LjRjMCw1LTIuMSw2LjEtOC45LDYuNHY0LjRoMzUuMXYtNC40Yy02LjctMC4zLTguNy0xLjMtOC43LTYuNHYtNDcgYzQuNy0zLjYsOS41LTYuNSwxNS41LTYuNWM3LjYsMCwxMC41LDQuMiwxMC41LDEyLjd2NDAuOGMwLDUtMS45LDYuMS04LjcsNi40djQuNGwzNC44LDB2LTQuNGMtNi43LTAuMy04LjYtMS4zLTguNi02LjR2LTQ3IGM0LjctMy42LDkuNS02LjUsMTUuNS02LjVjNy42LDAsMTAuNSw0LjIsMTAuNSwxMi43bC0wLjEsNDAuNWMwLDUtMS44LDYuNC04LjYsNi43bDAsNC40aDM1LjF2LTQuNCBDNTE2LjcsMTI3LjQsNTE0LjQsMTI2LjEsNTE0LjQsMTIxeiI+PC9wYXRoPjxwYXRoIGQ9Ik01NzMuMiw1Ny4zYy0xMSwwLTE4LjUsNS43LTIzLjQsMTIuOFYyMi45aC0yLjdsLTIzLjQsNi44djIuNWw4LjYsNC41VjEzMmgyLjlsOC0zLjVjNS44LDMuMywxMi4zLDUsMjAuMiw1IGMyMC44LDAsMzcuNC0xNS44LDM3LjQtNDIuNkM2MDAuOSw2OS45LDU5MC40LDU3LjMsNTczLjIsNTcuM3ogTTU2My40LDEyOC43Yy01LjQsMC0xMC4zLTIuNC0xMy43LTcuOVY3My42IGMzLjQtMy40LDguNS01LjcsMTMuNS01LjdjMTMuOSwwLDIwLDEyLjgsMjAsMjkuNUM1ODMuMywxMTQuNyw1NzUuOCwxMjguNSw1NjMuNCwxMjguN3oiPjwvcGF0aD48cGF0aCBkPSJNNjc3LDEyMS4yVjIyLjhoLTIuNkw2NTEsMjkuNlYzMmw4LjYsNC41djI1LjdjLTMuNC0zLjItOC44LTUuMS0xNS41LTUuMWMtMTkuOSwwLTM1LjIsMTUuMy0zNS4yLDQxLjMgYzAsMjAuNywxMS4yLDM0LjYsMjguMSwzNC42YzkuOCwwLDE3LTUuMywyMi42LTEzLjF2MC45VjEzMmgyNi4zbDAtNC40QzY3OS4xLDEyNy4zLDY3NywxMjYuMyw2NzcsMTIxLjJ6IE02NTkuNiwxMTcuMSBMNjU5LjYsMTE3LjFjLTMuNCwzLjQtOCw1LjEtMTMuMiw1LjFjLTEzLjIsMC0yMC40LTEyLjgtMjAuNC0yOS44YzAtMTcuOCw3LjMtMjkuMiwxOS41LTI5LjJjOC43LDAsMTQuMSw2LjksMTQuMSwxOC4zIEw2NTkuNiwxMTcuMXoiPjwvcGF0aD48cGF0aCBkPSJNNzQ3LjEsMTIxLjFWNzkuM2MwLTE1LjgtOS40LTIyLjQtMjYuNi0yMi40Yy0xNSwwLTI2LjgsNi42LTI2LjgsMTkuM2MwLDIuNCwwLjIsMy4zLDAuOCw1aDE2LjYgYy0wLjUtMi0wLjctNS0wLjctNy41YzAtOS42LDMuNi0xMi40LDkuNC0xMi40YzYuNCwwLDkuNywyLDkuNywxNC40djExLjJsLTIwLjgsNy43Yy0xMC42LDQuMS0xOS4zLDguOC0xOS4zLDIwLjcgYzAsMTAuOSw3LjUsMTcuOCwxOC42LDE3LjhjOS45LDAsMTcuNC02LjIsMjEuOS0xMi4xdi0wLjFoMC4xbDAsMTEuMWwyNiwwLjF2LTQuNUM3NDkuMywxMjcuMSw3NDcuMSwxMjYuMiw3NDcuMSwxMjEuMXogTTcyOS42LDExNy44Yy00LjQsMy4zLTcuNiw1LjMtMTIuMSw1LjRjLTcuNywwLTExLjItNS4yLTExLjItMTIuNmMwLTcuNywzLjYtMTEuMiw5LjgtMTMuNWwxMy40LTUuNEw3MjkuNiwxMTcuOEw3MjkuNiwxMTcuOHoiPjwvcGF0aD48L2c+PHBhdGggZD0iTTAsMHY5MC40YzAsNjUuNyw1MC45LDg4LjUsODguMSwxMDUuMmgwLjFsMywxLjRjMC43LTAuNCwxLjQtMC43LDIuMi0xYzAuNC0wLjIsMC45LTAuNCwxLjMtMC42IGMzNy4zLTE2LjYsODguNC0zOS41LDg4LjQtMTA1VjBIMHogTTExNiwxMzJsLTItNS4zbC0yNi42LTcwYy0xLjYsNC4xLTUuMywxNC05LjMsMjQuNmwtMTUuMyw0MS4zYy0wLjcsMi0wLjMsMywwLjIsMy43IGMxLjEsMS4zLDMuNSwxLjMsNy4zLDEuM0g3MWwwLDQuNEg0Mi40bDAtNC40aDIuMmMzLjksMCw3LjEtMS43LDkuNS02LjVsMi45LTYuNmwyNi41LTY3LjhsLTQuNy0xMi41aDI0LjdsMzQuMSw4OS43bDMuMSw4LjFIMTE2eiI+PC9wYXRoPjwvc3ZnPg==" /></a>

#### Web API: Java

<a href="/web4java/sprint/recnLDyTtONLTMiFJ" class="bd-toc-link">1.  Java Precourse Information</a>

-   [Welcome to Java Spring](/web4java/module/recfnUAvFbeyIAHib/)
-   [Java Spring Course Table of Contents](/web4java/module/recjH0lMflsFIVzDM/)

<a href="/web4java/sprint/recoJ4ZqNQWX3cy6E" class="bd-toc-link">2.  Java Fundamentals</a>

-   [Java - JDK and Java Classes](/web4java/module/recAGVTYNZyJbEFpu/)
-   [Java Interfaces, Abstract Classes, Lambda Expression](/web4java/module/rec6Hrk77HupYeoN5/)
-   [Java - RDBMS and SQL Basics](/web4java/module/recyJ663TrxVgpqY9/)
-   [Java - Intro to Maven, Spring, and Tomcat Using REST API](/web4java/module/recqtftA9E98qpbak/)

<a href="/web4java/sprint/recRVUSWQEtosl0Cz" class="bd-toc-link">3.  RDBMS and Intro to APIs</a>

-   [Java - Spring Database Creation Including Seed Data](/web4java/module/recb0OVmRrJzqhH4D/)
-   [Java - Read Data using CRUD Operations](/web4java/module/rec3THcdjv8BumGCt/)
-   [Java - Inserting Deleting and Updating Data using CRUD Operations](/web4java/module/recJihkiNn2KH2nEW/)
-   [Java - Data Modeling and Auditing Fields with custom querying](/web4java/module/rec2oQCFWOVShtxIx/)

<a href="/web4java/sprint/recSqm5AAEkJcIl3p" class="bd-toc-link">4.  Java Frameworks</a>

-   [Java - Exception Handling](/web4java/module/rec3E1WYDyoiEF1e3/)
-   [Java - User Authentication](/web4java/module/rececDV2OMIUcY2eH/)
-   [Java - Automated Testing](/web4java/module/recDboXln5wm4aKJt/)
-   [Java - Java Deployment and Best Practices](/web4java/module/rec7pCiBPzI4DkAJT/)

<a href="/web4java/sprint/recC5dhR9menaROwx" class="bd-toc-link">5.  WEB Unit 4 Java Build</a>

-   [Prepare](#prepare)
-   [Learn](#learn)
-   [Guided Project](#guided-project)
-   [Project](#project)
-   [Review](#review)

# Java - RDBMS and SQL Basics

<span class="lead"> </span>

<span id="RDBMS_and_SQL"></span>

**At the end of this module, you should be able to:**

-   explain what a Relational Database is and its core components
-   explain what SQL is and its advantages over other RDBMS
-   query data from a single table
-   query multiple tables data
-   perform CRUD operations on an RDBMS using SQL
-   open an existing database, or create a new one, while adding tables to a PostgreSQL database
-   explain data normalization and normal forms while normalizing data to the 3rd Normal Form (3NF)

#### Pro Tip

When talking about your journey, don’t focus on things you don’t know yet, focus on what you’ve learned and how quickly.

## <a href="#prepare" id="prepare" class="anchor"><span class="octicon octicon-link"></span></a>Prepare

Review each preclass resource before class.

-   

    # An error occurred.

    [Try watching this video on www.youtube.com](https://www.youtube.com/watch?v=cfajuXDXjko), or enable JavaScript if it is disabled in your browser.

-   

    # An error occurred.

    [Try watching this video on www.youtube.com](https://www.youtube.com/watch?v=ZwMMR5C8KiM), or enable JavaScript if it is disabled in your browser.

-   

    # An error occurred.

    [Try watching this video on www.youtube.com](https://www.youtube.com/watch?v=p1gVOn8jzwo), or enable JavaScript if it is disabled in your browser.

-   

    # An error occurred.

    [Try watching this video on www.youtube.com](https://www.youtube.com/watch?v=5CGlHBeijL0), or enable JavaScript if it is disabled in your browser.

## <a href="#learn" id="learn" class="anchor"><span class="octicon octicon-link"></span></a>Learn

#### Learn to explain what a Relational Database is and its core components

<span id="RDBMS"></span>

##### Overview

Terms to know at the end of this objective:

-   RDBMS
-   Database
-   Table (Relationship)
-   Column (Attribute)
-   Row (tuple)
-   Primary Key
-   Foreign key
-   Index
-   Query
-   View
-   Stored Procedure
-   Triggers

A Rest API Backend system consists of two main parts:

1.  A database to persistently store data and;
2.  An API application to access that stored data.

Most of the work we do in class is related to building the API Application. This Module is related to the database. Each one of these should be able to stand alone. Different APIs could access your database. As we will see when we start testing and deploying our applications, our API will be able to access different databases.

### Structure

A RDBMS is a Relational Database Management System.

-   Many types of databases exist
    -   Relational - by far the most common so the one we study
    -   NoSQL - something to investigate on your own. See MongoDB
    -   Object Oriented - yes like Java is Object Oriented. These never really gained popularity
    -   Others depending on who you ask!

A RDBMS is a server that manages 1 or more databases. So for example, an RDBMS might manage:

-   Dogs Database
-   Cats Database
-   Rabbits Database

In the example above we saw 3 databases in our RDBMS. Sometimes, in fact, fairly often, we will see only 1 database per RDBMS. Even though that is common do not get lulled into believing databases are the same thing as database management systems. Think of the RDBMS as a server vs the databases as applications found on that server.

Popular RDBMS include:

-   PostgresSQL (the one we will be studying)
-   MySQL
-   SQLite
-   Oracle
-   MS SQL Server

We interact mostly with the databases themselves, but that interaction is managed by the RDBMS.

### The Database

A Database is a collection of data organized for easy retrieval and manipulation. A person who manages a database is called a Database Administrator (DBA).

-   Relational Databases are a special type of database and are the most common.
    -   Based off of Relational Algebra
    -   Contains a collections of tables, which contain columns and rows
    -   Accessed through SQL

#### Database Structure

Databases contain tables. A table is a collection of rows which contain columns. Below is a sample of a table called bunnies

<table><thead><tr class="header"><th>Id</th><th>Name</th><th>weight</th></tr></thead><tbody><tr class="odd"><td>1</td><td>BarnBarn</td><td>10.5</td></tr><tr class="even"><td>2</td><td>Cinnamon</td><td>11.0</td></tr></tbody></table>

-   **Columns** are
    -   in the example
        -   Id
        -   Name
        -   weight
    -   Each column represents a field or attribute that is common to all row, records.
    -   Columns should have a descriptive name and a data type appropriate for the attribute it represents.
-   **Rows** are
    -   in the example
        -   `1 BarnBarn 10.5`
        -   `2 Cinnamon 11.0`

    -   Each row in a table represents one distinct record.

    -   Tables normally have more rows than columns

    -   Tables have Primary Keys t”hat uniquely identify each row. The `id` field in the example.

    -   The relationships with other tables are represented by **Foreign Keys**. That is when we include the primary key from another table in our table to show which rows are related to each other.

    -   For example assume we have a color table like below
        -   `bunnyid` is a foreign key to the bunny table
        -   BarnBarn (bunnyid 1) has the colors white and brown
        -   Cinnamon (bunnyid 2) has the color brown.
        -   We get the names BarnBarn and Cinnamon by looking them up in the bunny table using the bunnyid

<table><thead><tr class="header"><th>Id</th><th>color</th><th>bunnyid</th></tr></thead><tbody><tr class="odd"><td>1</td><td>white</td><td>1</td></tr><tr class="even"><td>2</td><td>brown</td><td>2</td></tr><tr class="odd"><td>3</td><td>brown</td><td>1</td></tr></tbody></table>

A note about terms and how Java, Databases and Relational Algebra are related. The chart below shows what terms are used for what in each discipline.

<table><thead><tr class="header"><th>RDBMS</th><th>Relational Algebra</th><th>Java</th></tr></thead><tbody><tr class="odd"><td>Table</td><td>Relation</td><td>Class</td></tr><tr class="even"><td>Column</td><td>Attribute</td><td>Field</td></tr><tr class="odd"><td>Row</td><td>Tuple</td><td>Object</td></tr></tbody></table>

-   **Indexes** are special database object used to speed up data searching.
    -   If you normally do searches using a particular piece of data, you would normally index that data. How to index is very specific to the RDBMS or programming language, framework you are using.
    -   In most cases, we will allow Spring Data to generate indexes for us.
-   **Views** are special database objects that looks and feels like a table but do not store data. These are special queries that combine, filter, sort table data.
    -   Note a query is simply a request for information from a database. Think of a GET in REST APIs
    -   can be queried like a table.
    -   can combine data from two or more tables.
    -   use to simplify data access
-   **Stored Procedures** or Functions are written in a form of SQL to perform a series of operations.
    -   Stored in the database under a unique name and can be called like built in functions.
    -   Often used to perform data intensive operations and return only the result to clients.
-   **Triggers** are a special type of store procedure.
    -   Executes automatically in response to events like inserting/updating/deleting data.

Lots of new terms here. You might want to scan through again. The rest of the course assumes you have familiarity with these terms! Before moving on, make sure sure you have PostgreSQL installed! You can find the installation instructions under the software installs for this sprint.

##### Dig Deeper

-   [MongoDB and Java](https://www.mongodb.com/blog/post/quick-start-java-and-mongodb--starting-and-setup)  
    MongoDB and Java
-   [All Things RDBMS Related](https://www.guru99.com/dbms-tutorial.html)  
    All Things RDBMS Related from Guru99
-   [Study DBMS](https://www.studytonight.com/dbms/overview-of-dbms.php)  
    Study Tonight Overview of DBMS
-   [Wikipedia](https://en.wikipedia.org/wiki/Relational_database)  
    Wikipedia does have good explanations!

------------------------------------------------------------------------

#### Learn to explain what SQL is and its advantages over other RDBMS

<span id="SQL"></span>

##### Overview

### Software Needed

-   Web browser - Chrome, Safari, Opera, and Edge. Firefox is not supported

### Terms and Concepts

#### What is SQL?

**SQL** stands for Structured Query Language. It is used to communicate with a database inside the RDBMS

-   Advantages of SQL
    -   High speed
    -   No coding needed
    -   Well defined standards – ISO and ANSI
    -   Portability
    -   Interactive language
    -   Multiple Data Views possible
-   SQL can be divided into different types:
    -   DML (DATA MANIPULATION LANGUAGE)
        -   SELECT, INSERT, UPDATE, DELETE
    -   DDL (DATA DEFINITION LANGUAGE)
        -   CREATE, ALTER, DROP
    -   DCL (DATA CONTROL LANGUAGE)
        -   GRANT, REVOKE
    -   TCL (TRANSACTION CONTROL LANGUAGE)
        -   BEGIN, TRAN, COMMIT, ROLLBACK

Note: We will be using DML to query our data and DDL to manage the schema, or structure, of our tables.

-   Some of the most common SQL statements or keywords
    -   `SELECT` - extracts data from a database
    -   `UPDATE` - updates data in a database
    -   `DELETE` - deletes data from a database
    -   `INSERT INTO` - inserts new data into a database
    -   `CREATE DATABASE` - creates a new database
    -   `ALTER DATABASE` - modifies a database
    -   `CREATE TABLE` - creates a new table
    -   `ALTER TABLE` - modifies a table
    -   `DROP TABLE` - deletes a table
    -   `CREATE INDEX` - creates an index (search key)
    -   `DROP INDEX` - deletes an index

### Examples of DML

#### Overview Query a single table

Select all the rows with all their columns from a customer table:

-   Notice the keywords `SELECT` and `FROM` are in uppercase and the data, table, name `customers` is lowercase. This is a common convention but SQL is generally case insensitive.
-   `SELECT` tells us what columns we want
    -   The `*` is a wild card in case meaning all available columns.
-   `FROM` tells us from which table to get the data

<!-- -->

    SELECT *
    FROM customers

#### Overview Query multiple tables

Join, combine, the orders and customer table based on the primary key for customer. Return the results ordered by customer’s first name and include only the columns order number, total amount, first name, and last name in the results

-   SELECT tells us what columns we want
    -   o.orderid - the order id column from the o table which is the orders table
    -   c.customername - the customer name column from the c table which is the customers table
    -   c.contactname - the contact name column from the c table which is the customers table
-   FROM tells us from which tables to get the data
    -   orders which we give the alias o. Normally when we give a table an alias, or nickname to use elsewhere in the query, we use the first letter of the table.
    -   customers which we give the alias c.
-   ON tells us how are tables are related and on what columns the tables are to be joined, combined
    -   o.CustomerId the foreign key to the customer table found in the orders table
    -   c.CustomerId the primary key of the customer table
    -   The columns do NOT have to have the same name but must be the same data type!
-   ORDER BY tells us how to order our returned data. By default the data is returned unordered. By default we cannot know what the order will be!
    -   c.customername - order by the customername column in the c table which is the customers table

<!-- -->

    SELECT o.orderid, c.customername, c.contactname
    FROM orders o JOIN customers c
    ON o.customerid = c.customerid
    ORDER BY c.customername

##### Follow Along

### A Single table

To practice with SQL, we are going to use a popular online SQL Editor - W3School’s Type-SQL Editor. Not only does W3Schools provide a good online editor, they also provide good explanations of SQL statements. So let’s try them out.

1.  Surf to the [W3Schools Try-SQL Editor](https://www.w3schools.com/sql/trysql.asp?filename=trysql_select_all)
2.  Now enter the sql code below. For this one, it is already entered for you.
3.  Click on the green button that says `RUN SQL >>`
4.  Fix any errors and keep trying until you a list of customers in the Results panel.
5.  Stay on this page, we have more to try!
6.  You will learn more by typing in the SQL instead of copying and pasting!

<!-- -->

    SELECT *
    FROM customers

#### Multiple tables

-   Surf to the [W3Schools Try-SQL Editor](https://www.w3schools.com/sql/trysql.asp?filename=trysql_select_all)
    -   You may already be there.
-   Now enter the sql code below and try it out!

<!-- -->

    SELECT o.orderid, c.customername, c.contactname
    FROM orders o JOIN customers c
    ON o.customerid = c.customerid
    ORDER BY c.customername

##### Dig Deeper

-   [SQL Tutorial](http://www.postgresqltutorial.com/)  
    THE Online PostgreSQL Tutorial
-   [PostgreSQL Exercises](http://pgexercises.com/)  
    PostgreSQL Exercises
-   [SQL Tutorial](https://sqlzoo.net/)  
    Another Good SQL Tutorial

------------------------------------------------------------------------

#### Learn to query data from a single table

<span id="Query_Single_Table"></span>

##### Overview

### Software Needed

-   Web browser - Chrome, Safari, Opera, or Edge. Firefox is not supported.

Terms to know at the end of this objective

-   Query
-   SELECT
-   FROM
-   WHERE
-   GROUP BY
-   HAVING
-   ORDER BY
-   Alias
-   Aggregate function

### Overview A Basic Query

A **Query** is a way to request information for a database.

    SELECT <selection>
    FROM <table name>;

    SELECT first_name, last_name, salary
    FROM workers;

-   `SELECT` tells us what columns we want. We list the column separated by a comma
-   `FROM` tells us from which table to get the data
-   `;` SQL statements typically end with a semicolon
-   Conventionally SQL *keywords* are in uppercase while *data*, *tables*, and *columns*, are in lowercase. But not always. Case technically does not matter.

### Overview Extending The Query

We can extend our basic query with clauses for the following:

-   sorting, ordering, data
-   filtering data
-   aggregating data
-   among other functions

#### Overview Ordering our data

-   `SELECT` tells us what columns we want
    -   The `*` is a wild card indicating selection of all available columns.
-   `ORDER BY` tells us in what order to return the data. Without it data is returned in an unknown order. The order is the order the RDBMS saved the data in the database. Thus the order is dependent upon how saving is done by the RDBMS and space available on the computer.
    -   By default sorting is ascending. To sort descending, include the `DESC` key word after the column name
    -   Multilevel sorting is supported
        -   Rows are sorted by the first column
        -   Then within the first column, ordered by the second column
    -   You can reference columns by the number, that is the order in which they appear in the `SELECT` list
        -   The first column in the list is 1
        -   The second column in the list is 2 and so on
-   `;` SQL statements typically end with a semicolon

#### Overview Filtering our data

Adding a `WHERE` clause allows us to filter out the data we do not want. The `WHERE` clause allows us to specify just the data we want to return.

The `WHERE` clause is followed by any expression that returns a boolean, typically comparing column in the table to a constant or another column.

We combine this `WHERE` clause with the `SELECT`, `FROM`, and `ORDER BY` clauses to produce complete queries.

The `WHERE` recognizes `AND` to combine statement, `OR` to check one *or* the other, and `NOT` to reverse the output of the statement. For example

    SELECT *
    FROM workers
    WHERE salary > 50000
    ORDER BY last_name;

`SELECT *` selects all columns  
`FROM workers` says select from the workers table  
`WHERE salary > 50000` include only those workers with salary over 50,000

    SELECT *
    FROM workers
    WHERE salary > 50000 AND country = 'USA';

`WHERE salary > 50000 AND country = 'USA'` include only those workers with salary over 50,000 and in country USA

#### Overview Aggregating Our Data

SQL provides a number of aggregating functions, a way to get overall ideas about our data. For example:

-   `COUNT(*)` - how many records fit our criteria
-   `DISTINCT <column name>` - a unique list of the data in the columns provided
-   `COUNT(DISTINCT <column name>)` - a count of the unique values in the column provided
-   `AVG(<column name>)` - calculates the average of the values in the provided column
-   `MIN(<column name>)` - gets the minimum value of the column provided. works with strings as well as numbers!
-   `MAX(<column name>)` - gets the maximum value of the column provided. works with strings as well as numbers!
-   `SUM(<column name>` - calculates the sum of the values in the provided column
-   And of course you can combine the above with `SELECT`, `FROM`, `ORDER BY`, and `WHERE` to get a full picture of your data.

#### Filtering Aggregated Data

Now let’s say I want a list of worker salaries where more than one worker makes that salary who are in the country USA. Order by the number of workers in that salary from most workers to least.

-   In the query below, notice the required addition of the `HAVING` statement telling us by what aggregate function do we want to filter our data.
    -   An **aggregate function** is a function that summarizes, or aggregates, data in order to get a better overview of the data
    -   `WHERE` filters by columns
    -   `HAVING` filters by aggregate functions
    -   You can have both in the SQL statement

-   To make the report headers more readable, we can put in an alias, or nickname, for our aggregate function. In this case I called it `numemps`
    -   This alias idea works for all columns. In this query I am giving an alias of money to salary.
    -   Notice how I can use the alias in place of the actual column name in the query!

-   Order of statements do matter (the code will not compile if not in the correct order), so in required ordered

    -   `SELECT` - what columns do we want
    -   `FROM` - table where to find the data
    -   `WHERE` - filter what data is returned from the table
    -   `GROUP` BY - on what column does the aggregate function operate
    -   `HAVING` - how to filter based off of the aggregate function
    -   `ORDER` BY - how to order the returned data

<!-- -->

    SELECT salary money, count(*) numemps
    FROM workers
    WHERE country = 'USA'
    GROUP BY money
    HAVING numemps > 1
    ORDER BY numemps DESC;

#### Querying tables with Wildcards

Return all workers with names that include letters `jo` preceded by any number of characters and followed by a single character that is preceded by the letter n and any number of characters after that. The names “john”, “johnny”, and “jonathan” would all match.

-   The `%` symbol is used to match multiple characters, a single character or no characters at all.
-   the `_` (underscore) symbol is used to match exactly one character.

The SQL then says:

-   `SELECT` tells us what columns we want
    -   The `*` is a wild card meaning all available columns.
-   `FROM` tells us from which table to get the data in our case `workers`
-   `WHERE` tells us how to filter the data
    -   `first_name` is the column, data, we are going to use to filter the data
    -   `like '%jo_n%’` is how we are going to filter the data
-   `;` SQL statements typically end with a semicolon

<!-- -->

    SELECT *
    FROM workers
    WHERE first_name like '%jo_n%';

##### Follow Along

### We are going to create a workers table

-   Navigate to the [W3Schools Try-SQL Editor](https://www.w3schools.com/sql/trysql.asp?filename=trysql_select_all)
-   Clear any code in editor
-   Now enter this SQL code to create the workers table

<!-- -->

    CREATE TABLE workers
    (
        first_name varchar(255),
        last_name varchar(255),
        salary int,
        department varchar(255),
        country varchar(255)
    )

-   Remember to click the green button `Run SQL >>` to execute, run, your SQL statements!

Results should be:

    You have made changes to the database.

-   Enter the SQL code below to populate, put data into, “seed”, the workers table. This SQL you can copy and paste! This is Data Manipulation Language (DML) code

<!-- -->

    INSERT INTO workers
    VALUES ('BarnBarn', 'Rabbit', 100000, 'MANAGEMENT', 'USA'),
           ('Cinnabun',  'Rabbit', 100000, 'MANAGEMENT', 'USA'),
           ('Ginger', 'Dog', 45000, 'SECURITY', 'CANADA'),
           ('Dottie', 'Dog', 45000, 'HR', 'USA'),
           ('Tiger', 'Cat', 150000, 'BOSS', 'USA');

-   Remember to click the green button `Run SQL >>` to execute, run, your SQL statements!

Results should be:

    You have made changes to the database. Rows affected: 5

### Now let’s query a single table

-   While still on the [W3Schools Try-SQL Editor](https://www.w3schools.com/sql/trysql.asp?filename=trysql_select_all) with the workers table created, enter the following SQL
-   Remember to click the green button `Run SQL >>` to see your Results!

<!-- -->

    SELECT first_name, last_name, salary
    FROM workers;

-   Keep trying until you get the following results!

<table><thead><tr class="header"><th>first_name</th><th>last_name</th><th>salary</th></tr></thead><tbody><tr class="odd"><td>BarnBarn</td><td>Rabbit</td><td>100000</td></tr><tr class="even"><td>Cinnabun</td><td>Rabbit</td><td>100000</td></tr><tr class="odd"><td>Ginger</td><td>Dog</td><td>45000</td></tr><tr class="even"><td>Dottie</td><td>Dog</td><td>45000</td></tr><tr class="odd"><td>Tiger</td><td>Cat</td><td>150000</td></tr></tbody></table>

### Ordering our data

Select all columns from the workers table order by salary from largest to smallest. If workers have the same salary, then sort the workers by first name.

-   While still on the [W3Schools Try-SQL Editor](https://www.w3schools.com/sql/trysql.asp?filename=trysql_select_all) with the workers table created, enter the following SQL
-   Notice the addition of the `ORDER BY` line
-   Remember to click the green button `Run SQL >>` to see your Results!

<!-- -->

    SELECT *
    FROM workers
    ORDER BY salary DESC, first_name;

-   Keep trying until you get the following results!

<table><thead><tr class="header"><th>first_name</th><th>last_name</th><th>salary</th><th>department</th><th>country</th></tr></thead><tbody><tr class="odd"><td>Tiger</td><td>Cat</td><td>150000</td><td>BOSS</td><td>USA</td></tr><tr class="even"><td>BarnBarn</td><td>Rabbit</td><td>100000</td><td>MANAGEMENT</td><td>USA</td></tr><tr class="odd"><td>Cinnabun</td><td>Rabbit</td><td>100000</td><td>MANAGEMENT</td><td>USA</td></tr><tr class="even"><td>Dottie</td><td>Dog</td><td>45000</td><td>HR</td><td>USA</td></tr><tr class="odd"><td>Ginger</td><td>Dog</td><td>45000</td><td>SECURITY</td><td>CANADA</td></tr></tbody></table>

Select the `first_name`,` last_name`, `salary`, and `department` columns from workers table order by department alphabetically. For workers in the same department, order by salary from largest to smallest.

-   While still on the [W3Schools Try-SQL Editor](https://www.w3schools.com/sql/trysql.asp?filename=trysql_select_all) with the workers table created, enter the following SQL
-   Remember to click the green button `Run SQL >>` to see your Results!

<!-- -->

    SELECT name, salary, department
    FROM workers
    ORDER BY 3, 2 DESC;

-   Keep trying until you get the following results!

<table><thead><tr class="header"><th>first_name</th><th>last_name</th><th>salary</th><th>department</th></tr></thead><tbody><tr class="odd"><td>Tiger</td><td>Cat</td><td>150000</td><td>BOSS</td></tr><tr class="even"><td>Dottie</td><td>Dog</td><td>45000</td><td>HR</td></tr><tr class="odd"><td>BarnBarn</td><td>Rabbit</td><td>100000</td><td>MANAGEMENT</td></tr><tr class="even"><td>Cinnabun</td><td>Rabbit</td><td>100000</td><td>MANAGEMENT</td></tr><tr class="odd"><td>Ginger</td><td>Dog</td><td>45000</td><td>SECURITY</td></tr></tbody></table>

### Filtering out data

Select all columns from the workers table where salary is greater than 50,000. Return the results ordered by workers last name.

-   While still on the [W3Schools Try-SQL Editor](https://www.w3schools.com/sql/trysql.asp?filename=trysql_select_all) with the workers table created, enter the following SQL
-   Notice the addition of the `ORDER BY` line
-   Remember to click the green button `Run SQL >>` to see your Results!

<!-- -->

    SELECT *
    FROM workers
    WHERE salary > 50000
    ORDER BY last_name;

-   Keep trying until you get the following results!

<table><thead><tr class="header"><th>first_name</th><th>last_name</th><th>salary</th><th>department</th><th>country</th></tr></thead><tbody><tr class="odd"><td>Tiger</td><td>Cat</td><td>150000</td><td>BOSS</td><td>USA</td></tr><tr class="even"><td>BarnBarn</td><td>Rabbit</td><td>100000</td><td>MANAGEMENT</td><td>USA</td></tr><tr class="odd"><td>Cinnabun</td><td>Rabbit</td><td>100000</td><td>MANAGEMENT</td><td>USA</td></tr></tbody></table>

-   While still on the [W3Schools Try-SQL Editor](https://www.w3schools.com/sql/trysql.asp?filename=trysql_select_all) with the workers table created, enter the following SQL
-   Notice the use of `AND` on the `WHERE` line
-   Remember to click the green button `Run SQL >>` to see your Results!

Select all columns from the workers table where salary is greater than 50,000 *and* the workers are in the country USA.

    SELECT *
    FROM workers
    WHERE salary > 50000 AND country = 'USA';

-   Keep trying until you get the following results!

<table><thead><tr class="header"><th>first_name</th><th>last_name</th><th>salary</th><th>department</th><th>country</th></tr></thead><tbody><tr class="odd"><td>BarnBarn</td><td>Rabbit</td><td>100000</td><td>MANAGEMENT</td><td>USA</td></tr><tr class="even"><td>Cinnabun</td><td>Rabbit</td><td>100000</td><td>MANAGEMENT</td><td>USA</td></tr><tr class="odd"><td>Tiger</td><td>Cat</td><td>150000</td><td>BOSS</td><td>USA</td></tr></tbody></table>

### Aggregating Our Data

Get a distinct list of all departments from the workers table ordered by department

-   While still on the [W3Schools Try-SQL Editor](https://www.w3schools.com/sql/trysql.asp?filename=trysql_select_all) with the workers table created, enter the following SQL

-   Notice the addition of the `DISTINCT` keyword

-   Remember to click the green button `Run SQL >>` to see your Results!

<!-- -->

    SELECT DISTINCT department
    FROM workers
    ORDER BY department;

-   Keep trying until you get the following results!

<table><thead><tr class="header"><th>department</th></tr></thead><tbody><tr class="odd"><td>BOSS</td></tr><tr class="even"><td>HR</td></tr><tr class="odd"><td>MANAGEMENT</td></tr><tr class="even"><td>SECURITY</td></tr></tbody></table>

Get a count of the distinct number of departments in the workers table

-   While still on the [W3Schools Try-SQL Editor](https://www.w3schools.com/sql/trysql.asp?filename=trysql_select_all) with the workers table created, enter the following SQL
-   Notice the addition of `COUNT()`
-   Remember to click the green button `Run SQL >>` to see your Results!

<!-- -->

    SELECT COUNT(DISTINCT department)
    FROM workers;

-   Keep trying until you get the following results!

<table><thead><tr class="header"><th>COUNT(DISTINCT department)</th></tr></thead><tbody><tr class="odd"><td>4</td></tr></tbody></table>

Produce a report that lists the unique salaries that employees earn and how many workers earn that salary.

-   Notice the required addition of the `GROUP BY` statement telling us what column to group the data by. So the aggregate function count works on what column.

-   The column you are grouping by does NOT have to appear in the list of columns you are selecting. Normally it does though!

-   While still on the [W3Schools Try-SQL Editor](https://www.w3schools.com/sql/trysql.asp?filename=trysql_select_all) with the workers table created, enter the following SQL

-   Remember to click the green button `Run SQL >>` to see your Results!

<!-- -->

    SELECT salary, count(*)
    FROM workers
    GROUP BY salary;

-   Keep trying until you get the following results!

<table><thead><tr class="header"><th>salary</th><th>count(*)</th></tr></thead><tbody><tr class="odd"><td>45000</td><td>2</td></tr><tr class="even"><td>100000</td><td>2</td></tr><tr class="odd"><td>150000</td><td>1</td></tr></tbody></table>

### Filtering Aggregated Data

Now let’s say I want a list of worker salaries where more than one worker makes that salary who are in the country USA. Order by the number of workers in that salary from most workers to least.

-   While still on the [W3Schools Try-SQL Editor](https://www.w3schools.com/sql/trysql.asp?filename=trysql_select_all) with the workers table created, enter the following SQL
-   Notice the `GROUP BY` and `HAVING` lines
-   Remember to click the green button `Run SQL >>` to see your Results!

<!-- -->

    SELECT salary money, count(*) numemps
    FROM workers
    WHERE country = 'USA'
    GROUP BY money
    HAVING numemps > 1
    ORDER BY numemps DESC;

-   Keep trying until you get the following resulst!

<table><thead><tr class="header"><th>money</th><th>numemps</th></tr></thead><tbody><tr class="odd"><td>100000</td><td>2</td></tr></tbody></table>

without using aliases we get this SQL query

-   While still on the [W3Schools Try-SQL Editor](https://www.w3schools.com/sql/trysql.asp?filename=trysql_select_all) with the workers table created, enter the following SQL
-   Remember to click the green button `Run SQL >>` to see your Results!

<!-- -->

    SELECT salary, count(*)
    FROM workers
    WHERE country = 'USA'
    GROUP BY salary
    HAVING count(*) > 1
    ORDER BY 2 DESC;

-   Keep trying until you get the following results!

<table><thead><tr class="header"><th>salary</th><th>count(*)</th></tr></thead><tbody><tr class="odd"><td>100000</td><td>2</td></tr></tbody></table>

### Querying tables with Wildcards

Return all workers with names that include letters `jo` preceded by any number of characters and followed by a single character that is preceded by the letter n and any number of characters after that. The names “john”, “johnny”, and “johnathan” would all match.

-   While still on the [W3Schools Try-SQL Editor](https://www.w3schools.com/sql/trysql.asp?filename=trysql_select_all) with the workers table created, enter the following SQL
-   Remember to click the green button `Run SQL >>` to see your Results!

<!-- -->

    SELECT *
    FROM workers
    WHERE first_name like '%jo_n%';

-   Keep trying until you get the following results!

No result.

-   The addition of the keyword `NOT` means to filter out the data that does NOT match the criteria. The reverse of above!
-   While still on the [W3Schools Try-SQL Editor](https://www.w3schools.com/sql/trysql.asp?filename=trysql_select_all) with the workers table created, enter the following SQL
-   Remember to click the green button `Run SQL >>` to see your results!

<!-- -->

    SELECT *
    FROM workers
    WHERE first_name NOT like '%jo_n%';

-   Keep trying until you get the following result!

<table><thead><tr class="header"><th>first_name</th><th>last_name</th><th>salary</th><th>department</th><th>country</th></tr></thead><tbody><tr class="odd"><td>BarnBarn</td><td>Rabbit</td><td>100000</td><td>MANAGEMENT</td><td>USA</td></tr><tr class="even"><td>Cinnabun</td><td>Rabbit</td><td>100000</td><td>MANAGEMENT</td><td>USA</td></tr><tr class="odd"><td>Ginger</td><td>Dog</td><td>45000</td><td>SECURITY</td><td>CANADA</td></tr><tr class="even"><td>Dottie</td><td>Dog</td><td>45000</td><td>HR</td><td>USA</td></tr><tr class="odd"><td>Tiger</td><td>Cat</td><td>150000</td><td>BOSS</td><td>USA</td></tr></tbody></table>

------------------------------------------------------------------------

#### Learn to query multiple tables data

<span id="Query_Multiple_Tables"></span>

##### Overview

### Software Needed

-   Web browser - Chrome, Safari, Opera, and Edge. Firefox is not supported

### Joining Tables

Terms to know at the end of this objective

-   Joins
-   Inner Join
-   Outer Join
-   Right Join
-   Left Join
-   Alias

### `JOIN` Types

-   A `JOIN` clause is used to combine rows from two or more tables, based on a related column between them.

-   When joining tables you have to pick what type of join you want

    -   **inner join**, or the default join, means when you find the columns being matched in both tables
        -   A customer id must exist in both tables before a row gets reported
    -   **left join** means report all rows from the table on the left, the one right after the FROM statement, and only the rows from the other table where the columns match
        -   All rows from the customers table get reported. If a row in the orders table has the same customer id as the one in the customers table then report the data from the orders table as well. If no row in the orders table matches the customer id in the customers table, leave the columns from the orders table NULL.
    -   **right join** means report all rows from the table on the right, the table after the JOIN statement, and only the rows from the other table where the columns match
        -   All rows from the orders table get reported. If a row in the customers table has the same customer id as the one in the orders table then report the data from the customers table as well. If no row in the customers table matches the customer id in the orders table, leave the columns from the customers table NULL.
    -   **full outer join** means all rows from all tables are included.
        -   All rows from the customers and orders tables are included. Where the customers id match, data from both tables is reported. If a customer id is not in either table, the data available is reported while the rest of the fields are left NULL.

The following picture is adapted from [Medium: “SQL” AND “SQL INJECTION ATTACK”](https://medium.com/@mahmethassan/sql-and-sql-injection-attack-6cae6850e308)

![Join Images](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2011%20-%20Java%20with%20RDBMS%20and%20API%20Intros/Module%201%20-%20JX%20Java%20-%20RDBMS%20and%20SQL%20Basics/assets/sql_joins.png)

### Examples of JOIN SQL Statements

Select from the orders table order id and order date and from the customers table customer name

-   joining the orders and customers tables ON the customerid in each table.
-   INNER means to report only the rows for the tables where customerids match

<!-- -->

    SELECT Orders.OrderID, Customers.CustomerName, Orders.OrderDate
    FROM Orders
    INNER JOIN Customers ON Orders.CustomerID=Customers.CustomerID;

Return all customers including orders where present

-   LEFT join pulls the records from the table after the FROM statement - the table listed to the left if all was listed on one line.
-   Joining on the customerid columns in both tables

<!-- -->

    SELECT customers.customerid, customers.customername, orders.orderid, orders.orderdate
    FROM customers
    LEFT JOIN orders
    ON customers.customerid=orders.customerid
    ORDER BY orders.orderid;

Return all rows from customers and orders table, matching data in a single row where appropriate.

-   Notice that we can give aliases to the table names. Normally these aliases are the first letter of the table.
    -   We can use these aliases anywhere we use columns!
    -   Once you alias a table you need to use the alias to reference the table throughout the query

<!-- -->

    SELECT c.customerid, c.customername, o.orderid, o.orderdate
    FROM customers c
    FULL OUTER JOIN orders o
    ON c.customerid=o.customerid
    ORDER BY o.orderid;

We can combine all the SQL statements together. Return all rows from customers and orders table, matching data in a single row where appropriate for orders that have a total amount greater than 100. Return the results ordered by customer name.

    SELECT *
    FROM Orders o
    FULL OUTER JOIN Customers c
    ON o.CustomerID=c.id
    WHERE o.TotalAmount > 100.00
    ORDER BY c.CustomerName;

##### Follow Along

Let’s try out a few JOIN statements.

Select from the orders table order id and order date and from the customers table customer name

-   joining the orders and customers tables ON the customerid in each table.

-   INNER means to report only the rows for the tables where customerids match

-   Surf to the [W3Schools Try-SQL Editor](https://www.w3schools.com/sql/trysql.asp?filename=trysql_select_all)

-   Clear any code in editor

-   Now enter the sql code from below

-   Remember to click the green button `Run SQL >>` to execute, run, your SQL statements!

<!-- -->

    SELECT Orders.OrderID, Customers.CustomerName, Orders.OrderDate
    FROM Orders
    INNER JOIN Customers ON Orders.CustomerID=Customers.CustomerID;

-   Keep trying until you get the following results!

Number of Records: 196

<table><thead><tr class="header"><th>OrderID</th><th>CustomerName</th><th>OrderDate</th></tr></thead><tbody><tr class="odd"><td>10248</td><td>Wilman Kala</td><td>1996-07-04</td></tr><tr class="even"><td>10249</td><td>Tradição Hipermercados</td><td>1996-07-05</td></tr><tr class="odd"><td>10250</td><td>Hanari Carnes</td><td>1996-07-08</td></tr><tr class="even"><td>10251</td><td>Victuailles en stock</td><td>1996-07-08</td></tr><tr class="odd"><td>10252</td><td>Suprêmes délices</td><td>1996-07-09</td></tr><tr class="even"><td>…</td><td> </td><td> </td></tr></tbody></table>

Now, return all customers including orders where present

-   LEFT join pulls the records from the table after the FROM statement - the table listed to the left if all was listed on one line.
-   Joining on the customerid columns in both tables
-   Surf to the [W3Schools Try-SQL Editor](https://www.w3schools.com/sql/trysql.asp?filename=trysql_select_all)
-   Clear any code in editor
-   Now enter the sql code from below
-   Remember to click the green button `Run SQL >>` to execute, run, your SQL statements!

<!-- -->

    SELECT customers.customerid, customers.customername, orders.orderid, orders.orderdate
    FROM customers
    LEFT JOIN orders
    ON customers.customerid=orders.customerid
    ORDER BY orders.orderid;

-   Keep trying until you get the following results!

Number of Records: 213

<table><thead><tr class="header"><th>CustomerID</th><th>CustomerName</th><th>OrderID</th><th>OrderDate</th></tr></thead><tbody><tr class="odd"><td>1</td><td>Alfreds Futterkiste</td><td>null</td><td>null</td></tr><tr class="even"><td>6</td><td>Blauer See Delikatessen</td><td>null</td><td>null</td></tr><tr class="odd"><td>12</td><td>Cactus Comidas para llevar</td><td>null</td><td>null</td></tr><tr class="even"><td>…</td><td> </td><td> </td><td> </td></tr><tr class="odd"><td>90</td><td>Wilman Kala</td><td>10248</td><td>1996-07-04</td></tr><tr class="even"><td>81</td><td>Tradição Hipermercados</td><td>10249</td><td>1996-07-05</td></tr><tr class="odd"><td>34</td><td>Hanari Carnes</td><td>10250</td><td>1996-07-08</td></tr><tr class="even"><td>…</td><td> </td><td> </td><td> </td></tr></tbody></table>

##### Dig Deeper

-   [Wikipedia](https://en.wikipedia.org/wiki/Join_(SQL))  
    Wikipedia on Joins

------------------------------------------------------------------------

#### Learn to perform CRUD operations on an RDBMS using SQL

<span id="CRUD_using_SQL"></span>

##### Overview

### Software Needed

-   Web browser - Chrome, Safari, Opera, and Edge. Firefox is not support

How do we manipulate data in SQL? This is the “DML” part of SQL - DML meaning data manipulation language. Let’s say we need to change an employee’s name, we need a new friend to our friend list, we need to delete a product from our shopping cart. All these are examples of when we need to manipulate data!

-   CRUD
    -   Create - `INSERT`
    -   Read - `SELECT`
    -   Update - `UPDATE`
    -   Delete - `DELETE`
-   Note that these are unrelated to HTTP methods. These were developed first!

### Create - INSERT

For `INSERT` we have a few choices

Add a single record to a customers table giving the values in order of the column in the table. Use this method if you have values for all columns in the table. If you want to leave one or more columns null, pick the next method!

    INSERT INTO customers
    VALUES (9999, 'Lambda School', 'John Mitchell', '123 Main Street', 'Anywhere', '77777', 'USA');

Add multiple records to a customers table giving which columns will be added. Columns are listed in the same order in both the column list and the values. You do not have to list all columns. However, if a column is marked not NULL, you have to send it a value by including it in the column list and the value lists.

    INSERT INTO customers(customerid, customername, country)
    VALUES
           (1111, 'Cinnabun', 'USA'),
           (2222, 'Ginger', 'Canada'),
           (3333, 'BarnBarn', 'USA');

Add records to a customers table using a subquery. A **subquery** is a regular, valid query that becomes embedded into another query.

    INSERT INTO customers (customerid, customername, country)
        SELECT employeeid * 100, firstname, 'USA'
        FROM   employees
        WHERE  employeeid > 5;

### Read - SELECT

We have looked at this in-depth in other objectives

-   [Objective 2 - SQL](Objective%202%20-%20SQL.md)

-   [Objective 3 - Query Single Table](Objective%20320-20Query20Single20Table.md)

-   `SELECT` - what columns do we want

-   `FROM` - table where to find the data

-   `WHERE` - filter what data is returned from the table

-   `GROUP` BY - on what column does the aggregate function operate

-   `HAVING` - how to filter based off of the aggregate function

-   `ORDER` BY - how to order the returned data

<!-- -->

    SELECT <columns>
    FROM <table>
    WHERE <filter>
    GROUP BY <aggregate functions>
    HAVING <aggregate functions filtering>
    ORDER BY <sort order>;

### Update - UPDATE

Update the contact name and the city for where the customer’s primary key is 1

-   `UPDATE` the table we are changing
-   `SET` a list of columns that are going to be changed in the format of `column name = new value`
-   `WHERE` says which rows are to be affected. An update will work without a WHERE line. However, that affects all rows in the table. Make sure that is what you want before running the UPDATE!

<!-- -->

    UPDATE customers
    SET contactname = 'Alfred Schmidt', city= 'Frankfurt'
    WHERE customerid = 1;

Update the `primary_author` in `books` to match the name in the authors table where the book title is ‘The Hobbit’ and the author ids in each table match.

1.  Filter the books so we just have records with the book title The Hobbit
2.  inner join that set from books with the authors table matching on author’s id.
3.  In the subset, replace the books primary\_author with the name of the author from the authors table.

We can deduce from this that the name in the authors is correct for the book titled The Hobbit but is the author’s name is incorrect in the books table and so needs updating.

    UPDATE books
    SET    books.primary_author = authors.name
    FROM   books
    INNER JOIN authors
    ON books.author_id = authors.id
    WHERE books.title = 'The Hobbit'

### Delete - DELETE

Let’s say we wish to remove all data from the customers tables

-   `DELETE` the keyword followed by NOTHING. No columns are given since the delete removes an entire row.
-   `FROM` the table where rows are to be removed

<!-- -->

    DELETE
    FROM customers;

Note that the command TRUNCATE does a similar job but is part of DDL, Data Definition Language, a different category of SQL.

    TRUNCATE TABLE Customers;

If we don’t want to delete all the rows in a tables, use a where clause!

    DELETE
    FROM customers
    WHERE customername='Alfreds Futterkiste';

##### Follow Along

Let’s try out some of these statements.

### Create - INSERT

Add a single record to a customers table giving the values in order of the column in the table

-   Surf to the [W3Schools Try-SQL Editor](https://www.w3schools.com/sql/trysql.asp?filename=trysql_select_all)
-   Clear any code in editor
-   Now enter the sql code from below
-   Remember to click the green button `Run SQL >>` to execute, run, your SQL statements!

No column names are given. Values must be listed in the order of the columns in the table and all columns from the table must be represented.

    INSERT INTO customers
    VALUES (9999, 'Lambda School', 'John Mitchell', '123 Main Street', 'Anywhere', '77777', 'USA');

-   You should get the result:

    You have made changes to the database. Rows affected: 1

Add multiple records to a customers table giving which columns will be added

Columns are listed in the same order in both the column list and the values. You do not have list all columns. However if a column is marked not NULL, you have to send it a value by including it in the column list and the value lists.

-   Surf to the [W3Schools Try-SQL Editor](https://www.w3schools.com/sql/trysql.asp?filename=trysql_select_all)
-   Clear any code in editor
-   Now enter the SQL code from below
-   Remember to click the green button `Run SQL >>` to execute, run, your SQL statements!

<!-- -->

    INSERT INTO customers(customerid, customername, country)
    VALUES
           (1111, 'Cinnabun', 'USA'),
           (2222, 'Ginger', 'Canada'),
           (3333, 'BarnBarn', 'USA');

-   You should get the result:

    You have made changes to the database. Rows affected: 3

Add records to a customers table using a subquery

Notice the subquery is just a valid query!

-   Surf to the [W3Schools Try-SQL Editor](https://www.w3schools.com/sql/trysql.asp?filename=trysql_select_all)
-   Clear any code in editor
-   Now enter the sql code from below
-   Remember to click the green button `Run SQL >>` to execute, run, your SQL statements!

<!-- -->

    INSERT INTO customers (customerid, customername, country)
        SELECT employeeid * 100, firstname, 'USA'
        FROM   employees
        WHERE  employeeid > 5;

-   You should get the result:

    You have made changes to the database. Rows affected: 5

-   Try running the subquery as a stand alone `SELECT` query. You should get the following result:

<table><thead><tr class="header"><th>employeeid * 100</th><th>FirstName</th><th>‘USA’</th></tr></thead><tbody><tr class="odd"><td>600</td><td>Michael</td><td>USA</td></tr><tr class="even"><td>700</td><td>Robert</td><td>USA</td></tr><tr class="odd"><td>800</td><td>Laura</td><td>USA</td></tr><tr class="even"><td>900</td><td>Anne</td><td>USA</td></tr><tr class="odd"><td>1000</td><td>Adam</td><td>USA</td></tr></tbody></table>

### Update - UPDATE

Update the contact name and the city for where the customer’s primary key is 1

-   Surf to the [W3Schools Try-SQL Editor](https://www.w3schools.com/sql/trysql.asp?filename=trysql_select_all)
-   Clear any code in editor
-   Now enter the sql code from below
-   Remember to click the green button `Run SQL >>` to execute, run, your SQL statements!

<!-- -->

    UPDATE customers
    SET contactname = 'Alfred Schmidt', city= 'Frankfurt'
    WHERE customerid = 1;

-   You should get the result:

    You have made changes to the database. Rows affected: 1

-   Note you can run a `SELECT` query to verify that this works!

What happens with no filter? All records contact names and cities are updated!

    UPDATE customers
    SET contactname = 'Alfred Schmidt', city= 'Frankfurt';

-   You should get the result:

    You have made changes to the database. Rows affected: 100

-   And now all of your customers contact names are Alfred Schmidt :-(

### Delete - DELETE

Remove all data from the customer table

-   Surf to the [W3Schools Try-SQL Editor](https://www.w3schools.com/sql/trysql.asp?filename=trysql_select_all)
-   Clear any code in editor
-   Now enter the SQL code from below
-   Remember to click the green button `Run SQL >>` to execute, run, your SQL statements!

<!-- -->

    DELETE
    FROM customers;

-   You should get the result:

    No result.

-   Now restore the database by clicking on the `Restore Database` button on the right of the screen

Remove all data from the customer table where customer name = ‘Alfreds Futterkiste’

We can combine all the elements of SQL filtering to remove just the data we want removed.

-   Surf to the [W3Schools Try-SQL Editor](https://www.w3schools.com/sql/trysql.asp?filename=trysql_select_all)
-   Clear any code in editor
-   Now enter the SQL code from below
-   Remember to click the green button `Run SQL >>` to execute, run, your SQL statements!

<!-- -->

    DELETE
    FROM customers
    WHERE customername='Alfreds Futterkiste';

-   You should get the result:

    No result.

This is expected, as the record has been deleted!

------------------------------------------------------------------------

#### Learn to open an existing database, or create a new one, while adding tables to a PostgreSQL database

<span id="PostgreSQL"></span>

##### Overview

### Software Needed

-   PostgreSQL with pgAdmin

### What are our choices for RDBMS?

The top 5 RDBMS (according to [Capterra](https://www.capterra.com/rdbms-software/))

-   Amazon Relational Database
-   Aurora from AWS
-   SQL Server
-   Oracle Database
-   PostgreSQL

We have chosen PostgreSQL because it is:

-   The most popular free option
-   Used by all tracks across Lambda School
-   Compatible with the cloud service we use at Lambda School (Heroku)

### What’s in a name

-   PostgreSQL

    -   Of course SQL comes from Structured Query Language, the programming language used to access RDBMS
    -   Postgres – This database was developed after, or POST, and as a replace for Ingres
        -   Ingres – An older University of California, Berkeley project that spawned many database management systems including Sybase, MS SQL, Non-Stop SQL
    -   This RDMBS is commonly called just “Postgres”. The original developer wanted it to be called PostgreSQL to emphasize that this is a RDBMS by adding SQL to the name. We can treat these names as interchangeable.

### Accessing PostgresSQL

-   We can access PostgresSQL either using the postgres command line interface (CLI) or a graphical user interface (GUI). Several GUI choices exist. One of the more popular ones is pgAdmin and is the one we will be reviewing here.
-   For this object, you will need PostgreSQL installed locally. You can find out how to install it from the Software Install instructions for this sprint.

##### Follow Along

### Working with PostgreSQL CLI

-   This is where the DDL, data definition language, comes into use

-   We are going to be using SQL commands to manage our database.

-   First we have to find the cli for PostgreSQL psql and change to that directory. Mine is located in the folder `/Library/PostgreSQL/12/bin so`

<!-- -->

    cd /Library/PostgreSQL/12/bin

-   Now run psql

<!-- -->

    ./psql -U postgres

-   `postgres` is the default username for PostgreSQL

-   You are prompted to enter the password for PostgreSQL. This is the password you created when you set up PostgreSQL. For many of us that will be `password`. You password may or may not be displayed on the screen.

-   you should a prompt similar to `postgres=#` meaning you are now running psql!

-   Let’s create a database

<!-- -->

    CREATE DATABASE lambdaschool;

-   To list all databases on your server

<!-- -->

    \l

-   Connect to, use, the database you just created

<!-- -->

    \c lambdaschool

-   Create a table. We will create a table of humans with a primary key and a name. Then we created a table of pets with a primary key, a name, an age, and a foreign key to the pet’s human. Using the PostgreSQL CLI, enter the following.

<!-- -->

    CREATE TABLE humans(
       id serial PRIMARY KEY,
       name VARCHAR(50) NOT NULL
    );

    CREATE TABLE pets(
       petid serial PRIMARY KEY,
       name VARCHAR(50) UNIQUE NOT NULL,
       age integer,
       humanid integer NOT NULL,
       CONSTRAINT human_id_fkey FOREIGN KEY (humanid)
          REFERENCES humans (id) MATCH SIMPLE
          ON UPDATE NO ACTION ON DELETE NO ACTION
    );

-   Add a column type to pets. Using the PostgreSQL CLI, enter the following.

<!-- -->

    ALTER TABLE pets ADD COLUMN breed VARCHAR(50);

-   To see a table’s schema and layout, use:

<!-- -->

    \d pets

-   To remove all data from a table:

<!-- -->

    TRUNCATE pets;

`Humans` is involved in a foreign key relationship with `pets` so both must be truncated. You can remove all the `pets` without affecting the `humans` table. `Pets` has a key pointing to a row in the `humans` table. To remove a row in the `humans` table, no row in pets can have that human’s primary key as a foreign key.

    TRUNCATE humans CASCADE;

-   To get rid, drop, a table completely, This deletes the foreign key from pets as well.

<!-- -->

    DROP TABLE humans CASCADE;

    DROP TABLE pets;

### Working with PostgreSQL GUI

Let’s do a similar process as with the CLI but we’ll use pgAdmin

-   Launch pgAdmin. pgAdmin was installed when you installed PostgreSQL!

Click on the icon. ![pgAdmin Icon](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2011%20-%20Java%20with%20RDBMS%20and%20API%20Intros/Module%201%20-%20JX%20Java%20-%20RDBMS%20and%20SQL%20Basics/assets/pgAdminIcon.png) This will load a web browse and launch pgAdmin.

-   Now sign on. For most of us our master password will be `password`. `Password` was the suggested password I used in the installation instructions

    ![pgAdmin Login](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2011%20-%20Java%20with%20RDBMS%20and%20API%20Intros/Module%201%20-%20JX%20Java%20-%20RDBMS%20and%20SQL%20Basics/assets/pgAdmin-01-login.png)

-   Expand Server to see what servers, are being managed by your pgAdmin. Your list will vary! These are aliases to PostgreSQL servers

    ![Server on Server](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2011%20-%20Java%20with%20RDBMS%20and%20API%20Intros/Module%201%20-%20JX%20Java%20-%20RDBMS%20and%20SQL%20Basics/assets/pgAdmin-02-databases.png)

-   Create a new server by

-   Right click on Server and Select Create >

    -   On the General table Name your server `LambdaSchoolLocal`

    ![General Tab](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2011%20-%20Java%20with%20RDBMS%20and%20API%20Intros/Module%201%20-%20JX%20Java%20-%20RDBMS%20and%20SQL%20Basics/assets/pgAdmin-03-general.png)

-   On the connection table

    -   give your host as `localhost` meaning your machine
    -   enter your username for most of us will be is `postgres`
    -   enter your password for most of us will be `password`

    ![Connection Tab](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2011%20-%20Java%20with%20RDBMS%20and%20API%20Intros/Module%201%20-%20JX%20Java%20-%20RDBMS%20and%20SQL%20Basics/assets/pgAdmin-04-connection.png)

-   Click `Save` to create the server

-   Right click on the newly created server `LambdaSchoolLocal`, Goto Create >, Select Database…

    -   On the General table, in the Database field, enter `guiLambdaSchool`
    -   Click `Save` to create the database

    ![Create Database](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2011%20-%20Java%20with%20RDBMS%20and%20API%20Intros/Module%201%20-%20JX%20Java%20-%20RDBMS%20and%20SQL%20Basics/assets/pgAdmin-05-create.png)

-   To see the databases in the LambdaSchoolLocal Server

    -   Make sure LambdaSchoolLocal is expanded
    -   Expand Databases. Your list will vary.

    ![List Databases](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2011%20-%20Java%20with%20RDBMS%20and%20API%20Intros/Module%201%20-%20JX%20Java%20-%20RDBMS%20and%20SQL%20Basics/assets/pgAdmin-06-database-list.png)

-   To create a table

    -   Expand guidLambdaSchool under Databases
        -   Expand Schemas
            -   You will have just one Schema called Public
            -   Right Click on Tables, Select Create >, click on Table
            -   Give the table the name `humans`

    ![Naming Database](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2011%20-%20Java%20with%20RDBMS%20and%20API%20Intros/Module%201%20-%20JX%20Java%20-%20RDBMS%20and%20SQL%20Basics/assets/pgAdmin-07-table.png)

    -   Select the Columns Tab
        -   Enter the column information for each column.
            -   To begin entering the column info, add a new column by clicking on the + sign
            -   To edit the column info
                -   Click in the text box under name and enter `id`
                -   From the data type, select `integer`
                -   Say yes this is the primary key
            -   Add another new column by clicking on the + sign
            -   To edit the column info
                -   Click in the text box under name and enter `name`
                -   From the data type, select `character varying[]`
                -   Under Length enter `50`
            -   Click `Save` when done

    ![Humans Columns](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2011%20-%20Java%20with%20RDBMS%20and%20API%20Intros/Module%201%20-%20JX%20Java%20-%20RDBMS%20and%20SQL%20Basics/assets/pgAdmin-08-humans-columns.png)

    -   Following the same steps as above, Let’s create another table called pets
        -   DO NOT CLICK `Save` yet!!!
        -   Enter the following column information:

        <table><thead><tr class="header"><th>Name</th><th>Data type</th><th>Length</th><th>Precision</th><th>Not NULL?</th><th>Primary key?</th></tr></thead><tbody><tr class="odd"><td>id</td><td>integer</td><td> </td><td> </td><td>NO</td><td>Yes</td></tr><tr class="even"><td>name</td><td>character varying[]</td><td>50</td><td> </td><td>Yes</td><td>NO</td></tr><tr class="odd"><td>age</td><td>integer</td><td> </td><td> </td><td>NO</td><td>NO</td></tr><tr class="even"><td>humanoid</td><td>integer</td><td> </td><td> </td><td>Yes</td><td>NO</td></tr></tbody></table>

    ![Pets Columns](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2011%20-%20Java%20with%20RDBMS%20and%20API%20Intros/Module%201%20-%20JX%20Java%20-%20RDBMS%20and%20SQL%20Basics/assets/pgAdmin-09-pets-columns.png)

    -   Select the Constraints Tab
        -   Select the `Foreign Key` tab
            -   Add a new constraint by click on the + sign
                -   Now click on the edit icon ![edit icon](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2011%20-%20Java%20with%20RDBMS%20and%20API%20Intros/Module%201%20-%20JX%20Java%20-%20RDBMS%20and%20SQL%20Basics/assets/editicon.jpg) to add the necessary info
                -   Give it a name of `human_fk`
                -   Follow the GIF below to enter the remaining information
                    -   Name: human\_fk
                    -   Columns
                        -   Local column: `id`
                        -   References: `public_humans`
                        -   Referencing: `id`
                -   After setting up the constraint, don’t forget to click on the + sign to actually add the constraint!

    ![Foreign Key Details](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2011%20-%20Java%20with%20RDBMS%20and%20API%20Intros/Module%201%20-%20JX%20Java%20-%20RDBMS%20and%20SQL%20Basics/assets/pgAdmin-10-fk.gif)

    -   And finally, enter the unique constraints by selecting the constraints tab
        -   Select the `Unique` tab
            -   Add a new constraint by click on the + sign
                -   Now click on the edit icon ![edit icon](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2011%20-%20Java%20with%20RDBMS%20and%20API%20Intros/Module%201%20-%20JX%20Java%20-%20RDBMS%20and%20SQL%20Basics/assets/editicon.jpg) to add the necessary info
                -   Give it a name of `name_unique`
                -   Follow the GIF below to enter the remaining information
                    -   Definitions -> Columns: `name`

    ![Foreign Key Details](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2011%20-%20Java%20with%20RDBMS%20and%20API%20Intros/Module%201%20-%20JX%20Java%20-%20RDBMS%20and%20SQL%20Basics/assets/pgAdmin-11-unique.gif)

    -   Now both tables are created. To modify the tables:
        -   Right click on the table name
        -   Select `Properties...` from the pop-up menu
        -   You are now back at the standard windows you used to create the tables!
    -   To query a database using pgAdmin, you use the Query Tool.
        -   To access the Query Tool, have selected a database to query.
            -   Then go to the dropdown menu `Tools -> Query Tool`
            -   Alternatively you can click on the lightning bolt ![lightning bolt icon](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2011%20-%20Java%20with%20RDBMS%20and%20API%20Intros/Module%201%20-%20JX%20Java%20-%20RDBMS%20and%20SQL%20Basics/assets/lightning-bolt-icon.png) icon
        -   Either way you get the following screen
        -   SQL is entered in the large text box!

    ![SQL Query](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2011%20-%20Java%20with%20RDBMS%20and%20API%20Intros/Module%201%20-%20JX%20Java%20-%20RDBMS%20and%20SQL%20Basics/assets/pgAdmin-12-sql.png)

------------------------------------------------------------------------

#### Learn to explain data normalization and normal forms while normalizing data to the 3rd Normal Form (3NF)

<span id="DB_Normal_Forms"></span>

##### Overview

How to design your database is an important concept. Usually, we are given a “blob” of data and have to organize it for efficient retrieval and manipulation. This process of organizing the data by creating tables and establishing relationships between the table, done correctly, is called data normalization. Let’s look at what that means.

The goals of data normalization are to:

-   Protect data both through security and integrity
    -   Putting like data in a table allows you to give access to that table only without having to share all the data.
-   Eliminate redundancy
    -   Redundant data consumes extra space and takes extra time to retrieve
    -   With redundant, duplicated, data if the copies do not match how do you know which version is correct?
-   Eliminate inconsistent dependencies
    -   Data should be found in appropriate tables
        -   Don’t put employees’ salaries in customer tables
    -   Data should be easy to find
-   Minimize redesign when expanding the data structures

To normalize data, that is to take the blob of data we are given and convert to something useful, we work the data into a series of “normal forms”. Depending on who you ask, there are 5 or more normal forms. In practice, though, almost all databases stop at the third normal form, often written as 3NF. Let’s take a blob of data and run it through the normal forms, discussing the goal of each normal form along the way.

-   UNF (unnormalized form)
    -   This is our blob of data

### Original Data Table

<table><thead><tr class="header"><th>First name</th><th>Last Name</th><th>Full Name</th><th>email</th><th>company name</th><th>company tax id</th></tr></thead><tbody><tr class="odd"><td>John</td><td>Mitchell</td><td>John Mitchell</td><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__">[email protected]</a>,</td><td>Lambda School</td><td>99-999999</td></tr><tr class="even"><td> </td><td> </td><td> </td><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__">[email protected]</a>,</td><td> </td><td> </td></tr><tr class="odd"><td> </td><td> </td><td> </td><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__">[email protected]</a></td><td> </td><td> </td></tr><tr class="even"><td>Steve</td><td>Green</td><td>Steve Green</td><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__">[email protected]</a></td><td>Home</td><td>88-888888</td></tr><tr class="odd"><td>Amy</td><td>Found</td><td>Amy Found</td><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__">[email protected]</a></td><td>A Perfect Company</td><td>77-777777</td></tr><tr class="even"><td> </td><td> </td><td> </td><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__">[email protected]</a></td><td> </td><td> </td></tr><tr class="odd"><td>BarnBarn</td><td>Rabbit</td><td>BarnBarn Rabbit</td><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__">[email protected]</a></td><td>Lambda School</td><td>99-999999</td></tr><tr class="even"><td> </td><td> </td><td> </td><td> </td><td>Home</td><td>88-888888</td></tr></tbody></table>

Supervisor | Full Name | location | |—————–|———-| | Amy Found | condo | | BarnBarn Rabbit | hutch |

-   1NF (first normal form)
    -   Goals include
        -   Eliminating repeating groups in individual tables
            -   No Title1, Title2, Title3
        -   Identify set of related data with a primary key

### 1NF - Email broken into separate rows

Person Table

<table><thead><tr class="header"><th>Person Id</th><th>First name</th><th>Last Name</th><th>Full Name</th><th>company name</th><th>company tax id</th></tr></thead><tbody><tr class="odd"><td>1</td><td>John</td><td>Mitchell</td><td>John Mitchell</td><td>Lambda School</td><td>99-999999</td></tr><tr class="even"><td>2</td><td>Steve</td><td>Green</td><td>Steve Green</td><td>Home</td><td>88-888888</td></tr><tr class="odd"><td>3</td><td>Amy</td><td>Found</td><td>Amy Found</td><td>A Perfect Company</td><td>77-777777</td></tr><tr class="even"><td>4</td><td>BarnBarn</td><td>Rabbit</td><td>BarnBarn Rabbit</td><td>Lambda School</td><td>99-999999</td></tr><tr class="odd"><td> </td><td> </td><td> </td><td> </td><td>Home</td><td>88-888888</td></tr></tbody></table>

Email Table

<table><thead><tr class="header"><th>Email id</th><th>Person id</th><th>email</th></tr></thead><tbody><tr class="odd"><td>1</td><td>1</td><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__">[email protected]</a></td></tr><tr class="even"><td>2</td><td>1</td><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__">[email protected]</a></td></tr><tr class="odd"><td>3</td><td>1</td><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__">[email protected]</a></td></tr><tr class="even"><td>4</td><td>2</td><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__">[email protected]</a></td></tr><tr class="odd"><td>5</td><td>3</td><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__">[email protected]</a></td></tr><tr class="even"><td>6</td><td>3</td><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__">[email protected]</a></td></tr><tr class="odd"><td>7</td><td>4</td><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__">[email protected]</a></td></tr></tbody></table>

Supervisor

<table><thead><tr class="header"><th>Supervisor Id</th><th>Full Name</th><th>location</th></tr></thead><tbody><tr class="odd"><td>1</td><td>Amy Found</td><td>condo</td></tr><tr class="even"><td>2</td><td>BarnBarn Rabbit</td><td>hutch</td></tr></tbody></table>

-   2NF (second normal form)
-   Separate tables for set of values that apply to multiple records
    -   Do not store address for a person in customers, orders, shipping, etc.
-   Use a foreign key to reference that data
    -   Store data once. Use keys to reference the data

### 2NF - Company Tax Id is moved to company table with a join table

Person Table

<table><thead><tr class="header"><th>Person Id</th><th>First name</th><th>Last Name</th><th>Full Name</th></tr></thead><tbody><tr class="odd"><td>1</td><td>John</td><td>Mitchell</td><td>John Mitchell</td></tr><tr class="even"><td>2</td><td>Steve</td><td>Green</td><td>Steve Green</td></tr><tr class="odd"><td>3</td><td>Amy</td><td>Found</td><td>Amy Found</td></tr><tr class="even"><td>4</td><td>BarnBarn</td><td>Rabbit</td><td>BarnBarn Rabbit</td></tr></tbody></table>

PersonCompany Table

<table><thead><tr class="header"><th>Person Id</th><th>Company Id</th></tr></thead><tbody><tr class="odd"><td>1</td><td>1</td></tr><tr class="even"><td>2</td><td>2</td></tr><tr class="odd"><td>3</td><td>3</td></tr><tr class="even"><td>4</td><td>1</td></tr><tr class="odd"><td>4</td><td>2</td></tr></tbody></table>

Company Table

<table><thead><tr class="header"><th>Company Id</th><th>Company Name</th><th>Company Tax Id</th></tr></thead><tbody><tr class="odd"><td>1</td><td>Lambda School</td><td>99-999999</td></tr><tr class="even"><td>2</td><td>Home</td><td>88-888888</td></tr><tr class="odd"><td>3</td><td>A Perfect Company</td><td>77-777777</td></tr></tbody></table>

Email Table

<table><thead><tr class="header"><th>Email id</th><th>Person id</th><th>email</th></tr></thead><tbody><tr class="odd"><td>1</td><td>1</td><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__">[email protected]</a></td></tr><tr class="even"><td>2</td><td>1</td><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__">[email protected]</a></td></tr><tr class="odd"><td>3</td><td>1</td><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__">[email protected]</a></td></tr><tr class="even"><td>4</td><td>2</td><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__">[email protected]</a></td></tr><tr class="odd"><td>5</td><td>3</td><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__">[email protected]</a></td></tr><tr class="even"><td>6</td><td>3</td><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__">[email protected]</a></td></tr><tr class="odd"><td>7</td><td>4</td><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__">[email protected]</a></td></tr></tbody></table>

Supervisor

<table><thead><tr class="header"><th>Supervisor Id</th><th>Full Name</th><th>location</th></tr></thead><tbody><tr class="odd"><td>1</td><td>Amy Found</td><td>condo</td></tr><tr class="even"><td>2</td><td>BarnBarn Rabbit</td><td>hutch</td></tr></tbody></table>

-   3NF (third normal form)

    -   No derived fields
    -   Eliminate fields that do not depend on the key
    -   In an employees tables, do not store the name of departments. If a department has no employees, there is no where to store the department name. Store the department name in a separate table and use foreign keys to reference it.

### 3NF - Derived column Full Name is removed. Supervisor’s name is referenced

Person Table

<table><thead><tr class="header"><th>Person Id</th><th>First name</th><th>Last Name</th></tr></thead><tbody><tr class="odd"><td>1</td><td>John</td><td>Mitchell</td></tr><tr class="even"><td>2</td><td>Steve</td><td>Green</td></tr><tr class="odd"><td>3</td><td>Amy</td><td>Found</td></tr><tr class="even"><td>4</td><td>BarnBarn</td><td>Rabbit</td></tr></tbody></table>

PersonCompany Table

<table><thead><tr class="header"><th>Person Id</th><th>Company Id</th></tr></thead><tbody><tr class="odd"><td>1</td><td>1</td></tr><tr class="even"><td>2</td><td>2</td></tr><tr class="odd"><td>3</td><td>3</td></tr><tr class="even"><td>4</td><td>1</td></tr><tr class="odd"><td>4</td><td>2</td></tr></tbody></table>

Company Table

<table><thead><tr class="header"><th>Company Id</th><th>Company Name</th><th>Company Tax Id</th></tr></thead><tbody><tr class="odd"><td>1</td><td>Lambda School</td><td>99-999999</td></tr><tr class="even"><td>2</td><td>Home</td><td>88-888888</td></tr><tr class="odd"><td>3</td><td>A Perfect Company</td><td>77-777777</td></tr></tbody></table>

Email Table

<table><thead><tr class="header"><th>Email id</th><th>Person id</th><th>email</th></tr></thead><tbody><tr class="odd"><td>1</td><td>1</td><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__">[email protected]</a></td></tr><tr class="even"><td>2</td><td>1</td><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__">[email protected]</a></td></tr><tr class="odd"><td>3</td><td>1</td><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__">[email protected]</a></td></tr><tr class="even"><td>4</td><td>2</td><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__">[email protected]</a></td></tr><tr class="odd"><td>5</td><td>3</td><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__">[email protected]</a></td></tr><tr class="even"><td>6</td><td>3</td><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__">[email protected]</a></td></tr><tr class="odd"><td>7</td><td>4</td><td><a href="/cdn-cgi/l/email-protection" class="__cf_email__">[email protected]</a></td></tr></tbody></table>

Supervisor

<table><thead><tr class="header"><th>Supervisor Id</th><th>Person Id</th><th>location</th></tr></thead><tbody><tr class="odd"><td>1</td><td>3</td><td>condo</td></tr><tr class="even"><td>2</td><td>4</td><td>hutch</td></tr></tbody></table>

##### Dig Deeper

-   [The Basic](https://support.microsoft.com/en-us/help/283878/description-of-the-database-normalization-basics)  
    Description of the database normalization basics
-   [DB Youtube Channel](https://www.youtube.com/user/dicomgreen)  
    YouTube channel on Database Design
-   [DB Youtube Channel Specific Video](https://youtu.be/ZBgXb66Ckz0)  
    Logical Logical Database Design and E-R Diagrams
-   [DB Youtube Channel Specific Video](https://youtu.be/SnZDfD8AVkw)  
    Physical Database Design
-   [On-Line DB Design Tool](https://www.dbdesigner.net/)  
    Good On-line design tool to help with Data Normalization

------------------------------------------------------------------------

## <a href="#guided-project" id="guided-project" class="anchor"><span class="octicon octicon-link"></span></a>Guided Project

### java-rdbms

An introduction to RDBMS and SQL using the Northwind.db database and PostgreSQL

[GitHub Repo](https://github.com/LambdaSchool/java-rdbms.git)

------------------------------------------------------------------------

## <a href="#project" id="project" class="anchor"><span class="octicon octicon-link"></span></a>Project

-   ##### [Java SQL](https://github.com/LambdaSchool/java-sql.git)

    Answer the following data queries. Keep track of the SQL you write by pasting it into this document under its appropriate header below. You will be submitting that through the regular fork, change, pull process.

## <a href="#review" id="review" class="anchor"><span class="octicon octicon-link"></span></a>Review

### Class Recordings

You can use class recordings to help you master the material.

-   **[RDBMS for WEB32 with John Mitchell](https://youtu.be/olmywDuo93I)**
-   [All previous recordings](/archive/WEB4Java/module/recyJ663TrxVgpqY9)

### Demonstrate Mastery

To demonstrate mastery of this module, you need to complete and pass a code review on each of the following:

-   Guided Project: java-rdbms
-   Project: Java SQL
