<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Intended as a home for Lambda School curriculum.">
<meta name="author" content="">
<meta name="generator" content="Jekyll v3.8.0">
<title>Django basics and setup · Lambda School</title>

<link rel='stylesheet' integrity crossorigin='anonymous' href='https://d33wubrfki0l68.cloudfront.net/css/0f99ed215b3d52fa1bee44dc614ea3fa1d1bebc0/dist/css/bootstrap.min.css' />

<link href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" rel="stylesheet">
<link rel='stylesheet' href='https://d33wubrfki0l68.cloudfront.net/css/1bf8317b3d6d0c9d813c92505f052bf79ffdcdfe/assets/css/docs.min.css' />

<link rel='stylesheet' href='https://d33wubrfki0l68.cloudfront.net/css/f3626ab7ab84821f8b60ea92b4a5c6acf59991af/assets/css/main.css' />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-122016605-1', 'learn.lambdaschool.com');
  ga('send', 'pageview');
</script>

<script>
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t,e){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.src="https://cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a);analytics._loadOptions=e};analytics.SNIPPET_VERSION="4.1.0";
  analytics.load("BjKorwKrSvMamfNoGkBq9rISk7wF6QQX");
  analytics.page();
  }}();
</script>

<link rel="apple-touch-icon" href="/assets/img/favicons/apple-touch-icon.png" sizes="180x180">
<link rel="icon" href="/assets/img/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
<link rel="icon" href="/assets/img/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
<link rel="manifest" href="/assets/img/favicons/manifest.json">
<link rel="mask-icon" href="/assets/img/favicons/safari-pinned-tab.svg" color="#a0001e">
<link rel="icon" href="/favicon.ico">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#a0001e">
</head>
<body>
<noscript>Please enable JavaScript to view this page.</noscript>
<div id="redirect-message" style="display: none;">
You must be logged in to view this page.
</div>
<div id="unauthorized-message" style="display: none;">
You must be a Lambda School student to view this page.
</div>
<div id="content-wrapper" style="visibility: hidden;">
<a id="skippy" class="sr-only sr-only-focusable" href="#content">
<div class="container">
<span class="skiplink-text">Skip to main content</span>
</div>
</a>
<div class="mobile-menu">
<div class="m-drop">
<div class="mobile-row">
<div class="header-row" style="padding: 3px 7px">
<a class="navbar-brand" href="/" aria-label="Lambda School"><svg xmlns="http://www.w3.org/2000/svg" width="33" height="35" viewBox="0 0 33 35" fill="none">
<path fill-rule="evenodd" clip-rule="evenodd" d="M0 0V16.0609C0 27.7335 9.08929 31.7843 15.7321 34.7513H15.75L16.2857 35C16.4107 34.9289 16.5357 34.8756 16.6786 34.8223C16.75 34.7868 16.8393 34.7513 16.9107 34.7157C23.5714 31.7665 32.6964 27.698 32.6964 16.0609V0H0ZM20.7071 23.4536L20.3571 22.5102L15.6071 10.0736C15.3214 10.802 14.6607 12.5609 13.9464 14.4442L11.2143 21.7817C11.0893 22.1371 11.1607 22.3147 11.25 22.4391C11.4464 22.6701 11.8768 22.6701 12.5554 22.6701H12.6786L12.6768 23.4518H7.56964V22.6701H7.9625C8.65893 22.6701 9.23036 22.368 9.65893 21.5152L10.1768 20.3426L14.9089 8.29696L14.0696 6.07614H18.4804L24.5696 22.0127L25.125 23.4536H20.7071Z" fill="#EC3944" />
</svg></a>
<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#mobile-course-menu" aria-controls="mobile-course-menu" aria-expanded="false" aria-label="Toggle navigation">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" width="30" height="30" focusable="false"><title>Menu</title><path stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" d="M4 7h22M4 15h22M4 23h22"></path></svg>
</button>
</div>
</div>
<div class="nav-row">
<div class="results-container">
<ul id="results-container" class="dropdown list-group"></ul>
</div>
<div id="mobile-course-menu" class="collapse nav-row">
<div class="docs-mobile-sidebar" id="bd-docs-nav-mobile">
<nav class="bd-links">
<div class="bd-toc-item">
<h4 class="bd-toc-link">Computer Science Annex</h4>
</div>

<div class="bd-toc-item ">
<a class="bd-toc-link" href="/csannex/sprint/recMPt6jmsCgaqrfj">
1.&nbsp;&nbsp;Data Structures: Heaps
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/csannex/module/recNbOiLfM7bfQ0aE/">
Heaps
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/csannex/sprint/recKzV5STy8vYnbQ1">
2.&nbsp;&nbsp;Intro to Django
</a>
<ul class="nav bd-sidenav">

<li class="active bd-sidenav-active">
<a href="/csannex/module/recvCvXoZKm5cYOc4/">
Django basics and setup
</a>
</li>
<li>
<a href="/csannex/module/recuEEEsf9eXphxy0/">
Building APIs
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/csannex/sprint/recUHGX7arXkBIutr">
3.&nbsp;&nbsp;Python/Django I
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/csannex/module/rec4yg0hRHaeOmBGN/">
Getting started with Python and Django
</a>
</li>
<li>
<a href="/csannex/module/recHhVqI4Y3j6UgLa/">
Object-Oriented Programming
</a>
</li>
<li>
<a href="/csannex/module/recgVHqW0RShuQn1Z/">
Software Design Patterns
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/csannex/sprint/rec64nbdwB28JM7Qu">
4.&nbsp;&nbsp;Python/Django II/Career Development
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/csannex/module/rec7YHjLuXabdlhof/">
REST
</a>
</li>
<li>
<a href="/csannex/module/recjIPIwz5Pn5WbPh/">
GraphQL
</a>
</li>
<li>
<a href="/csannex/module/recVsikSMFoQ25WZd/">
Model-View-Controller
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/csannex/sprint/reczMSFEG5pffpADx">
5.&nbsp;&nbsp;Python/Django III/Career Development
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/csannex/module/reccrn1If8mhlIymc/">
Object-relational mapping
</a>
</li>
<li>
<a href="/csannex/module/recU6Q1DLISGvt0dk/">
Relational Databases
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/csannex/sprint/recTTpwFpgZXtPG2o">
6.&nbsp;&nbsp;Project Week: Cellular Automata
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/csannex/module/rec42j1bkTmC0Hsro/">
Game of Life
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/csannex/sprint/recqkHjNcXzK5DTqd">
7.&nbsp;&nbsp;C Programming Topics
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/csannex/module/recLymrrD7f46rdBa/">
Introduction To C
</a>
</li>
<li>
<a href="/csannex/module/rec7YmMV7ukDLK770/">
Processes and System Calls
</a>
</li>
<li>
<a href="/csannex/module/recfiYtQDLFXGOBFA/">
Scheduling
</a>
</li>
<li>
<a href="/csannex/module/recHPT5QiPS6NOCgz/">
Operating Systems
</a>
</li>
<li>
<a href="/csannex/module/recz76g3pcHs88Dax/">
Web Server I
</a>
</li>
<li>
<a href="/csannex/module/recFGnBVmKCyR0427/">
Web Server II
</a>
</li>
<li>
<a href="/csannex/module/recH0OAnSr6ZcnZ7F/">
Theory of Computation
</a>
</li>
</ul>
</div>
</nav>
</div>
</div>
</div>
</div>
</div>
<div class="main-container">
<div class="sidebar-container bd-sidebar">
<div class="docs-sidebar">
<a class="navbar-brand" href="/" aria-label="Lambda School"><svg width="135" height="35" viewBox="0 0 756 197" fill="#ec3944"><g><path d="M292.9,126.6h-6.7c-9,0-12.6-1.9-12.6-9.5V48.5c0-7.7,1.6-8.6,11.4-9.7v-4.5h-41.3v4.5 c9.8,1.1,11.4,1.9,11.4,9.7v69.3c0,7.7-1.6,8.6-11.4,9.7v4.5h73.7l4.9-29.4h-4.4C308.5,119.6,303.9,126.6,292.9,126.6z"></path><path d="M385.5,121.1V79.3c0-15.8-9.4-22.4-26.6-22.4c-15,0-26.8,6.6-26.8,19.3c0,2.4,0.2,3.3,0.8,5h16.6 c-0.5-2-0.7-5-0.7-7.5c0-9.6,3.6-12.4,9.4-12.4c6.4,0,9.7,2,9.7,14.4v11.2l-20.8,7.7c-10.6,4.1-19.3,8.8-19.3,20.7 c0,10.9,7.5,17.8,18.6,17.8c9.9,0,17.4-6.2,21.9-12.1l0.1-0.1l0,0V132h26v-4.4C387.7,127.1,385.5,126.2,385.5,121.1z M368,117.8 c-4.4,3.3-7.6,5.3-12,5.4c-7.7,0-11.2-5.2-11.2-12.6c0-7.7,3.6-11.2,9.8-13.5l13.4-5.4V117.8L368,117.8z"></path><path d="M514.4,121V79.5c0-14.8-6-22.4-18.7-22.4c-11.5,0-19.4,6.6-25.5,13.9c-1.8-9.6-7.7-13.9-17.8-13.9 c-11.4,0-18.7,6.2-24.8,13.6V57h-2.3l-23.8,7.4v2.4l8.6,5v49.4c0,5-2.1,6.1-8.9,6.4v4.4h35.1v-4.4c-6.7-0.3-8.7-1.3-8.7-6.4v-47 c4.7-3.6,9.5-6.5,15.5-6.5c7.6,0,10.5,4.2,10.5,12.7v40.8c0,5-1.9,6.1-8.7,6.4v4.4l34.8,0v-4.4c-6.7-0.3-8.6-1.3-8.6-6.4v-47 c4.7-3.6,9.5-6.5,15.5-6.5c7.6,0,10.5,4.2,10.5,12.7l-0.1,40.5c0,5-1.8,6.4-8.6,6.7l0,4.4h35.1v-4.4 C516.7,127.4,514.4,126.1,514.4,121z"></path><path d="M573.2,57.3c-11,0-18.5,5.7-23.4,12.8V22.9h-2.7l-23.4,6.8v2.5l8.6,4.5V132h2.9l8-3.5c5.8,3.3,12.3,5,20.2,5 c20.8,0,37.4-15.8,37.4-42.6C600.9,69.9,590.4,57.3,573.2,57.3z M563.4,128.7c-5.4,0-10.3-2.4-13.7-7.9V73.6 c3.4-3.4,8.5-5.7,13.5-5.7c13.9,0,20,12.8,20,29.5C583.3,114.7,575.8,128.5,563.4,128.7z"></path><path d="M677,121.2V22.8h-2.6L651,29.6V32l8.6,4.5v25.7c-3.4-3.2-8.8-5.1-15.5-5.1c-19.9,0-35.2,15.3-35.2,41.3 c0,20.7,11.2,34.6,28.1,34.6c9.8,0,17-5.3,22.6-13.1v0.9V132h26.3l0-4.4C679.1,127.3,677,126.3,677,121.2z M659.6,117.1 L659.6,117.1c-3.4,3.4-8,5.1-13.2,5.1c-13.2,0-20.4-12.8-20.4-29.8c0-17.8,7.3-29.2,19.5-29.2c8.7,0,14.1,6.9,14.1,18.3 L659.6,117.1z"></path><path d="M747.1,121.1V79.3c0-15.8-9.4-22.4-26.6-22.4c-15,0-26.8,6.6-26.8,19.3c0,2.4,0.2,3.3,0.8,5h16.6 c-0.5-2-0.7-5-0.7-7.5c0-9.6,3.6-12.4,9.4-12.4c6.4,0,9.7,2,9.7,14.4v11.2l-20.8,7.7c-10.6,4.1-19.3,8.8-19.3,20.7 c0,10.9,7.5,17.8,18.6,17.8c9.9,0,17.4-6.2,21.9-12.1v-0.1h0.1l0,11.1l26,0.1v-4.5C749.3,127.1,747.1,126.2,747.1,121.1z M729.6,117.8c-4.4,3.3-7.6,5.3-12.1,5.4c-7.7,0-11.2-5.2-11.2-12.6c0-7.7,3.6-11.2,9.8-13.5l13.4-5.4L729.6,117.8L729.6,117.8z"></path></g><path d="M0,0v90.4c0,65.7,50.9,88.5,88.1,105.2h0.1l3,1.4c0.7-0.4,1.4-0.7,2.2-1c0.4-0.2,0.9-0.4,1.3-0.6 c37.3-16.6,88.4-39.5,88.4-105V0H0z M116,132l-2-5.3l-26.6-70c-1.6,4.1-5.3,14-9.3,24.6l-15.3,41.3c-0.7,2-0.3,3,0.2,3.7 c1.1,1.3,3.5,1.3,7.3,1.3H71l0,4.4H42.4l0-4.4h2.2c3.9,0,7.1-1.7,9.5-6.5l2.9-6.6l26.5-67.8l-4.7-12.5h24.7l34.1,89.7l3.1,8.1H116z"></path></svg></a>
<ul id="results-container" class="dropdown list-group"></ul>
<nav class="bd-links collapse" id="bd-docs-nav">
<div class="bd-toc-item">
<h4 class="bd-toc-link">Computer Science Annex</h4>
</div>

<div class="bd-toc-item ">
<a class="bd-toc-link" href="/csannex/sprint/recMPt6jmsCgaqrfj">
1.&nbsp;&nbsp;Data Structures: Heaps
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/csannex/module/recNbOiLfM7bfQ0aE/">
Heaps
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/csannex/sprint/recKzV5STy8vYnbQ1">
2.&nbsp;&nbsp;Intro to Django
</a>
<ul class="nav bd-sidenav">

<li class="active bd-sidenav-active">
<a href="/csannex/module/recvCvXoZKm5cYOc4/">
Django basics and setup
</a>
</li>
<li>
<a href="/csannex/module/recuEEEsf9eXphxy0/">
Building APIs
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/csannex/sprint/recUHGX7arXkBIutr">
3.&nbsp;&nbsp;Python/Django I
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/csannex/module/rec4yg0hRHaeOmBGN/">
Getting started with Python and Django
</a>
</li>
<li>
<a href="/csannex/module/recHhVqI4Y3j6UgLa/">
Object-Oriented Programming
</a>
</li>
<li>
<a href="/csannex/module/recgVHqW0RShuQn1Z/">
Software Design Patterns
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/csannex/sprint/rec64nbdwB28JM7Qu">
4.&nbsp;&nbsp;Python/Django II/Career Development
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/csannex/module/rec7YHjLuXabdlhof/">
REST
</a>
</li>
<li>
<a href="/csannex/module/recjIPIwz5Pn5WbPh/">
GraphQL
</a>
</li>
<li>
<a href="/csannex/module/recVsikSMFoQ25WZd/">
Model-View-Controller
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/csannex/sprint/reczMSFEG5pffpADx">
5.&nbsp;&nbsp;Python/Django III/Career Development
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/csannex/module/reccrn1If8mhlIymc/">
Object-relational mapping
</a>
</li>
<li>
<a href="/csannex/module/recU6Q1DLISGvt0dk/">
Relational Databases
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/csannex/sprint/recTTpwFpgZXtPG2o">
6.&nbsp;&nbsp;Project Week: Cellular Automata
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/csannex/module/rec42j1bkTmC0Hsro/">
Game of Life
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/csannex/sprint/recqkHjNcXzK5DTqd">
7.&nbsp;&nbsp;C Programming Topics
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/csannex/module/recLymrrD7f46rdBa/">
Introduction To C
</a>
</li>
<li>
<a href="/csannex/module/rec7YmMV7ukDLK770/">
Processes and System Calls
</a>
</li>
<li>
<a href="/csannex/module/recfiYtQDLFXGOBFA/">
Scheduling
</a>
</li>
<li>
<a href="/csannex/module/recHPT5QiPS6NOCgz/">
Operating Systems
</a>
</li>
<li>
<a href="/csannex/module/recz76g3pcHs88Dax/">
Web Server I
</a>
</li>
<li>
<a href="/csannex/module/recFGnBVmKCyR0427/">
Web Server II
</a>
</li>
<li>
<a href="/csannex/module/recH0OAnSr6ZcnZ7F/">
Theory of Computation
</a>
</li>
</ul>
</div>
</nav>
</div>
</div>
<main class="content-container flex-wrapper" role="main">
<div class="sticky-nav">
<div class="sprint-nav">
<ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#prepare">Prepare</a></li>
<li class="toc-entry toc-h2"><a href="#learn">Learn</a></li>
<li class="toc-entry toc-h2"><a href="#project">Project</a></li>
<li class="toc-entry toc-h2"><a href="#review">Review</a></li>
</ul>
</div>

</div>
<div class="wrapper limit-width">
<div class="flex-wrapper">
<div class="limit-width">
<div class="jumbotron">
<h1 class="bd-title" id="content">Django basics and setup</h1>
<span class="lead">
<p class="bd-lead"></p>
<p>You’ve learned how to build back-ends with node.js, using the minimalist Express framework. Now you’re going to continue building your Python proficiency and get started with another framework - Django. Your first goal - get set up, learn a bit about the system, and be able to make a simple “Hello Django” application.</p>
<p>Django is, like Python, a pragmatic “one right way to do it” system, specifically a web application framework built on the principles of convention over configuration and fast iterative design. It is “batteries included”, which means it comes with ways to do most common web application tasks (data models, ORM, templates, forms, validation, auth, etc.).</p>
<p>The Django ecosystem bills itself as “the web framework for perfectionists with deadlines” - these many included features are what makes it quick to build an MVP with. We will start by learning about and using these components, and then move on to extend the system and (to some extent) pick and choose the modules we actually want.</p>
<p>For now, get started by setting out on the objectives, setting up a Python/Django development environment and making a basic Django app. There are also many linked resources to check out for each objective, Django has an excellent community with lots of helpful tutorials and documentation.</p>
<p>Have fun getting started with Django!</p>
</span>
<strong>At the end of this module, you should be able to:</strong>
<ul>
<li>setup and use basic Python/Django development environment</li>
<li>describe and use the Django migration system</li>
<li>add a data model to Django</li>
<li>add data to the database using a Python shell</li>
<li>use a .env file to track `SECRET_KEY` and other variables</li>
<li>set up and use the Django admin interface</li>
<li>migrate models with new fields added</li>
<li>subclass and specialize a model</li>
<li>run SQL and ORM commands to investigate Django's SQL database</li>
</ul>
</div>
<div class="alert alert-warning" role="alert">
<h4>Pro Tip</h4>
<p>Always think of yourself as a learner…It’s like being in a community of wizards, and there’s still so much wizardry to learn, you never can learn it all. People who have been doing Unix command line, 30 or 40 years later, they’re still finding cool stuff they never knew about. There’s that moment of clarity when you discover a new trick, that you had no idea about - it’s wonderful. I think it’s that sense of wonder that brings people into technology in the first place. As software developers, we get that more than any other profession.</p>
</div>
<h2 class="display-4">
<a id="prepare" class="anchor" href="#prepare" aria-hidden="true"><span class="octicon octicon-link"></span></a>Prepare</h2>
<p class="lead">Review each preclass resource before class.</p>
<div class="preclass">
<ul class="list-group list-group-flush">
<li class="list-group-item">
<div class="embed-responsive embed-responsive-16by9">
<iframe class="embed-responsive-item" src="https://www.youtube.com/embed/2TS5303j07M" frameborder="0" allowfullscreen></iframe>
</div>
</li>
<li class="list-group-item">
<div class="embed-responsive embed-responsive-16by9">
<iframe class="embed-responsive-item" src="https://www.youtube.com/embed/fQJa2onrEI8" frameborder="0" allowfullscreen></iframe>
</div>
</li>
<li class="list-group-item">
<div class="embed-responsive embed-responsive-16by9">
<iframe class="embed-responsive-item" src="https://www.youtube.com/embed/2nlda8OUzCw" frameborder="0" allowfullscreen></iframe>
</div>
</li>
<li class="list-group-item">
<div class="embed-responsive embed-responsive-16by9">
<iframe class="embed-responsive-item" src="https://www.youtube.com/embed/E8rcfcNChbw" frameborder="0" allowfullscreen></iframe>
</div>
</li>
<li class="list-group-item">
<div class="embed-responsive embed-responsive-16by9">
<iframe class="embed-responsive-item" src="https://www.youtube.com/embed/r6r-CFQPfoQ" frameborder="0" allowfullscreen></iframe>
</div>
</li>
<li class="list-group-item">
<div class="embed-responsive embed-responsive-16by9">
<iframe class="embed-responsive-item" src="https://www.youtube.com/embed/QtmB7wbfDiA" frameborder="0" allowfullscreen></iframe>
</div>
</li>
<li class="list-group-item">
<div class="embed-responsive embed-responsive-16by9">
<iframe class="embed-responsive-item" src="https://www.youtube.com/embed/n042GgOq67Q" frameborder="0" allowfullscreen></iframe>
</div>
</li>
<li class="list-group-item">
<div class="embed-responsive embed-responsive-16by9">
<iframe class="embed-responsive-item" src="https://www.youtube.com/embed/-E0-5_rBIsQ" frameborder="0" allowfullscreen></iframe>
</div>
</li>
<li class="list-group-item">
<div class="embed-responsive embed-responsive-16by9">
<iframe class="embed-responsive-item" src="https://www.youtube.com/embed/iZT-Pr6xY84" frameborder="0" allowfullscreen></iframe>
</div>
</li>
<li class="list-group-item">
<a target="_blank" href="http://overapi.com/python">Python Cheat Sheet</a>
</li>
<li class="list-group-item">
<a target="_blank" href="https://www.python.org/downloads/">Python Download Links</a>
<p>Note - if you have a package manager (brew, apt, etc.) check that first.</p>
</li>
<li class="list-group-item">
<a target="_blank" href="https://docs.python.org/3/">Official Python Documentation</a>
</li>
<li class="list-group-item">
<a target="_blank" href="https://docs.djangoproject.com/en/2.0/intro/">Getting started with Django</a>
<p>Intro, install guide, and writing your first Django app</p>
</li>
<li class="list-group-item">
<a target="_blank" href="http://docs.python-guide.org/en/latest/intro/learning/">Resources for learning Python</a>
<p>A variety of mostly free resources for learning Python, organized by experience level and purpose/focus.</p>
</li>
<li class="list-group-item">
<a target="_blank" href="https://marketplace.visualstudio.com/items?itemName=ms-python.python">Python plugin for VS Code</a>
<p>Official plugins for Python development with VS Code</p>
</li>
<li class="list-group-item">
<a target="_blank" href="https://pep8.org/">PEP8 Python Style Guide</a>
<p>Official Python community style guide</p>
</li>
<li class="list-group-item">
<a target="_blank" href="https://google.github.io/styleguide/pyguide.html">Google Python Style Guide</a>
<p>Google’s take on Python style.</p>
</li>
<li class="list-group-item">
<a target="_blank" href="https://devdocs.io/">DevDocs</a>
<p>General offline documentation tool</p>
</li>
<li class="list-group-item">
<a target="_blank" href="https://www.pythonanywhere.com/">PythonAnywhere</a>
<p>Cloud Python service with free plan</p>
</li>
<li class="list-group-item">
<a target="_blank" href="https://jupyter.org/">Project Jupyter</a>
<p>Environment using Python (and more) for interactive data analysis.</p>
</li>
</ul>
</div>
<h2 class="display-4">
<a id="learn" class="anchor" href="#learn" aria-hidden="true"><span class="octicon octicon-link"></span></a>Learn</h2>
<h4 class="mark mb-3 p-2">Learn to setup and use basic Python/Django development environment</h4>
<p>Django/Python will be our basis for teaching OOP, so getting set up and running with it is key. This means both having a development environment, knowing the basics of Python syntax, and getting your feet wet in the overall Python ecosystem (packages, documentation, etc.).</p>
<p>This objective is purely hands-on, so it is important to follow along and make sure you do each step. If you run into issues, ask for help - this environment will be used for the rest of the Django/Python material.</p>
<h5>Overview</h5>
<p>We’ll go over the basics: what Django is and what it buys us–why use it? We’ll also talk about the steps we’ll go through to set it up.</p>
<p>As a framework, Django has a large number of boilerplate commands that are needed to get things done. Although they are logically grouped and each performs a non-redundant, important task.</p>
<p>We’ll go into further detail in the tasks necessary to set up a project.</p>
<h5>Follow Along</h5>
<p>Check Python version and install or upgrade if less than 3.5.x.</p>
<p>Check Pip version and install or upgrade if less than 10.x.</p>
<ul>
<li>Mac/Linux - Option A: <code class="highlighter-rouge">sudo -H pip3 install --upgrade pip</code>
</li>
<li>Mac/Linux - Option B: <code class="highlighter-rouge">brew upgrade python</code>
</li>
<li>PC - <code class="highlighter-rouge">python -m pip install --upgrade pip</code>
</li>
</ul>
<p>Check Pipenv version and install or upgrade if less than 2018.x
<br><em>(2018.10.13 as of November 6, 2018)</em></p>
<p>Normally you’d make a repo with a README and a Python gitignore, but since we’re
going to be using pull requests to turn things in, just fork this repo instead.</p>
<p>Clone repo on to local machine.</p>
<p>In the terminal, navigate to root folder of repo.</p>
<p>Create pipenv virtual environment:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pipenv --three
</code></pre></div></div>
<ul>
<li>The <code class="highlighter-rouge">--three</code> option tells it to use Python3</li>
<li>This is similar to using <code class="highlighter-rouge">npm</code>/<code class="highlighter-rouge">yarn</code>
</li>
</ul>
<p>Verify that the <code class="highlighter-rouge">Pipfile</code> was created in the root of the repo.</p>
<p>Activate pipenv with <code class="highlighter-rouge">pipenv shell</code></p>
<ul>
<li>You should see the command line change to the name of your repo/folder
followed by a dash and a random string.</li>
<li>We are using pipenv because it is newer and more robust. Uses a lockfile
similar to npm/yarn. Easier to get into and out of shell.</li>
<li>To get back in, use <code class="highlighter-rouge">pipenv shell</code> from the root directory of the project.</li>
</ul>
<h3 id="to-start-a-django-project-and-app">To Start a Django Project and App</h3>
<p>Once you are in the virtual environment, install django:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pipenv install django
</code></pre></div></div>
<ul>
<li>We are using a virtual environment instead of installing globally because
installing globally would be like using npm/yarn install globally and
installing all the packages on everything.</li>
</ul>
<p>Add <code class="highlighter-rouge">Pipfile</code> and <code class="highlighter-rouge">Pipfile.lock</code> to the repo with <code class="highlighter-rouge">git add Pipfile*</code> and commit
with <code class="highlighter-rouge">git commit -m "added pipfiles"</code>.</p>
<p>Start a project with <code class="highlighter-rouge">django-admin startproject [name_of_project] .</code></p>
<ul>
<li>Replace [nameofproject] with the name of your project</li>
<li>The . tells it to create the project in the current directory. Otherwise, it
would create a project in a subdirectory called [name_of_project]. We don’t
need that because we want the repo folder to be the root</li>
</ul>
<p>Verify that the [name_of_project] folder was created and has boilerplate files
such as <code class="highlighter-rouge">__init__.py</code>.</p>
<p>The project is what it was named above. A project is made up of a collection of
apps. It can have one or many.</p>
<p>Create an app with <code class="highlighter-rouge">django-admin startapp [name_of_app]</code></p>
<ul>
<li>For the first project, we are naming the app notes</li>
<li>Name it differently as appropriate if you are following this to set up, but
working on something else.</li>
</ul>
<h3 id="start-the-server">Start the Server</h3>
<p>Verify that the [name_of_app] subdirectory has been created</p>
<p>Test by navigating to the project folder root/[name_of_project] and running
<code class="highlighter-rouge">./manage.py runserver</code></p>
<ul>
<li>This should launch the animated rocket default page</li>
<li>Take note of the warning about unapplied migrations. We will fix that in a moment</li>
</ul>
<p>Django makes it easier to make changes to databases. This is called migration(s).</p>
<h5>Challenge</h5>
<ul>
<li>After you’ve done this once, delete your local clone and do it again from scratch. It will help mentally cement the steps needed.</li>
</ul>
<hr>
<h4 class="mark mb-3 p-2">Learn to describe and use the Django migration system</h4>
<p>One of the more powerful pieces of Django is how it automatically takes information from your model (defined in Python) and converts it to SQL for persistent storage in the database.</p>
<p>In particular, if you modify the model in the future, Django can handle largely-automatic updates to the SQL data with minimal intervention. Historically these kinds of SQL modifications were a significant pain-point, and is one that Django works hard to reduce.</p>
<h5>Overview</h5>
<p>We’ll describe how the migration system works in Django, how it interfaces with the database and how it is used to keep the database schema up-to-date with the data definition in the model.</p>
<p>Together we’ll run through an example of seeing what migrations need to be applied, how to apply them, and how to look under the hood at the SQL that is generated to modify the database.</p>
<h5>Follow Along</h5>
<p>Run <code class="highlighter-rouge">./manage.py showmigrations</code>. This will show a list of outstanding
changes that need to occur.</p>
<p>To take a closer look at what is being done, you can look at the SQL queries
that Django is building. <em>This step is entirely optional, and is only for the
curious–which should be you!</em></p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./manage.py sqlmigrate [package_name] [migration_id]
</code></pre></div></div>
<p>for example</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./manage.py sqlmigrate admin 0001_initial
</code></pre></div></div>
<ul>
<li>This will display a large number of sql commands that may not make sense if
you are not yet familiar with SQL.</li>
<li>This doesn’t actually do anything. It just displays info.</li>
<li>These are all the data structures that your python code has created. Django
turns this into sql tables, etc. for you. (If you’ve ever done this manually,
you know how awesome that is :) )</li>
</ul>
<p>To actually run the migrations, use:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./manage.py migrate
</code></pre></div></div>
<p>Check them by showing migrations again: <code class="highlighter-rouge">./manage.py showmigrations</code></p>
<ul>
<li>The list of migrations should show an <code class="highlighter-rouge">x</code> for each item.</li>
</ul>
<p>Run the server again and confirm that the migration warning is not present.
There won’t be a change to the actual page that renders.</p>
<h5>Challenge</h5>
<ul>
<li>Set up a basic Django installation and run the server without first running the migrations.</li>
<li>Examine the migrations that need to be applied.</li>
<li>Apply them.</li>
<li>Run the server again to see that the migration warnings have gone away.</li>
</ul>
<h5>Dig Deeper</h5>
<ul>
<li>
<a href="https://djangopackages.org/" target="blank_">Django Packages</a><br> Directory of reusable apps/tools for Django</li>
</ul>
<hr>
<h4 class="mark mb-3 p-2">Learn to add a data model to Django</h4>
<p>At the core of Django, your data is represented by models. Django automatically translates actions on the models into a variety of other things: SQL statements, API endpoints, and so on.</p>
<p>But the data model you describe is at the core.</p>
<h5>Overview</h5>
<p>We’ll discuss how models have a variety of fields that are used to represent different data types. Also, we’ll dig into the relationship between models and the migration process.</p>
<p>Together we’ll implement a new data model in our Django app, add fields to it, and generate and run migrations so that the data can be represented in the database.</p>
<h5>Follow Along</h5>
<p>In the <code class="highlighter-rouge">notes</code> folder, open <code class="highlighter-rouge">models.py</code>.</p>
<p>Create a class called <code class="highlighter-rouge">notes</code> that inherits from <code class="highlighter-rouge">models.Model</code>:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Note</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
</code></pre></div></div>
<p>This gives our new class access to all of the built-in functionality in <code class="highlighter-rouge">models.Model</code>.</p>
<p>Think about the data that we need for standard web notes functionality. We might
want a title, body, some timestamps, etc. We can use the docs to find the types
of things we can add:</p>
<p>https://docs.djangoproject.com/en/2.0/ref/models/</p>
<p>Add the following variables to the class:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Note</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">(</span><span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre></div></div>
<p>Add any additional fields you would like as well.</p>
<p>We also need something to serve as a unique identifier for each record. We’ll
use something called a UUID for this:
<a href="https://en.wikipedia.org/wiki/Universally_unique_identifier">https://en.wikipedia.org/wiki/Universally_unique_identifier</a>.</p>
<p>Add a UUID to serve as a key for each record.</p>
<ul>
<li>First, import the library:
<div class="language-python highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">uuid</span> <span class="kn">import</span> <span class="n">uuid4</span>
</code></pre></div> </div>
</li>
<li>Second, add the field:
<div class="language-python highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="nb">id</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">UUIDField</span><span class="p">(</span><span class="n">primary_key</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">uuid4</span><span class="p">,</span> <span class="n">editable</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</code></pre></div> </div>
</li>
<li>Primary key is how the database tracks records.</li>
<li>Default calls a function to randomly generate a unique identifier.</li>
<li>We make editable false because we never want to change the key.</li>
<li>Put it at the top of the list of fields because it’s sort of like the index
for the record.</li>
</ul>
<p>Next, we need to tell the project that the app exists. Open <code class="highlighter-rouge">settings.py</code> from
the project folder.</p>
<p>Find the section for <code class="highlighter-rouge">INSTALLED_APPS</code> and add <code class="highlighter-rouge">'notes'</code>, or other apps as
appropriate.</p>
<p>In the console, check for migrations again with <code class="highlighter-rouge">./manage.py
showmigrations</code>. The notes app should show up in the list now, but it has no
migrations.</p>
<p>To generate the migrations, run:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./manage.py makemigrations
</code></pre></div></div>
<p>If you get an error that there are no changes to make, double-check that you
have saved <code class="highlighter-rouge">models.py</code>.</p>
<p>Show migrations again to make sure they appear, then do the migration:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./manage.py migrate
</code></pre></div></div>
<h5>Challenge</h5>
<ul>
<li>Add another data model that describes some type of data you’re interested in.</li>
</ul>
<hr>
<h4 class="mark mb-3 p-2">Learn to add data to the database using a Python shell</h4>
<p>There’s a Python shell built into Django that can be used to test the models and other Django entities that you create in the code. This can be a useful tool for experimenting and debugging.</p>
<h5>Overview</h5>
<p>We’ll discuss specific use cases for when we might want to use the shell and how it ties into Django and the backing database.</p>
<p>We’ll launch the shell, import the model we made, and create instances of it. We’ll also examine the data and functions associated with the new instance, as well as how to save it permanently to the database.</p>
<p>Once saved, we’ll take a peek at how to programmatically get those instances back out of the database.</p>
<h5>Follow Along</h5>
<p><code class="highlighter-rouge">manage.py</code> has its own shell. Run <code class="highlighter-rouge">./manage.py shell</code> to bring up a Python repl.</p>
<ul>
<li>The input line should change to <code class="highlighter-rouge">&gt;&gt;&gt;</code>
</li>
</ul>
<p>Import the notes class into the repl:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">notes.models</span> <span class="kn">import</span> <span class="n">Note</span>
</code></pre></div></div>
<p>Create a new note with:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">n</span> <span class="o">=</span> <span class="n">Note</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="err">”</span><span class="n">example</span><span class="err">”</span><span class="p">,</span> <span class="n">content</span><span class="o">=</span><span class="err">”</span><span class="n">This</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">test</span><span class="o">.</span><span class="err">”</span><span class="p">)</span>
</code></pre></div></div>
<p>Check by the name of your variable to make sure worked:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">n</span>
</code></pre></div></div>
<p>We can use a built in function from models (which <code class="highlighter-rouge">Note</code> inherited from!) to
save this to the database:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">n</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</code></pre></div></div>
<p>Exit the terminal, then restart it - <code class="highlighter-rouge">exit()</code> then <code class="highlighter-rouge">./manage.py shell</code></p>
<p>We have to import the <code class="highlighter-rouge">Note</code> class again, using the same command as before.</p>
<p>There is another built in method that will retrieve all existing objects of a
class: <code class="highlighter-rouge">Note.objects.all()</code></p>
<p>Use this to save the data back into a variable named <code class="highlighter-rouge">b</code> and explore.</p>
<h5>Challenge</h5>
<ul>
<li>Using a different model, import the model.</li>
<li>Create two new instances of the model.</li>
<li>Save the instances to the database.</li>
<li>Exit the shell, then restart it.</li>
<li>Verify that the objects were saved in the database.</li>
</ul>
<hr>
<h4 class="mark mb-3 p-2">Learn to use a .env file to track `SECRET_KEY` and other variables</h4>
<p>Django uses a secret key for a variety of different internal uses. It’s important to keep this key secret, and that secrecy is compromised if you store the key in source control (like git).</p>
<h5>Overview</h5>
<p>When we store data in source control, it’s there for everyone to see. Since Django uses its <code class="highlighter-rouge">SECRET_KEY</code> variable in <code class="highlighter-rouge">settings.py</code> for a variety of cryptographic purposes, it’s important that we keep it out of source control. We’ll discuss a way to do this using a <code class="highlighter-rouge">.env</code> file.</p>
<p>Additionally, there are other variables that you might need to change depending on whether or not you’re deployed or in a development environment. The <code class="highlighter-rouge">.env</code> file also helps in this regard.</p>
<p>Finally, we’ll discuss how to generate a new key if you’ve accidentally compromised yours.</p>
<h5>Follow Along</h5>
<p>Take a look at that secret key in <code class="highlighter-rouge">settings.py</code>.</p>
<p>We want to move this out of the settings file so that it doesn’t get checked
into source control. We’ll move it to another file, which everyone on the
project will need a copy of, but it won’t be in the repo itself.</p>
<p>We’re going to make use of a module called Python Decouple by installing it in
the virtual environment:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pipenv install python-decouple
</code></pre></div></div>
<p>Once it’s installed, we can bring it into <code class="highlighter-rouge">settings.py</code> with:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">decouple</span> <span class="kn">import</span> <span class="n">config</span>
</code></pre></div></div>
<p>Pull up the docs for Python Decouple and take a look at the usage and rationale.
There is an example for how to use it with Django. Follow that to remove the key
from settings.</p>
<p>Add the key your <code class="highlighter-rouge">.env</code> file (creating it if you have to):</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SECRET_KEY='...whatever it was in the settings file...'
</code></pre></div></div>
<p>Then change the line in <code class="highlighter-rouge">settings.py</code> to:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">SECRET_KEY</span> <span class="o">=</span> <span class="n">config</span><span class="p">(</span><span class="s">'SECRET_KEY'</span><span class="p">)</span>
</code></pre></div></div>
<p>We should also move <code class="highlighter-rouge">DEBUG</code> to the config file. Because the file is a string,
and <code class="highlighter-rouge">DEBUG</code> expects a bool, we need to cast it:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">DEBUG</span> <span class="o">=</span> <span class="n">config</span><span class="p">(</span><span class="s">'DEBUG'</span><span class="p">,</span> <span class="n">cast</span><span class="o">=</span><span class="nb">bool</span><span class="p">)</span>
</code></pre></div></div>
<p>We do this not for security, but so that it can be changed as needed on a
development machine, without modifying the source code.</p>
<p>Don’t forget to add it to <code class="highlighter-rouge">.env</code> as well.</p>
<p>Test to make sure it still works and debug as needed.</p>
<p>Before moving on, verify that <code class="highlighter-rouge">.env</code> is in <code class="highlighter-rouge">.gitignore</code> and commit.</p>
<p>In case you’ve already committed a key earlier on accident, you can just
generate a new one in any Python REPL with:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">random</span>
<span class="s">''</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">random</span><span class="o">.</span><span class="n">SystemRandom</span><span class="p">()</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="s">'<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="f9989b9a9d9c9f9e919093929594979689888b8a8d8c8f8e818083c9c8cbcacdcccfcec1c0d8b9">[email&#160;protected]</a>#$</span><span class="si">%</span><span class="s">^&amp;*(-_=+)'</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">50</span><span class="p">)])</span> <span class="c1"># All one line!
</span></code></pre></div></div>
<h5>Challenge</h5>
<ul>
<li>What other variables might it be useful to keep in the .env file? Why?</li>
<li>Create a new key and put it in your .env for safe keeping.</li>
</ul>
<hr>
<h4 class="mark mb-3 p-2">Learn to set up and use the Django admin interface</h4>
<p>One of the big draws of Django is its built-in easy-to-use admin interface. You can manage users, manipulate data, and perform all kinds of actions through the interface that might otherwise be painful to build in other frameworks.</p>
<h5>Overview</h5>
<p>Users can be set up not only for accessing the admin interface, but also for accessing the site or REST endpoints, as we’ll see later. Since you can also change data in the database, it gives you an automatic backdoor to remove offending data or add data in an ad-hoc way.</p>
<p>We’ll create the first user, the <em>superuser</em>. Then we’ll log in to the interface and create more users. We’ll also learn how to expose a model through the interface and manipulate data in the database through it.</p>
<h5>Follow Along</h5>
<p>Start the environment and server:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pipenv shell
./manage.py runserver
</code></pre></div></div>
<p>Open the page in the web browser and navigate to the admin page:
<code class="highlighter-rouge">localhost:8000/admin</code>. You will see a login page, but we don’t have an account
to log in with yet.</p>
<p>To make an admin account, run:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./manage.py createsuperuser
</code></pre></div></div>
<p>Add a user <code class="highlighter-rouge">admin</code> with whatever password you choose.</p>
<p>Although it can be tempting to use a short and easy password for things like
this, it is good practice to use a robust passphrase. You don’t want to forget
and leave a superuser account with a weak password and have it pass to
production.</p>
<p>Run the server and log into the admin account you just created. You will be
able to see the automatically generated users and groups from the database, but
our notes are missing.</p>
<p>We need to tell the admin interface which tables we’re interested in seeing.</p>
<p>In the <code class="highlighter-rouge">notes/admin.py</code> file:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">.models</span> <span class="kn">import</span> <span class="n">Note</span>
</code></pre></div></div>
<p>and register the <code class="highlighter-rouge">Note</code> model with the admin site with:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">Note</span><span class="p">)</span>
</code></pre></div></div>
<p>Return to the site admin page. <code class="highlighter-rouge">Notes</code> should now be present. Try adding
and/or editing a few.</p>
<h5>Challenge</h5>
<ul>
<li>Add another user. Give them <code class="highlighter-rouge">staff</code> permissions.</li>
<li>Expose another model through the admin interface.</li>
<li>Use the interface to add and delete records in the new model.</li>
</ul>
<hr>
<h4 class="mark mb-3 p-2">Learn to migrate models with new fields added</h4>
<p>When you add new fields to models, something must be set up for the records that already exist in the database. There are several different approaches to take.</p>
<h5>Overview</h5>
<p>When you add a new field that can’t be empty to a model, Django wants to know what to do with that field. It needs to be populated with <em>something</em>, or be allowed to be blank.</p>
<p>So it will insist that you take some action to prevent the database from becoming inconsistent.</p>
<p>First we’ll add new fields to a model, then try to make a new migration for it. Django will let us know that we have to do something with the new fields for existing records.</p>
<p>We’ll experiment with manually setting the existing records, and also adding fields that can be blank or have a default.</p>
<h5>Follow Along</h5>
<p>It would also be nice to track created and modified dates.</p>
<p>Open <code class="highlighter-rouge">notes/models.py</code> and add:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">created_at</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">auto_now_add</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">last_modified</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">auto_now</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre></div></div>
<p>The argument we are using determines when and how this information should be
updated: <code class="highlighter-rouge">auto_now_add</code> only sets on create, while <code class="highlighter-rouge">auto_now</code> will set on both
create and update.</p>
<p>In the terminal, make the migration:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./manage.py makemigrations
</code></pre></div></div>
<p>You will get the following:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>You are trying to add the field ‘created_at’ with ‘auto_now_add=True’ to note
without a default; the database needs something to populate existing rows.

1) Provide a one-off default now (will be set on all existing rows)
2) Quit, and let me add a default in models.py
Select an option:
</code></pre></div></div>
<p>Default can sometimes be specified with:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">foo</span> <span class="o">=</span> <span class="n">whateverField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">value</span><span class="p">)</span>
</code></pre></div></div>
<p>Or you can allow the field to be blank with:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">foo</span> <span class="o">=</span> <span class="n">whateverField</span><span class="p">(</span><span class="n">blank</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre></div></div>
<p>But this <em>will not work</em> in a <code class="highlighter-rouge">DateTimeField</code> with <code class="highlighter-rouge">auto_now</code> or <code class="highlighter-rouge">auto_now_add</code>
set, so use option 1 with suggested default of <code class="highlighter-rouge">timezone.now</code>.</p>
<p>Do the migration: <code class="highlighter-rouge">./manage.py migrate</code></p>
<p>You might notice that the new fields aren’t showing up in the admin interface. This is because when you use <code class="highlighter-rouge">auto_now</code>, the field gets set to read-only, and such fields aren’t shown in the panel.</p>
<p>To get the read-only fields to show up in the interface:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">NoteAdmin</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">ModelAdmin</span><span class="p">):</span>
	<span class="n">readonly_fields</span><span class="o">=</span><span class="p">(</span><span class="s">'created_at'</span><span class="p">,</span> <span class="s">'last_modified'</span><span class="p">)</span>

<span class="c1">### Register your models here.
</span><span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">Note</span><span class="p">,</span> <span class="n">NoteAdmin</span><span class="p">)</span>
</code></pre></div></div>
<h5>Challenge</h5>
<ul>
<li>Add three additional fields to your models</li>
<li>Allow one to be blank</li>
<li>Give another a default</li>
<li>Make migrations</li>
<li>Manually enter a value for the third new field</li>
</ul>
<hr>
<h4 class="mark mb-3 p-2">Learn to subclass and specialize a model</h4>
<p>If you have a simple model defined, you might want to offer variations on that model. Inheritance provides and easy way to do this, and Django takes care of the details of the relationship for you.</p>
<h5>Overview</h5>
<p>Just like classes can be related through inheritance, models (being classes themselves) can also be so-related. This can be a convenient to way to make multiple new models based on an existing, base model.</p>
<p>We’ll add a new model based on our existing one, and give it some extra functionality. We’ll also relate this model to a different model: the built-in <code class="highlighter-rouge">User</code> model. And, in order to maintain database consistency, we’ll determine what to do with our model in case that model’s <code class="highlighter-rouge">User</code> is deleted.</p>
<p>Django will take care of all the necessary database heavy lifting for us.</p>
<h5>Follow Along</h5>
<p>Next we want to add the ability to handle multiple users, and allow them to have
their own personal notes.</p>
<p>First, we will create a new model that inherits from another: personal notes.
Open up <code class="highlighter-rouge">notes/models.py</code></p>
<p>To access the built-in user functionality:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">django.contrib.auth.models</span> <span class="kn">import</span> <span class="n">User</span>
</code></pre></div></div>
<p>We could copy and paste the previous notes class to do this, but a better way is
to have it inherit from it and just add the additional fields we need.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">PersonalNote</span><span class="p">(</span><span class="n">Note</span><span class="p">):</span>   <span class="c1"># Inherits from Note!
</span>    <span class="n">user</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">User</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">)</span>
</code></pre></div></div>
<p>What this is doing is importing Django’s built in user class model with
something called a <em>foreign key</em> to create a reference to data on another table.
It works sort of like a pointer in C.</p>
<p><code class="highlighter-rouge">on_delete=models.CASCADE</code> helps with the integrity of the data. In relational
databases, one of the principles is to protect consistency. There shouldn’t be
an item in one table that references the foreign key of something that has been
removed from another.</p>
<h5>Challenge</h5>
<ul>
<li>Subclass another model and add more fields to it.</li>
</ul>
<hr>
<h4 class="mark mb-3 p-2">Learn to run SQL and ORM commands to investigate Django's SQL database</h4>
<p>Even though you don’t normally interact with Django at the SQL level, peeking under the hood can help you understand how data is modeled at a higher level. It’s also a good small introduction to SQL</p>
<h5>Overview</h5>
<p>When you define models in Django, it automatically does all the mappings required to store corresponding data in the SQL database. We can dig down and see how that storage is laid out, and we can access it with SQL commands.</p>
<p>For comparison, we’ll see how easy it is to use the Django ORM functionality to access the same data.</p>
<p>First we’ll launch Django’s SQL shell. This will allow us to examine the database and we’ll perform queries against it to retrieve our model data.</p>
<p>We’ll also look at a migration and see how that impacts the database when it runs.</p>
<p>Finally, we use Django’s ORM functionality to get data out. This is the typical way data is extracted from Django.</p>
<h5>Follow Along</h5>
<p>We can take a look in the database with <code class="highlighter-rouge">./manage.py dbshell</code>. If you get an
error, you may need to install sqlite3 using your preferred method.</p>
<p>If it is working, the command prompt will change to <code class="highlighter-rouge">sqlite</code>.</p>
<p><code class="highlighter-rouge">.tables</code> will display a list of tables</p>
<p><code class="highlighter-rouge">pragma table_info(notes_note);</code> will show column names and types for the table
<code class="highlighter-rouge">notes_note</code>.</p>
<p><code class="highlighter-rouge">.headers on</code> and <code class="highlighter-rouge">.mode column</code> will adjust some settings to clean up the
presentation if we open a table.</p>
<p><code class="highlighter-rouge">SELECT * FROM notes_note;</code> is a sql command that will select all of the columns
in the notes_note table and display the data present. By convention, sql
commands are often uppercase, but it is actually case insensitive.</p>
<p>All the notes we have created will be displayed.</p>
<p>Be <em>very</em> careful with sql commands. The command <code class="highlighter-rouge">DROP</code> will permanently delete
a table and all of the data inside it without warning. <em>This language is
powerful and has no mercy</em>.</p>
<p>Type <code class="highlighter-rouge">.exit</code> or <code class="highlighter-rouge">CTRL-D</code> to get out of dbshell.</p>
<p>Back in the virtual environment, because we modified the model to add personal
notes, we need to do another migration.</p>
<p>Complete the migration process as before.</p>
<p>We also want personal notes to show up on the admin page. Open <code class="highlighter-rouge">admin.py</code> then
import and register the new class. Remember, you can use tuples for both of
these. Don’t forget to use the extra parentheses inside the register function.</p>
<p>Take a look at it in <code class="highlighter-rouge">admin</code>. It should be the same as before, but now we have
a <code class="highlighter-rouge">user</code> field that is automatically populated.</p>
<p>We can use the admin interface to add more users in the user table, if we want.</p>
<p>For now, create a personal note for the admin account.</p>
<p>Go back to the sql shell, and take a look at the <code class="highlighter-rouge">notes_personalnote</code> table.</p>
<p>You’ll need to use the same three commands as above to display the table. Note
that the info here is very different. Instead of having everything, it just has
<code class="highlighter-rouge">user_id</code> and a foreign key <code class="highlighter-rouge">note_ptr_id</code>, pointing to a record in the full
notes table.</p>
<p>Take a look at the <code class="highlighter-rouge">notes_note</code> table. The rest of the data will be here,
listed under the uuid stored in <code class="highlighter-rouge">note_ptr_id</code>, a reference by the foreign key.
This is why relational databases are relational.</p>
<p>The <code class="highlighter-rouge">user_id</code> is also a foreign key that points to Django’s built-in <code class="highlighter-rouge">auth_user</code>
table. Run a <code class="highlighter-rouge">SELECT</code> query to look in that table, as well.</p>
<p>Drop out of the SQLite shell and open a Python shell with <code class="highlighter-rouge">./manage.py shell</code>.</p>
<p>Import personal notes: <code class="highlighter-rouge">from notes.models import PersonalNote</code></p>
<p>Pull the list into a variable: <code class="highlighter-rouge">pn = PersonalNote.objects.all()</code></p>
<p>Take a look at the name of the 0th record: <code class="highlighter-rouge">pn[0].user</code>. Try other fields as
well.</p>
<p>Django lets us access information that is in multiple tables relatively easily.
The sql details are hidden from us (in a good way!). It does all of the under
the hood operations for us.</p>
<h5>Challenge</h5>
<ul>
<li>Perform more ORM queries.</li>
<li>Look up the ORM <code class="highlighter-rouge">filter()</code> function and use it to select a subset of rows instead of all rows.</li>
<li>Use <code class="highlighter-rouge">order_by()</code> to order the results.</li>
</ul>
<hr>
<h2 class="display-4">
<a id="project" class="anchor" href="#project" aria-hidden="true"><span class="octicon octicon-link"></span></a>Project</h2>
<ul class="list-group">
<li class="list-group-item">
<h5><a target="_blank" href="https://github.com/LambdaSchool/Intro-Django">Django back end</a></h5>
<p>Over the course of the week, we’ll be putting together a Django app from scratch that provides a RESTful API for accessing data. Additionally, we’ll add token-based authentication.</p>
</li>
</ul>
<h2 class="display-4">
<a id="review" class="anchor" href="#review" aria-hidden="true"><span class="octicon octicon-link"></span></a>Review</h2>
<h3 class="display-5">Class Recordings</h3>
<p class="lead">You can use class recordings to help you master the material.</p>
<div>
<ul class="list-group list-group-flush">
<li class="list-group-item">
<strong><a target="_blank" href="https://youtu.be/QYTjoTLOiQs">Intro to Django Day 2 for CS13 w/ Brady Fukumoto</a></strong>
<p>Day 1 was focused mainly on installation of Django, in day 2 Brady has a more in depth discussion about Django’s functionality and answers many student questions</p>
</li>
<li class="list-group-item">
<a href="/archive/CSAnnex/module/recvCvXoZKm5cYOc4">All previous recordings</a>
</li>
</ul>
</div>
<h3 class="display-5">Demonstrate Mastery</h3>
<p>To demonstrate mastery of this module, you need to complete and pass a code review on each of the following:</p>
<ul>
<li>Objective challenge: <ul>
<li>After you’ve done this once, delete your local clone and do it again from scratch. It will help mentally cement the steps needed.</li>
</ul>
</li>
<li>Objective challenge: <ul>
<li>Set up a basic Django installation and run the server without first running the migrations.</li>
<li>Examine the migrations that need to be applied.</li>
<li>Apply them.</li>
<li>Run the server again to see that the migration warnings have gone away.</li>
</ul>
</li>
<li>Objective challenge: <ul>
<li>Add another data model that describes some type of data you’re interested in.</li>
</ul>
</li>
<li>Objective challenge: <ul>
<li>Using a different model, import the model.</li>
<li>Create two new instances of the model.</li>
<li>Save the instances to the database.</li>
<li>Exit the shell, then restart it.</li>
<li>Verify that the objects were saved in the database.</li>
</ul>
</li>
<li>Objective challenge: <ul>
<li>What other variables might it be useful to keep in the .env file? Why?</li>
<li>Create a new key and put it in your .env for safe keeping.</li>
</ul>
</li>
<li>Objective challenge: <ul>
<li>Add another user. Give them <code class="highlighter-rouge">staff</code> permissions.</li>
<li>Expose another model through the admin interface.</li>
<li>Use the interface to add and delete records in the new model.</li>
</ul>
</li>
<li>Objective challenge: <ul>
<li>Add three additional fields to your models</li>
<li>Allow one to be blank</li>
<li>Give another a default</li>
<li>Make migrations</li>
<li>Manually enter a value for the third new field</li>
</ul>
</li>
<li>Objective challenge: <ul>
<li>Subclass another model and add more fields to it.</li>
</ul>
</li>
<li>Objective challenge: <ul>
<li>Perform more ORM queries.</li>
<li>Look up the ORM <code class="highlighter-rouge">filter()</code> function and use it to select a subset of rows instead of all rows.</li>
<li>Use <code class="highlighter-rouge">order_by()</code> to order the results.</li>
</ul>
</li>
<li>Project: Django back end</li>
</ul>
</div>
</div>
</div>
</main>
</div>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-80850900-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());

  gtag('config', 'UA-80850900-4');
</script>
<script type="text/javascript">
  function getDomain() {
    const domainName = window.location.hostname.split('.')[1];
    return `${domainName}.com`;
  }
</script>
<script src="" integrity="" crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
<script src="/assets/js/vendor/popper.min.js" integrity="" crossorigin="anonymous"></script><script src="/dist/js/bootstrap.min.js" integrity="" crossorigin="anonymous"></script><script src="/assets/js/activate.js"></script>
<script src="/assets/js/jekyll-search.js" type="text/javascript"></script>
<script type="text/javascript">
  SimpleJekyllSearch.init({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('results-container'),
    dataSource: '/search.json',
    searchResultTemplate: '<li class="list-group-item"><a href="{url}" title="Django basics and setup">{title}</a></li>',
    noResultsText: '',
    limit: 10,
    fuzzy: true,
  })
</script>
<script src="/assets/js/mermaid.min.js"></script><script type="text/javascript">
  if (window.attachEvent) {
    window.attachEvent('onload', verifySignedIn);
  } else {
    if (window.onload) {
      var currentOnLoadFn = window.onload;
      var newOnLoadFn = function (evt) {
        currentOnLoadFn(evt);
        verifySignedIn();
      };
      window.onload = newOnLoadFn;
    } else {
      window.onload = verifySignedIn;
    }
  }

  function verifySignedIn() {
    if (isPagePublic()) {
      return showPageContents();
    }

    window.__user = null;
    isSignedIn().then((user) => {
      window.__user = user;

      if (!user.signedIn) {
        redirectToSignIn();
      } else if (!user.student && !window.__openToAdmissions) {
        showUnauthorizedMessage();
      } else {
        showPageContents();
      }
    });
  }

  function isPagePublic() {
    const openCourses = [
      'and-pre',
      'ds-pre',
      'fsw-pre',
      'help',
      'ios-pre',
    ];

    const openPages = [
      'cs-and',
      'cs-fsw',
      'cs-ios',
      'cr',
      'ds',
      'jx',
      'p4s',
      'ux',
    ];

    const pathParts = window.location.pathname.split('/');
    const courseName = pathParts[1];
    const pageName = pathParts[pathParts.length - 1];

    return openCourses.includes(courseName) || openPages.includes(pageName);
  }

  function isSignedIn() {
    const isDeployPreview = window.location.hostname.startsWith('deploy-preview') && window.location.hostname.endsWith('netlify.com');

    if (isDeployPreview) return Promise.resolve({ signedIn: true, student: true });

    return fetch(`${getAuthBaseUrl()}/whoami`, { credentials: 'include' })
      .then((response) => response.text())
      .then((userAsText) => userAsText ? JSON.parse(userAsText) : null)
      .then((userData) => ({ signedIn: Boolean(userData), student: Boolean(userData && userData.airtableId), id: userData ? userData.id : null, email: userData ? userData.email : null }))
      .catch((error) => {});
  }

  function redirectToSignIn() {
    const signInUrl = `${getAuthBaseUrl()}/sign-in?redirect=${encodeURIComponent(window.location.href)}&reason=auth_required`
    const redirectMessage = document.querySelector('#redirect-message');
    redirectMessage.style.display = "block";
    redirectMessage.innerHTML = `<div>You are being redirected to the sign in page. If you aren't redirected automatically, you can use <a href=${signInUrl}>this link</a>.</div>`
    window.location = signInUrl;
  }

  function showPageContents() {
    document.querySelector('#content-wrapper').style.visibility = 'visible';
  }

  function showUnauthorizedMessage() {
    document.querySelector('#unauthorized-message').style.display = 'block';
  }

  function getAuthBaseUrl() {
    const domain = getDomain();
    const authBaseUrl = `https://auth.${domain}`;
    return authBaseUrl;
  }
</script><script src="/assets/js/docs.min.js"></script><script>
  var MathJax = {
    tex: {
      inlineMath: [['$$', '$$'], ['\[', '\])']]
    },
    "HTML-CSS": {
      styles: {
        ".MathJax span": {
          color: "#000000"
        }
      }
    }
  }
</script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
<script>
  handleExternalLinks();

  function handleExternalLinks() {
    const domain = getDomain();
    const links = document.querySelectorAll('a');
    return links.forEach((link) => {
      if (!link.host.includes(domain)) link.target = '_blank';
    })
  };
</script>
</div>
</body>
</html>
