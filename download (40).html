<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Intended as a home for Lambda School curriculum.">
<meta name="author" content="">
<meta name="generator" content="Jekyll v3.8.0">
<title>Introduction to Node.js and Express · Lambda School</title>

<link rel='stylesheet' integrity crossorigin='anonymous' href='https://d33wubrfki0l68.cloudfront.net/css/0f99ed215b3d52fa1bee44dc614ea3fa1d1bebc0/dist/css/bootstrap.min.css' />

<link href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" rel="stylesheet">
<link rel='stylesheet' href='https://d33wubrfki0l68.cloudfront.net/css/1bf8317b3d6d0c9d813c92505f052bf79ffdcdfe/assets/css/docs.min.css' />

<link rel='stylesheet' href='https://d33wubrfki0l68.cloudfront.net/css/f3626ab7ab84821f8b60ea92b4a5c6acf59991af/assets/css/main.css' />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-122016605-1', 'learn.lambdaschool.com');
  ga('send', 'pageview');
</script>

<script>
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t,e){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.src="https://cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a);analytics._loadOptions=e};analytics.SNIPPET_VERSION="4.1.0";
  analytics.load("BjKorwKrSvMamfNoGkBq9rISk7wF6QQX");
  analytics.page();
  }}();
</script>

<link rel="apple-touch-icon" href="/assets/img/favicons/apple-touch-icon.png" sizes="180x180">
<link rel="icon" href="/assets/img/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
<link rel="icon" href="/assets/img/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
<link rel="manifest" href="/assets/img/favicons/manifest.json">
<link rel="mask-icon" href="/assets/img/favicons/safari-pinned-tab.svg" color="#a0001e">
<link rel="icon" href="/favicon.ico">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#a0001e">
</head>
<body>
<noscript>Please enable JavaScript to view this page.</noscript>
<div id="redirect-message" style="display: none;">
You must be logged in to view this page.
</div>
<div id="unauthorized-message" style="display: none;">
You must be a Lambda School student to view this page.
</div>
<div id="content-wrapper" >
<a id="skippy" class="sr-only sr-only-focusable" href="#content">
<div class="container">
<span class="skiplink-text">Skip to main content</span>
</div>
</a>
<div class="mobile-menu">
<div class="m-drop">
<div class="mobile-row">
<div class="header-row" style="padding: 3px 7px">
<a class="navbar-brand" href="/" aria-label="Lambda School"><svg xmlns="http://www.w3.org/2000/svg" width="33" height="35" viewBox="0 0 33 35" fill="none">
<path fill-rule="evenodd" clip-rule="evenodd" d="M0 0V16.0609C0 27.7335 9.08929 31.7843 15.7321 34.7513H15.75L16.2857 35C16.4107 34.9289 16.5357 34.8756 16.6786 34.8223C16.75 34.7868 16.8393 34.7513 16.9107 34.7157C23.5714 31.7665 32.6964 27.698 32.6964 16.0609V0H0ZM20.7071 23.4536L20.3571 22.5102L15.6071 10.0736C15.3214 10.802 14.6607 12.5609 13.9464 14.4442L11.2143 21.7817C11.0893 22.1371 11.1607 22.3147 11.25 22.4391C11.4464 22.6701 11.8768 22.6701 12.5554 22.6701H12.6786L12.6768 23.4518H7.56964V22.6701H7.9625C8.65893 22.6701 9.23036 22.368 9.65893 21.5152L10.1768 20.3426L14.9089 8.29696L14.0696 6.07614H18.4804L24.5696 22.0127L25.125 23.4536H20.7071Z" fill="#EC3944" />
</svg></a>
<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#mobile-course-menu" aria-controls="mobile-course-menu" aria-expanded="false" aria-label="Toggle navigation">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" width="30" height="30" focusable="false"><title>Menu</title><path stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" d="M4 7h22M4 15h22M4 23h22"></path></svg>
</button>
</div>
</div>
<div class="nav-row">
<div class="results-container">
<ul id="results-container" class="dropdown list-group"></ul>
</div>
<div id="mobile-course-menu" class="collapse nav-row">
<div class="docs-mobile-sidebar" id="bd-docs-nav-mobile">
<nav class="bd-links">
<div class="bd-toc-item">
<h4 class="bd-toc-link">Web API: Node</h4>
</div>

<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web4node/sprint/reckzQd7ZgiFY5ok5">
1.&nbsp;&nbsp;Build a Web API
</a>
<ul class="nav bd-sidenav">

<li class="active bd-sidenav-active">
<a href="/web4node/module/recZiPP8Oyg1WlHxT/">
Introduction to Node.js and Express
</a>
</li>
<li>
<a href="/web4node/module/recBjiSulq0PYLCIj/">
Server-Side Routing with Express
</a>
</li>
<li>
<a href="/web4node/module/recCJjYFEz0i5O5p5/">
Express Middleware
</a>
</li>
<li>
<a href="/web4node/module/recs9QOkOAtZhsjc4/">
Web Deployment and Best Practices
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web4node/sprint/receFLR7MpwQXesIN">
2.&nbsp;&nbsp;Adding Data Persistence
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/web4node/module/recFG7SqlSCAB8iU7/">
Introduction to Relational Databases
</a>
</li>
<li>
<a href="/web4node/module/recIbfNn9xRhLTOv4/">
Database Schema Design
</a>
</li>
<li>
<a href="/web4node/module/recw2ezN22yjehidj/">
Multi-Table Queries
</a>
</li>
<li>
<a href="/web4node/module/rec5J23yAIdjmFbgP/">
Data Modeling
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web4node/sprint/recGqGeZ7n75vZivn">
3.&nbsp;&nbsp;Authentication and Testing
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/web4node/module/recQD9lnhqWEFh6g4/">
Introduction to Authentication
</a>
</li>
<li>
<a href="/web4node/module/reciCHdNjavSKaaLt/">
Using JSON Web Tokens (JWT)
</a>
</li>
<li>
<a href="/web4node/module/recd26oZ3GBNHh3Na/">
WEB Unit Testing
</a>
</li>
<li>
<a href="/web4node/module/reciXdxRA8zXJXDID/">
Testing the Back End
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web4node/sprint/recWkcWui91eG1s8q">
4.&nbsp;&nbsp;WEB Unit 4 Node Build
</a>
<ul class="nav bd-sidenav">

</ul>
</div>
</nav>
</div>
</div>
</div>
</div>
</div>
<div class="main-container">
<div class="sidebar-container bd-sidebar">
<div class="docs-sidebar">
<a class="navbar-brand" href="/" aria-label="Lambda School"><svg width="135" height="35" viewBox="0 0 756 197" fill="#ec3944"><g><path d="M292.9,126.6h-6.7c-9,0-12.6-1.9-12.6-9.5V48.5c0-7.7,1.6-8.6,11.4-9.7v-4.5h-41.3v4.5 c9.8,1.1,11.4,1.9,11.4,9.7v69.3c0,7.7-1.6,8.6-11.4,9.7v4.5h73.7l4.9-29.4h-4.4C308.5,119.6,303.9,126.6,292.9,126.6z"></path><path d="M385.5,121.1V79.3c0-15.8-9.4-22.4-26.6-22.4c-15,0-26.8,6.6-26.8,19.3c0,2.4,0.2,3.3,0.8,5h16.6 c-0.5-2-0.7-5-0.7-7.5c0-9.6,3.6-12.4,9.4-12.4c6.4,0,9.7,2,9.7,14.4v11.2l-20.8,7.7c-10.6,4.1-19.3,8.8-19.3,20.7 c0,10.9,7.5,17.8,18.6,17.8c9.9,0,17.4-6.2,21.9-12.1l0.1-0.1l0,0V132h26v-4.4C387.7,127.1,385.5,126.2,385.5,121.1z M368,117.8 c-4.4,3.3-7.6,5.3-12,5.4c-7.7,0-11.2-5.2-11.2-12.6c0-7.7,3.6-11.2,9.8-13.5l13.4-5.4V117.8L368,117.8z"></path><path d="M514.4,121V79.5c0-14.8-6-22.4-18.7-22.4c-11.5,0-19.4,6.6-25.5,13.9c-1.8-9.6-7.7-13.9-17.8-13.9 c-11.4,0-18.7,6.2-24.8,13.6V57h-2.3l-23.8,7.4v2.4l8.6,5v49.4c0,5-2.1,6.1-8.9,6.4v4.4h35.1v-4.4c-6.7-0.3-8.7-1.3-8.7-6.4v-47 c4.7-3.6,9.5-6.5,15.5-6.5c7.6,0,10.5,4.2,10.5,12.7v40.8c0,5-1.9,6.1-8.7,6.4v4.4l34.8,0v-4.4c-6.7-0.3-8.6-1.3-8.6-6.4v-47 c4.7-3.6,9.5-6.5,15.5-6.5c7.6,0,10.5,4.2,10.5,12.7l-0.1,40.5c0,5-1.8,6.4-8.6,6.7l0,4.4h35.1v-4.4 C516.7,127.4,514.4,126.1,514.4,121z"></path><path d="M573.2,57.3c-11,0-18.5,5.7-23.4,12.8V22.9h-2.7l-23.4,6.8v2.5l8.6,4.5V132h2.9l8-3.5c5.8,3.3,12.3,5,20.2,5 c20.8,0,37.4-15.8,37.4-42.6C600.9,69.9,590.4,57.3,573.2,57.3z M563.4,128.7c-5.4,0-10.3-2.4-13.7-7.9V73.6 c3.4-3.4,8.5-5.7,13.5-5.7c13.9,0,20,12.8,20,29.5C583.3,114.7,575.8,128.5,563.4,128.7z"></path><path d="M677,121.2V22.8h-2.6L651,29.6V32l8.6,4.5v25.7c-3.4-3.2-8.8-5.1-15.5-5.1c-19.9,0-35.2,15.3-35.2,41.3 c0,20.7,11.2,34.6,28.1,34.6c9.8,0,17-5.3,22.6-13.1v0.9V132h26.3l0-4.4C679.1,127.3,677,126.3,677,121.2z M659.6,117.1 L659.6,117.1c-3.4,3.4-8,5.1-13.2,5.1c-13.2,0-20.4-12.8-20.4-29.8c0-17.8,7.3-29.2,19.5-29.2c8.7,0,14.1,6.9,14.1,18.3 L659.6,117.1z"></path><path d="M747.1,121.1V79.3c0-15.8-9.4-22.4-26.6-22.4c-15,0-26.8,6.6-26.8,19.3c0,2.4,0.2,3.3,0.8,5h16.6 c-0.5-2-0.7-5-0.7-7.5c0-9.6,3.6-12.4,9.4-12.4c6.4,0,9.7,2,9.7,14.4v11.2l-20.8,7.7c-10.6,4.1-19.3,8.8-19.3,20.7 c0,10.9,7.5,17.8,18.6,17.8c9.9,0,17.4-6.2,21.9-12.1v-0.1h0.1l0,11.1l26,0.1v-4.5C749.3,127.1,747.1,126.2,747.1,121.1z M729.6,117.8c-4.4,3.3-7.6,5.3-12.1,5.4c-7.7,0-11.2-5.2-11.2-12.6c0-7.7,3.6-11.2,9.8-13.5l13.4-5.4L729.6,117.8L729.6,117.8z"></path></g><path d="M0,0v90.4c0,65.7,50.9,88.5,88.1,105.2h0.1l3,1.4c0.7-0.4,1.4-0.7,2.2-1c0.4-0.2,0.9-0.4,1.3-0.6 c37.3-16.6,88.4-39.5,88.4-105V0H0z M116,132l-2-5.3l-26.6-70c-1.6,4.1-5.3,14-9.3,24.6l-15.3,41.3c-0.7,2-0.3,3,0.2,3.7 c1.1,1.3,3.5,1.3,7.3,1.3H71l0,4.4H42.4l0-4.4h2.2c3.9,0,7.1-1.7,9.5-6.5l2.9-6.6l26.5-67.8l-4.7-12.5h24.7l34.1,89.7l3.1,8.1H116z"></path></svg></a>
<ul id="results-container" class="dropdown list-group"></ul>
<nav class="bd-links collapse" id="bd-docs-nav">
<div class="bd-toc-item">
<h4 class="bd-toc-link">Web API: Node</h4>
</div>

<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web4node/sprint/reckzQd7ZgiFY5ok5">
1.&nbsp;&nbsp;Build a Web API
</a>
<ul class="nav bd-sidenav">

<li class="active bd-sidenav-active">
<a href="/web4node/module/recZiPP8Oyg1WlHxT/">
Introduction to Node.js and Express
</a>
</li>
<li>
<a href="/web4node/module/recBjiSulq0PYLCIj/">
Server-Side Routing with Express
</a>
</li>
<li>
<a href="/web4node/module/recCJjYFEz0i5O5p5/">
Express Middleware
</a>
</li>
<li>
<a href="/web4node/module/recs9QOkOAtZhsjc4/">
Web Deployment and Best Practices
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web4node/sprint/receFLR7MpwQXesIN">
2.&nbsp;&nbsp;Adding Data Persistence
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/web4node/module/recFG7SqlSCAB8iU7/">
Introduction to Relational Databases
</a>
</li>
<li>
<a href="/web4node/module/recIbfNn9xRhLTOv4/">
Database Schema Design
</a>
</li>
<li>
<a href="/web4node/module/recw2ezN22yjehidj/">
Multi-Table Queries
</a>
</li>
<li>
<a href="/web4node/module/rec5J23yAIdjmFbgP/">
Data Modeling
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web4node/sprint/recGqGeZ7n75vZivn">
3.&nbsp;&nbsp;Authentication and Testing
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/web4node/module/recQD9lnhqWEFh6g4/">
Introduction to Authentication
</a>
</li>
<li>
<a href="/web4node/module/reciCHdNjavSKaaLt/">
Using JSON Web Tokens (JWT)
</a>
 </li>
<li>
<a href="/web4node/module/recd26oZ3GBNHh3Na/">
WEB Unit Testing
</a>
</li>
<li>
<a href="/web4node/module/reciXdxRA8zXJXDID/">
Testing the Back End
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web4node/sprint/recWkcWui91eG1s8q">
4.&nbsp;&nbsp;WEB Unit 4 Node Build
</a>
<ul class="nav bd-sidenav">

</ul>
</div>
</nav>
</div>
</div>
<main class="content-container flex-wrapper" role="main">
<div class="sticky-nav">
<div class="sprint-nav">
<ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#prepare">Prepare</a></li>
<li class="toc-entry toc-h2"><a href="#learn">Learn</a></li>
<li class="toc-entry toc-h2"><a href="#guided-project">Guided Project</a></li>
<li class="toc-entry toc-h2"><a href="#project">Project</a></li>
<li class="toc-entry toc-h2"><a href="#review">Review</a></li>
</ul>
</div>

</div>
<div class="wrapper limit-width">
<div class="flex-wrapper">
<div class="limit-width">
<div class="jumbotron">
<h1 class="bd-title" id="content">Introduction to Node.js and Express</h1>
<span class="lead">
<p class="bd-lead"></p>
<p>On this lecture we will:</p>
<ul>
<li>introduce <code class="highlighter-rouge">node.js</code> and <code class="highlighter-rouge">Express</code>.
<ul>
<li>what is <code class="highlighter-rouge">node.js</code>, what can it do? what can’t it do?</li>
<li>what is <code class="highlighter-rouge">Express</code>? why use it?</li>
<li>relationship between <code class="highlighter-rouge">Express</code> and <code class="highlighter-rouge">node.js</code>.</li>
</ul>
</li>
<li>see a high level overview of the main features of <code class="highlighter-rouge">Express</code>.</li>
<li>learn how to manually test our Web API using a tool called <code class="highlighter-rouge">Postman</code>.</li>
<li>create our first CRUD Web API.</li>
</ul>
</span>
<strong>At the end of this module, you should be able to:</strong>
<ul>
<li>explain what Node.js is and its core features</li>
<li>explain what Express is and its core features</li>
<li>create an API that can respond to GET requests</li>
<li>use postman to manually test Web APIs</li>
</ul>
</div>
<div class="alert alert-warning" role="alert">
<h4>Pro Tip</h4>
<p>Never put anything out there on social media that you wouldn’t want to come up in an interview. People check.</p>
</div>
<h2 class="display-4">
<a id="prepare" class="anchor" href="#prepare" aria-hidden="true"><span class="octicon octicon-link"></span></a>Prepare</h2>
<p class="lead">Review each preclass resource before class.</p>
<div class="preclass">
<ul class="list-group list-group-flush">
<li class="list-group-item">
 <div class="embed-responsive embed-responsive-16by9">
<iframe class="embed-responsive-item" src="https://www.youtube.com/embed/Ez75BevKbi4" frameborder="0" allowfullscreen></iframe>
</div>
</li>
<li class="list-group-item">
<div class="embed-responsive embed-responsive-16by9">
<iframe class="embed-responsive-item" src="https://www.youtube.com/embed/pxRHZ2WI8tc" frameborder="0" allowfullscreen></iframe>
</div>
</li>
<li class="list-group-item">
<div class="embed-responsive embed-responsive-16by9">
<iframe class="embed-responsive-item" src="https://www.youtube.com/embed/iNtm78tLjuo" frameborder="0" allowfullscreen></iframe>
</div>
</li>
<li class="list-group-item">
<div class="embed-responsive embed-responsive-16by9">
<iframe class="embed-responsive-item" src="https://www.youtube.com/embed/kk1PcjtEPZE" frameborder="0" allowfullscreen></iframe>
</div>
</li>
<li class="list-group-item">
<a target="_blank" href="https://nodejs.org/en/">Node.js Website</a>
</li>
<li class="list-group-item">
<a target="_blank" href="https://expressjs.com/">Express Website</a>
</li>
<li class="list-group-item">
<a target="_blank" href="https://medium.freecodecamp.org/what-is-an-api-in-english-please-b880a3214a82">What is an API? In English, please</a>
<p>Simple introduction what an API is</p>
</li>
<li class="list-group-item">
<a target="_blank" href="https://expressjs.com/en/starter/hello-world.html">Hello World Example on Express Docs</a>
<p>The hello world example provided by Expressjs.com</p>
</li>
<li class="list-group-item">
<a target="_blank" href="https://www.getpostman.com/apps">Postman Download</a>
<p>Postman app download link.</p>
</li>
</ul>
</div>
<h2 class="display-4">
<a id="learn" class="anchor" href="#learn" aria-hidden="true"><span class="octicon octicon-link"></span></a>Learn</h2>
<h4 class="mark mb-3 p-2">Learn to explain what Node.js is and its core features</h4>
<p><code class="highlighter-rouge">Node.js</code> is a <em>runtime environment</em> (a program that runs other programs), a platform used to execute JavaScript applications outside the browser.</p>
<p>This opens up a new world of possibilities for JavaScript developers. We can now use JavaScript to write command line utilities, native programs that run on different operating systems, networking software, web services, web applications and more.</p>
<h5>Overview</h5>
<p>Traditionally, the JavaScript language was only used in web browsers, but in 2009, <code class="highlighter-rouge">Node.js</code> was unveiled, and with it, the developer tool kit expanded greatly. Node.js gave developers the chance to use JavaScript to write software that, up to that point, could only be written using C, C++, Java, Python, Ruby, C# and the like.</p>
<p>We will use Node to write server code, specifically <code class="highlighter-rouge">web services</code> that can communicate with clients using the <code class="highlighter-rouge">JSON</code> (<strong>J</strong>ava<strong>S</strong>cript <strong>O</strong>bject <strong>N</strong>otation) format for data interchange.</p>
<p>Some of the advantages of using <code class="highlighter-rouge">Node.js</code> for writing server side code are:</p>
<ul>
<li>JavaScript on the server: use the same programming language and paradigm for both client and server. This minimizes context switching and makes it easy to share code between the client and the server.</li>
<li>Single-threaded: removes the complexity involved in handling multiple threads.</li>
<li>Asynchronous: can take full advantage of the processor it’s running on. This matters because the node process will be running on a single CPU.</li>
<li>Npm repository: access the largest ecosystem of useful libraries (most of them free to use) in the form of <code class="highlighter-rouge">npm modules</code>.</li>
</ul>
<p>Some of the disadvantages of using <code class="highlighter-rouge">Node.js</code> for writing server-side code are:</p>
<ul>
<li>JavaScript on the server: we lose the ability to use the right tool (language) for the job.</li>
<li>single-threaded: can’t take advantage of servers with multiple cores/processors.</li>
<li>asynchronous: it is harder to learn for developers that have only worked with languages that default to synchronous operations that block the execution thread.</li>
<li>npm repository: too many packages that do the same thing makes it harder to choose one and, in some cases, may introduce vulnerabilities into our code.</li>
</ul>
<p>To write a simple web server with <code class="highlighter-rouge">Node.js</code>:</p>
<ol>
<li>Use Node’s <code class="highlighter-rouge">HTTP</code> module to abstract away complex network-related operations.</li>
<li>Write the single <strong><em>request handler</em></strong> function that will handle all requests to the server.</li>
</ol>
<p>The request handler is a function that takes the <code class="highlighter-rouge">request</code> coming from the client and produces the <code class="highlighter-rouge">response</code>. The function takes two arguments: 1) an object representing the <code class="highlighter-rouge">request</code> and 2) an object representing the <code class="highlighter-rouge">response</code>.</p>
<p>This process works, but the resulting code is verbose even for the simplest of servers. Also, note that when using only Node.js to build a server, we use a single request handler function for all requests.</p>
<h5>Follow Along</h5>
<p>Let’s write a simple web server that returns a message using only <code class="highlighter-rouge">Node.js</code>. Create a folder for and add an <code class="highlighter-rouge">index.js</code> file inside.</p>
<p>Add the following code to <code class="highlighter-rouge">index.js</code>:</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">http</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">http</span><span class="dl">'</span><span class="p">);</span> <span class="c1">// built in node.js module to handle http traffic</span>

<span class="kd">const</span> <span class="nx">hostname</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">127.0.0.1</span><span class="dl">'</span><span class="p">;</span> <span class="c1">// the local computer where the server is running</span>
<span class="kd">const</span> <span class="nx">port</span> <span class="o">=</span> <span class="mi">3000</span><span class="p">;</span> <span class="c1">// a port we'll use to watch for traffic</span>

<span class="kd">const</span> <span class="nx">server</span> <span class="o">=</span> <span class="nx">http</span><span class="p">.</span><span class="nx">createServer</span><span class="p">((</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// creates our server</span>
  <span class="nx">res</span><span class="p">.</span><span class="nx">statusCode</span> <span class="o">=</span> <span class="mi">200</span><span class="p">;</span> <span class="c1">// http status code returned to the client</span>
  <span class="nx">res</span><span class="p">.</span><span class="nx">setHeader</span><span class="p">(</span><span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">text/plain</span><span class="dl">'</span><span class="p">);</span> <span class="c1">// inform the client that we'll be returning text</span>
  <span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">(</span><span class="dl">'</span><span class="s1">Hello World from Node</span><span class="se">\n</span><span class="dl">'</span><span class="p">);</span> <span class="c1">// end the request and send a response with the specified message</span>
<span class="p">});</span>

<span class="nx">server</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="nx">port</span><span class="p">,</span> <span class="nx">hostname</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// start watching for connections on the port specified</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Server running at http://</span><span class="p">${</span><span class="nx">hostname</span><span class="p">}</span><span class="s2">:</span><span class="p">${</span><span class="nx">port</span><span class="p">}</span><span class="s2">/`</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>
<p>Now navigate to the folder in a terminal/console window and type: <code class="highlighter-rouge">node index.js</code> to execute your file. A message that reads “<em>Server running at http://127.0.0.1:3000</em>” should be displayed, and the server is now waiting for connections.</p>
<p>Open a browser and visit: <code class="highlighter-rouge">http://localhost:3000</code>; <code class="highlighter-rouge">localhost</code> and the ip address <code class="highlighter-rouge">127.0.0.1</code> point to the same thing: your local computer. The browser should show the message: “<em>Hello World from Node</em>”. There you have it, your first web server, built from scratch using nothing but <code class="highlighter-rouge">Node.js</code>.</p>
<h5>Challenge</h5>
<p>Write a paragraph about what <code class="highlighter-rouge">Node.js</code> is and explain at least 3 of its core features.</p>
<p>Submit the paragraph to your TL.</p>
<h5>Dig Deeper</h5>
<ul>
<li>
<a href="https://www.infoworld.com/article/3210589/node-js/what-is-nodejs-javascript-runtime-explained.html" target="blank_">NodeJS Runtime environment for JS</a><br> </li>
</ul>
<hr>
<h4 class="mark mb-3 p-2">Learn to explain what Express is and its core features</h4>
<p>Express is a web application framework that sits on top of the Node.js web server (http server module). It’s like React, for your backend.</p>
<p>Express sits on top of the raw <code class="highlighter-rouge">http</code> server module provided by <code class="highlighter-rouge">Node.js</code> and adds extra functionality, like routing and middleware support, and a simpler API.</p>
<h5>Overview</h5>
<p>Node’s built-in <code class="highlighter-rouge">HTTP</code> module provides a powerful way to build web applications and services, but it requires a lot of code for common tasks like sending an <code class="highlighter-rouge">HTML</code> page to the browser.</p>
<p>Introducing <code class="highlighter-rouge">Express</code>, a light and unopinionated framework that <strong>sits on top of Node.js</strong> and makes it easier to create web applications and services. Sending an <code class="highlighter-rouge">HTML</code> file or image is now a one-line task with the <code class="highlighter-rouge">sendFile</code> helper method in <code class="highlighter-rouge">Express</code>.</p>
<p>Ultimately, <code class="highlighter-rouge">Express</code> is <strong>just a Node.js module</strong> like any other module.</p>
<p>What can we do with Express? So many things! For example:</p>
<ul>
<li>build web applications.</li>
<li>serve <em>Single Page Applications</em> (SPAs).</li>
<li>build RESTful web services that work with JSON.</li>
<li>serve static content, like HTML files, images, audio files, PDFs, and more.</li>
<li>power real-time applications using technologies like <code class="highlighter-rouge">Web Sockets</code> or <code class="highlighter-rouge">WebRTC</code>.</li>
</ul>
<p>Some of the benefits of using Express are that it is:</p>
<ul>
<li>Simple</li>
<li>Unopinionated</li>
<li>Extensible</li>
<li>Light-weight</li>
<li>Compatible with <a href="https://www.npmjs.com/package/connect">connect middleware</a>. (This means we can tap into an extensive collection of modules written for <code class="highlighter-rouge">connect</code>.)</li>
<li>All packaged into a clean, intuitive, and easy to use API.</li>
<li>Abstracts away common tasks (writing web applications can be verbose, hence the need for a library like this)</li>
</ul>
<p>Some of the drawbacks of Express are:</p>
<ul>
<li>It’s not a one-stop solution. Because of its simplicity, it does very little out of the box compared to frameworks like <code class="highlighter-rouge">Rails</code> and <code class="highlighter-rouge">django</code>.</li>
<li>We are forced to make more decisions due to the flexibility and control it provides.</li>
</ul>
<h3 id="main-features-of-express">Main Features of Express</h3>
<h4 id="middleware">Middleware</h4>
<p>Middleware functions can get the request and response objects, operate on them, and (when specified) trigger some action. Examples are logging or security.</p>
<p>Express’ middleware stack is basically an array of functions.</p>
<p>Middleware CAN change the request or response but it doesn’t have to.</p>
<h4 id="routing">Routing</h4>
<p>Routing is a way to select which request handler function is executed. It does so based on the URL visited and the HTTP method used. Routing provides a way to break an application into smaller parts.</p>
<h4 id="routers-for-application-modularity">Routers for Application Modularity</h4>
<p>Applications can be broken up into <code class="highlighter-rouge">routers</code>. We could have a router to serve our SPA and another router for our API. Each router can have its own middleware and routing. This combination provides improved functionality.</p>
<h4 id="convenience-helpers">Convenience Helpers</h4>
<p><code class="highlighter-rouge">Express</code> has many helpers that provide out of the box functionality to make writing web applications and API servers easier.</p>
<p>A lot of those helpers are extension methods added to the request and response objects.</p>
<p>Examples <a href="https://expressjs.com/en/4x/api.html">from the Api Reference</a> include: <code class="highlighter-rouge">response.redirect()</code>, <code class="highlighter-rouge">response.status()</code>, <code class="highlighter-rouge">response.send()</code>, and <code class="highlighter-rouge">request.ip</code>.</p>
<h4 id="views">Views</h4>
<p>Views provide a way to dynamically render HTML on the server and even generate it using other languages.</p>
<h5>Follow Along</h5>
<p>Let’s write our first server using <code class="highlighter-rouge">Express</code>.</p>
<p>create a new file called <code class="highlighter-rouge">server.js</code> to host our server code.
type <code class="highlighter-rouge">npm init -y</code> to generate a <code class="highlighter-rouge">package.json</code>.
install the <code class="highlighter-rouge">express</code> npm module using: <code class="highlighter-rouge">npm install express</code>.
inside <code class="highlighter-rouge">server.js</code> add the following code:</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">express</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">express</span><span class="dl">'</span><span class="p">);</span> <span class="c1">// import the express package</span>

<span class="kd">const</span> <span class="nx">server</span> <span class="o">=</span> <span class="nx">express</span><span class="p">();</span> <span class="c1">// creates the server</span>

<span class="c1">// handle requests to the root of the api, the / route</span>
<span class="nx">server</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">Hello from Express</span><span class="dl">'</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// watch for connections on port 5000</span>
<span class="nx">server</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="mi">5000</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Server running on http://localhost:5000</span><span class="dl">'</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div></div>
<p>Run the server by typing: <code class="highlighter-rouge">node server.js</code> and visit <code class="highlighter-rouge">http://localhost:5000</code> in the browser.</p>
<p>To stop the server type <code class="highlighter-rouge">ctrl + c</code> at the terminal window.</p>
<h5>Challenge</h5>
<p>On your own: Write a paragraph about what Express is and explain how it is used in modern web application development.</p>
<p>Submit your paragraph to your TL.</p>
<hr>
<h4 class="mark mb-3 p-2">Learn to create an API that can respond to GET requests</h4>
<p>Now that most of the basic theory is out of the way, we’ll move into building our first API (<strong>A</strong>pplication <strong>P</strong>rogramming <strong>I</strong>nterface).</p>
<p>What is an API you ask? <a href="https://medium.freecodecamp.org/what-is-an-api-in-english-please-b880a3214a82">This article defines it and plain english</a>, but in this context an API is <em>server software that publishes a set of <strong>endpoints</strong> that clients can use to manage <strong>resources</strong></em>.</p>
<h5>Overview</h5>
<p>In this overview we’re walking through the steps necessary to build a simple Web API that returns the string “Hello World” on every incoming <code class="highlighter-rouge">GET</code> request. The program should return the string every time a request comes into the root route (“/”). For now, you don’t need to code along, just read through the steps.</p>
<p>To make things easier, we’ll use an existing repository as the base for our API. Later in the week, as we learn more about <code class="highlighter-rouge">Node.js</code> and <code class="highlighter-rouge">Express</code>, we’ll create an API from scratch.</p>
<p>To build our first API we will:</p>
<ol>
<li>clone the <a href="https://github.com/LambdaSchool/node-express-mini">node-express-mini repository</a> to a folder in our computer.</li>
<li>Navigate into the folder using <code class="highlighter-rouge">cd</code>.</li>
<li>Use <code class="highlighter-rouge">npm install</code> to download all dependencies.</li>
<li>Add a file called <code class="highlighter-rouge">index.js</code> at the root of the folder, next to the <code class="highlighter-rouge">package.json</code> file.</li>
<li>Open the <code class="highlighter-rouge">index.js</code> file using our favorite code editor.</li>
<li>Add the following code.</li>
</ol>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// require the express npm module, needs to be added to the project using "npm install express"</span>
<span class="kd">const</span> <span class="nx">express</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">express</span><span class="dl">'</span><span class="p">);</span>

<span class="c1">// creates an express application using the express module</span>
<span class="kd">const</span> <span class="nx">server</span> <span class="o">=</span> <span class="nx">express</span><span class="p">();</span>

<span class="c1">// configures our server to execute a function for every GET request to "/"</span>
<span class="c1">// the second argument passed to the .get() method is the "Route Handler Function"</span>
<span class="c1">// the route handler function will run on every GET request to "/"</span>
<span class="nx">server</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// express will pass the request and response objects to this function</span>
  <span class="c1">// the .send() on the response object can be used to send a response to the client</span>
  <span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">Hello World</span><span class="dl">'</span><span class="p">);</span>
<span class="p">});</span>

<span class="c1">// once the server is fully configured we can have it "listen" for connections on a particular "port"</span>
<span class="c1">// the callback function passed as the second argument will run once when the server starts</span>
<span class="nx">server</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="mi">8000</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">API running on port 8000</span><span class="dl">'</span><span class="p">));</span>
</code></pre></div></div>
<p><strong>make sure to save your changes to <code class="highlighter-rouge">index.js</code>.</strong></p>
<p>We are using the <code class="highlighter-rouge">express</code> npm module in our code, so we need to add it as a dependency to our project. To do this:</p>
<p>open a terminal/console/command prompt window and navigate to the root of our project.
Add express to our <code class="highlighter-rouge">package.json</code> file by typing <code class="highlighter-rouge">npm install express</code>.</p>
<p>Now we’re ready to test our API!</p>
<p>In the terminal, still at the root of our project:</p>
<p>type: <code class="highlighter-rouge">npm run server</code> to run our API. The message <em>“Api running on port 8000”</em> should appear on the terminal.
open a web browser and navigate to http://localhost:8000.</p>
<p>There we have it, our first API!</p>
<p>A lot is going on in those few lines of code (only 6 lines if we remove the comments and white space). We will cover every piece of it in detail over the following days, but here is a quick rundown of the most important concepts.</p>
<p>First, we used <code class="highlighter-rouge">require()</code> to <strong>import</strong> the <code class="highlighter-rouge">express module</code> and make it available to our application. This is similar to the <code class="highlighter-rouge">import</code> keyword we have used before. The line <code class="highlighter-rouge">const express = require('express');</code> is equivalent to <code class="highlighter-rouge">import express from 'express';</code> if we were using ES2015 syntax.</p>
<p>The following line creates our <code class="highlighter-rouge">Express</code> application. The return of calling <code class="highlighter-rouge">express()</code> is an instance of an Express application that we can use to configure our <strong>server</strong> and, eventually, start listening for and responding to requests. Notice we use the word server, not API. An <code class="highlighter-rouge">Express</code> application is generic, meaning it can be used to serve static content (html, css, audio, video, pdfs and more), dynamically generated web pages, build real-time communications servers, and more. We will use it statically to accept requests from clients and respond with data in JSON format.</p>
<p>An <code class="highlighter-rouge">Express</code> application publishes a set of methods we can use to configure functions. We are using the <code class="highlighter-rouge">.get()</code> method to set up a <strong>route handler</strong> function that will run on every <code class="highlighter-rouge">GET</code> request. As a part of this handler function we specify the URL which will trigger the request. In this case, the URL is the root of the site (represented by a <code class="highlighter-rouge">/</code>). There are also methods to handle the <code class="highlighter-rouge">POST</code>, <code class="highlighter-rouge">PUT</code> and <code class="highlighter-rouge">DELETE</code> HTTP verbs.</p>
<p>The first two arguments passed by <code class="highlighter-rouge">express</code> to a route handler function are: 1) an object that represents the <code class="highlighter-rouge">request</code> and 2) an object that represents the <code class="highlighter-rouge">response</code>. Express expands those objects with a set of useful properties and methods. Our example uses the <code class="highlighter-rouge">.send()</code> method of the response object to specify the data sent to the client as the response body. You can call the first two arguments anything you want, but it is very common to see them called <code class="highlighter-rouge">req</code> and <code class="highlighter-rouge">res</code>, we at Lambda call them <code class="highlighter-rouge">the homies</code> as they always hang out together.</p>
<p>That’s all the configuring we need to do for this first example, we’ll see other ways of configuring our server as we go forward.</p>
<p>After configuring the server, it’s time to turn it on. We use the <code class="highlighter-rouge">.listen()</code> method to monitor a port on the computer for any incoming connections and respond to those we have configured. Our server will only send a response to <code class="highlighter-rouge">GET</code> requests made to the <code class="highlighter-rouge">/</code> route on port <code class="highlighter-rouge">8000</code>.</p>
<p>That’s it for our first Web API, and now it’s time for you to follow along as we add a new <strong>endpoint</strong> to our server that returns <code class="highlighter-rouge">JSON</code> data!</p>
<h5>Follow Along</h5>
<p>Let’s try returning JSON instead of just a simple string.</p>
<p>Please follow the steps outlined on the overview, but, to save time, copy and paste the content of <code class="highlighter-rouge">index.js</code> instead of typing it. Then run your API through a browser to make sure it works.</p>
<p>Now follow along as we code a new <em>endpoint</em> that returns an array of movie characters in JSON format.</p>
<p>The first step is to define a new <em>route handler</em> to respond to <code class="highlighter-rouge">GET</code> requests at the <code class="highlighter-rouge">/hobbits</code> endpoint.</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">server</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/hobbits</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// route handler code here</span>
<span class="p">});</span>
</code></pre></div></div>
<p>Next, we define the return data that our endpoint will send back to the client. We do this inside the newly defined route handler function.</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">hobbits</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span>
    <span class="na">id</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Samwise Gamgee</span><span class="dl">'</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="na">id</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Frodo Baggins</span><span class="dl">'</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">];</span>
</code></pre></div></div>
<p>Now we can return the <code class="highlighter-rouge">hobbits</code> array. We could use <code class="highlighter-rouge">.send(hobbits)</code> like we did for the string on the <code class="highlighter-rouge">/</code> endpoint, but this time we’ll learn about two other useful methods we find in the response object.</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mi">200</span><span class="p">).</span><span class="nx">json</span><span class="p">(</span><span class="nx">hobbits</span><span class="p">);</span>
</code></pre></div></div>
<p>We should provide as much useful information as possible to the clients using our API. One such piece of information is the <code class="highlighter-rouge">HTTP status code</code> that reflects the outcome of the operation the client is trying to perform. In this case the client is trying to get a list of a particular <code class="highlighter-rouge">resource</code>, a list of <code class="highlighter-rouge">hobbits</code>. Sending back a <code class="highlighter-rouge">200 OK</code> status code communicates to the client that the operation was successful.</p>
<p>We will see other status codes as we continue to build new endpoints during this week. Still, you can see a list by following <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status">this link to the documentation about HTTP Response Codes on the Mozilla Developer Network site</a>.</p>
<p>The <code class="highlighter-rouge">.status()</code> method of the response object can be used to send any valid <code class="highlighter-rouge">HTTP status code</code>.</p>
<p>We are also chaining the <code class="highlighter-rouge">.json()</code> method of the response object to clearly communicate to both the client making the request and to the next developer working with this code, that we intend to send the data in <code class="highlighter-rouge">JSON format</code>.</p>
<p>The complete code for <code class="highlighter-rouge">index.js</code> should now look like so:</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">express</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">express</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">server</span> <span class="o">=</span> <span class="nx">express</span><span class="p">();</span>

<span class="nx">server</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">Hello World</span><span class="dl">'</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">server</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/hobbits</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">hobbits</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">id</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Samwise Gamgee</span><span class="dl">'</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">id</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Frodo Baggins</span><span class="dl">'</span><span class="p">,</span>
    <span class="p">},</span>
  <span class="p">];</span>

  <span class="nx">res</span><span class="p">.</span><span class="nx">status</span><span class="p">(</span><span class="mi">200</span><span class="p">).</span><span class="nx">json</span><span class="p">(</span><span class="nx">hobbits</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">server</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="mi">8000</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">API running on port 8000</span><span class="dl">'</span><span class="p">));</span>
</code></pre></div></div>
<p>Now we can visit <code class="highlighter-rouge">http://localhost:8000/hobbits</code> in our browser, and we should get back our JSON array.</p>
<p>If you are using the Google Chrome browser, <a href="https://chrome.google.com/webstore/detail/jsonview/chklaanhfefbnpoihckbnefhakgolnmc">this extension</a> can format the JSON data in a more readable fashion.</p>
<p>Congratulations! You just built an API that can return data in JSON format.</p>
<h5>Challenge</h5>
<p>Write an endpoint that returns a list of users stored in a database. Return data in <code class="highlighter-rouge">JSON</code> format.</p>
<p>Production APIs return data coming from a data store or external source, not from an in-memory array like we have done so far.</p>
<p>Your job is to create a new <code class="highlighter-rouge">/users</code> endpoint that returns the list of users contained in the provided database. To get the list of users, <strong>require</strong> the <code class="highlighter-rouge">/data/db.js</code> file into <code class="highlighter-rouge">index.js</code> and use it’s <code class="highlighter-rouge">.find()</code> method to get the data. The <code class="highlighter-rouge">.find()</code> method returns a promise, so make sure to send the response after that promise has resolved and, in case of failure, return a status code of 500 and an error message back to the client.</p>
<p>Good luck!</p>
<h5>Dig Deeper</h5>
<ul>
<li>
<a href="https://expressjs.com/en/guide/routing.html" target="blank_">Express Routing Guide</a><br> Routing Guide on Expressjs.com</li>
<li>
<a href="https://expressjs.com/en/4x/api.html#req" target="blank_">Express Request Object API</a><br> Express Request Object API Documentation</li>
<li>
<a href="https://expressjs.com/en/4x/api.html#res" target="blank_">Express Response Object API</a><br> Express Response Object API Documentation</li>
</ul>
<hr>
<h4 class="mark mb-3 p-2">Learn to use postman to manually test Web APIs</h4>
<p><a href="https://www.getpostman.com/">Postman</a> is a very popular tool used to manually test APIs. It comes loaded with a lot of useful features that make testing APIs very easy and painless.</p>
<h5>Overview</h5>
<p>Testing APIs is different from testing websites or web applications. To test the latter, a web browser is sufficient, but for APIs, we need to be able to make POST/PUT/PATCH/DELETE requests and even modify the request headers.</p>
<p>For testing, we will use a tool called <code class="highlighter-rouge">Postman</code>. Postman, and other tools allow full control when making requests. We can easily change the HTTP Method used, add JSON data to the body, add form data, add headers, examine the response, and more.</p>
<p>In the case of <code class="highlighter-rouge">Postman</code> you can do a lot more, but we’ll limit our discussion the basics needed to test APIs by passing test data and examining we’re getting the expected response.</p>
<p>We recommend installing the native application for your Operating System.</p>
<h5>Follow Along</h5>
<p>Please follow along as the instructor uses Postman to test an API.</p>
<h5>Challenge</h5>
<p>Use Postman to test the endpoints you have built so far.</p>
<h5>Dig Deeper</h5>
<ul>
<li>
<a href="https://www.getpostman.com/docs/v6/" target="blank_">Postman Documentation</a><br> Postman Documentation Site.</li>
</ul>
<hr>
<h2>
<a id="guided-project" class="anchor" href="#guided-project" aria-hidden="true"><span class="octicon octicon-link"></span></a>Guided Project</h2>
<h3>Node API 1 Guided Project Starter Code</h3>
<p>Starter Code for Node API 1 Guided Project</p>
<a target="_blank" href="https://github.com/LambdaSchool/node-api1-guided">GitHub Repo</a>
<hr>
<h2 class="display-4">
<a id="project" class="anchor" href="#project" aria-hidden="true"><span class="octicon octicon-link"></span></a>Project</h2>
<ul class="list-group">
<li class="list-group-item">
<h5><a target="_blank" href="https://github.com/LambdaSchool/node-api1-project">Node API 1 Project</a></h5>
<p>Starter Code for Node API 1 Project</p>
</li>
</ul>
<h2 class="display-4">
<a id="review" class="anchor" href="#review" aria-hidden="true"><span class="octicon octicon-link"></span></a>Review</h2>
<h3 class="display-5">Class Recordings</h3>
<p class="lead">You can use class recordings to help you master the material.</p>
<div>
<ul class="list-group list-group-flush">
<li class="list-group-item">
<strong><a target="_blank" href="https://youtu.be/lu0UMm89Xbg">Intro to Node.js &amp; Express for WebPT18 w/Jason Maurer</a></strong>
<p>learn how to manually test our Web API using a tool called Postman.</p>
</li>
<li class="list-group-item">
<a href="/archive/FSW/module/recZiPP8Oyg1WlHxT">All previous recordings</a>
</li>
</ul>
</div>
<h3 class="display-5">Demonstrate Mastery</h3>
<p>To demonstrate mastery of this module, you need to complete and pass a code review on each of the following:</p>
<ul>
<li>Objective challenge: <p>Write a paragraph about what <code class="highlighter-rouge">Node.js</code> is and explain at least 3 of its core features.</p>
<p>Submit the paragraph to your TL.</p>
</li>
<li>Objective challenge: <p>On your own: Write a paragraph about what Express is and explain how it is used in modern web application development.</p>
<p>Submit your paragraph to your TL.</p>
</li>
<li>Objective challenge: <p>Write an endpoint that returns a list of users stored in a database. Return data in <code class="highlighter-rouge">JSON</code> format.</p>
<p>Production APIs return data coming from a data store or external source, not from an in-memory array like we have done so far.</p>
<p>Your job is to create a new <code class="highlighter-rouge">/users</code> endpoint that returns the list of users contained in the provided database. To get the list of users, <strong>require</strong> the <code class="highlighter-rouge">/data/db.js</code> file into <code class="highlighter-rouge">index.js</code> and use it’s <code class="highlighter-rouge">.find()</code> method to get the data. The <code class="highlighter-rouge">.find()</code> method returns a promise, so make sure to send the response after that promise has resolved and, in case of failure, return a status code of 500 and an error message back to the client.</p>
<p>Good luck!</p>
</li>
<li>Objective challenge: <p>Use Postman to test the endpoints you have built so far.</p>
</li>
<li>Guided Project: Node API 1 Guided Project Starter Code</li>
<li>Project: Node API 1 Project</li>
<li>Code Challenge: ArmstrongNumbers</li>
<li>Code Challenge: RouteBetweenNodes</li>
</ul>
</div>
</div>
</div>
</main>
</div>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-80850900-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());

  gtag('config', 'UA-80850900-4');
</script>
<script type="text/javascript">
  function getDomain() {
    const domainName = window.location.hostname.split('.')[1];
    return `${domainName}.com`;
  }
</script>
<script src="" integrity="" crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
<script src="/assets/js/vendor/popper.min.js" integrity="" crossorigin="anonymous"></script><script src="/dist/js/bootstrap.min.js" integrity="" crossorigin="anonymous"></script><script src="/assets/js/activate.js"></script>
<script src="/assets/js/jekyll-search.js" type="text/javascript"></script>
<script type="text/javascript">
  SimpleJekyllSearch.init({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('results-container'),
    dataSource: '/search.json',
    searchResultTemplate: '<li class="list-group-item"><a href="{url}" title="Introduction to Node.js and Express">{title}</a></li>',
    noResultsText: '',
    limit: 10,
    fuzzy: true,
  })
</script>
<script src="/assets/js/mermaid.min.js"></script><script type="text/javascript">
  if (window.attachEvent) {
    window.attachEvent('onload', verifySignedIn);
  } else {
    if (window.onload) {
      var currentOnLoadFn = window.onload;
      var newOnLoadFn = function (evt) {
        currentOnLoadFn(evt);
        verifySignedIn();
      };
      window.onload = newOnLoadFn;
    } else {
      window.onload = verifySignedIn;
    }
  }

  function verifySignedIn() {
    if (isPagePublic()) {
      return showPageContents();
    }

    window.__user = null;
    isSignedIn().then((user) => {
      window.__user = user;

      if (!user.signedIn) {
        redirectToSignIn();
      } else if (!user.student && !window.__openToAdmissions) {
        showUnauthorizedMessage();
      } else {
        showPageContents();
      }
    });
  }

  function isPagePublic() {
    const openCourses = [
      'and-pre',
      'ds-pre',
      'fsw-pre',
      'help',
      'ios-pre',
    ];

    const openPages = [
      'cs-and',
      'cs-fsw',
      'cs-ios',
      'cr',
      'ds',
      'jx',
      'p4s',
      'ux',
    ];

    const pathParts = window.location.pathname.split('/');
    const courseName = pathParts[1];
    const pageName = pathParts[pathParts.length - 1];

    return openCourses.includes(courseName) || openPages.includes(pageName);
  }

  function isSignedIn() {
    const isDeployPreview = window.location.hostname.startsWith('deploy-preview') && window.location.hostname.endsWith('netlify.com');

    if (isDeployPreview) return Promise.resolve({ signedIn: true, student: true });

    return fetch(`${getAuthBaseUrl()}/whoami`, { credentials: 'include' })
      .then((response) => response.text())
      .then((userAsText) => userAsText ? JSON.parse(userAsText) : null)
      .then((userData) => ({ signedIn: Boolean(userData), student: Boolean(userData && userData.airtableId), id: userData ? userData.id : null, email: userData ? userData.email : null }))
      .catch((error) => {});
  }

  function redirectToSignIn() {
    const signInUrl = `${getAuthBaseUrl()}/sign-in?redirect=${encodeURIComponent(window.location.href)}&reason=auth_required`
    const redirectMessage = document.querySelector('#redirect-message');
    redirectMessage.style.display = "block";
    redirectMessage.innerHTML = `<div>You are being redirected to the sign in page. If you aren't redirected automatically, you can use <a href=${signInUrl}>this link</a>.</div>`
    window.location = signInUrl;
  }

  function showPageContents() {
    document.querySelector('#content-wrapper').style.visibility = 'visible';
  }

  function showUnauthorizedMessage() {
    document.querySelector('#unauthorized-message').style.display = 'block';
  }

  function getAuthBaseUrl() {
    const domain = getDomain();
    const authBaseUrl = `https://auth.${domain}`;
    return authBaseUrl;
  }
</script><script src="/assets/js/docs.min.js"></script><script>
  var MathJax = {
    tex: {
      inlineMath: [['$$', '$$'], ['\[', '\])']]
    },
    "HTML-CSS": {
      styles: {
        ".MathJax span": {
          color: "#000000"
        }
      }
    }
  }
</script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
<script>
  handleExternalLinks();

  function handleExternalLinks() {
    const domain = getDomain();
    const links = document.querySelectorAll('a');
    return links.forEach((link) => {
      if (!link.host.includes(domain)) link.target = '_blank';
    })
  };
</script>
</div>
</body>
</html>
