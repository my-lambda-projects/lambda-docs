<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Intended as a home for Lambda School curriculum.">
<meta name="author" content="">
<meta name="generator" content="Jekyll v3.8.0">
<title>Async Redux Â· Lambda School</title>

<link rel='stylesheet' integrity crossorigin='anonymous' href='https://d33wubrfki0l68.cloudfront.net/css/0f99ed215b3d52fa1bee44dc614ea3fa1d1bebc0/dist/css/bootstrap.min.css' />

<link href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" rel="stylesheet">
<link rel='stylesheet' href='https://d33wubrfki0l68.cloudfront.net/css/1bf8317b3d6d0c9d813c92505f052bf79ffdcdfe/assets/css/docs.min.css' />

<link rel='stylesheet' href='https://d33wubrfki0l68.cloudfront.net/css/f3626ab7ab84821f8b60ea92b4a5c6acf59991af/assets/css/main.css' />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-122016605-1', 'learn.lambdaschool.com');
  ga('send', 'pageview');
</script>

<script>
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t,e){var n=document.createElement("script");n.type="text/javascript";n.async=!0;n.src="https://cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(n,a);analytics._loadOptions=e};analytics.SNIPPET_VERSION="4.1.0";
  analytics.load("BjKorwKrSvMamfNoGkBq9rISk7wF6QQX");
  analytics.page();
  }}();
</script>

<link rel="apple-touch-icon" href="/assets/img/favicons/apple-touch-icon.png" sizes="180x180">
<link rel="icon" href="/assets/img/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
<link rel="icon" href="/assets/img/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
<link rel="manifest" href="/assets/img/favicons/manifest.json">
<link rel="mask-icon" href="/assets/img/favicons/safari-pinned-tab.svg" color="#a0001e">
<link rel="icon" href="/favicon.ico">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#a0001e">
</head>
<body>
<noscript>Please enable JavaScript to view this page.</noscript>
<div id="redirect-message" style="display: none;">
You must be logged in to view this page.
</div>
<div id="unauthorized-message" style="display: none;">
You must be a Lambda School student to view this page.
</div>
<div id="content-wrapper" >
<a id="skippy" class="sr-only sr-only-focusable" href="#content">
<div class="container">
<span class="skiplink-text">Skip to main content</span>
</div>
</a>
<div class="mobile-menu">
<div class="m-drop">
<div class="mobile-row">
<div class="header-row" style="padding: 3px 7px">
<a class="navbar-brand" href="/" aria-label="Lambda School"><svg xmlns="http://www.w3.org/2000/svg" width="33" height="35" viewBox="0 0 33 35" fill="none">
<path fill-rule="evenodd" clip-rule="evenodd" d="M0 0V16.0609C0 27.7335 9.08929 31.7843 15.7321 34.7513H15.75L16.2857 35C16.4107 34.9289 16.5357 34.8756 16.6786 34.8223C16.75 34.7868 16.8393 34.7513 16.9107 34.7157C23.5714 31.7665 32.6964 27.698 32.6964 16.0609V0H0ZM20.7071 23.4536L20.3571 22.5102L15.6071 10.0736C15.3214 10.802 14.6607 12.5609 13.9464 14.4442L11.2143 21.7817C11.0893 22.1371 11.1607 22.3147 11.25 22.4391C11.4464 22.6701 11.8768 22.6701 12.5554 22.6701H12.6786L12.6768 23.4518H7.56964V22.6701H7.9625C8.65893 22.6701 9.23036 22.368 9.65893 21.5152L10.1768 20.3426L14.9089 8.29696L14.0696 6.07614H18.4804L24.5696 22.0127L25.125 23.4536H20.7071Z" fill="#EC3944" />
</svg></a>
<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#mobile-course-menu" aria-controls="mobile-course-menu" aria-expanded="false" aria-label="Toggle navigation">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" width="30" height="30" focusable="false"><title>Menu</title><path stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" d="M4 7h22M4 15h22M4 23h22"></path></svg>
</button>
</div>
</div>
<div class="nav-row">
<div class="results-container">
<ul id="results-container" class="dropdown list-group"></ul>
</div>
<div id="mobile-course-menu" class="collapse nav-row">
<div class="docs-mobile-sidebar" id="bd-docs-nav-mobile">
<nav class="bd-links">
<div class="bd-toc-item">
<h4 class="bd-toc-link">Web Applications II</h4>
</div>

<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web3/sprint/recq59MvEIZfUAohy">
1.&nbsp;&nbsp;Advanced React
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/web3/module/recnDKrWb24lgaziC/">
Class Components
</a>
</li>
<li>
<a href="/web3/module/rec1DPoOZSmocXfak/">
The React Lifecycle
</a>
</li>
<li>
<a href="/web3/module/recAxmnYmusEi8JuL/">
Composing and Sharing Non-Visual Behavior
</a>
</li>
<li>
<a href="/web3/module/rechTQVfCg4p85Hoi/">
Testing Web Applications
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web3/sprint/recukritK1B1pFrcM">
2.&nbsp;&nbsp;Advanced State Management
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/web3/module/rectpk6uIV3pCHJh8/">
The Reducer Pattern
</a>
</li>
<li>
<a href="/web3/module/recba2NUdVmgKYyR3/">
Redux
</a>
</li>
<li class="active bd-sidenav-active">
<a href="/web3/module/recSoiWNJzGURrXYh/">
Async Redux
</a>
</li>
<li>
<a href="/web3/module/recByjgF7FwwH5Z7W/">
Context API
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web3/sprint/recnhsJGy28gNi1K5">
3.&nbsp;&nbsp;Advanced Web Applications
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/web3/module/recS9H6qCj0dQe32B/">
Testing React
</a>
</li>
<li>
<a href="/web3/module/recQlbCZf9tOVgiXC/">
Client-Side Authentication
</a>
</li>
<li>
<a href="/web3/module/recupVjaAKPqbuk7Y/">
HTTP / AJAX II
</a>
</li>
<li>
<a href="/web3/module/receOMvCB7dSyX5FL/">
Deploying Web Apps
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web3/sprint/recVFiuMBzbcZllxC">
4.&nbsp;&nbsp;WEB Unit 3 Build
</a>
<ul class="nav bd-sidenav">

</ul>
</div>
</nav>
</div>
</div>
</div>
</div>
</div>
<div class="main-container">
<div class="sidebar-container bd-sidebar">
<div class="docs-sidebar">
<a class="navbar-brand" href="/" aria-label="Lambda School"><svg width="135" height="35" viewBox="0 0 756 197" fill="#ec3944"><g><path d="M292.9,126.6h-6.7c-9,0-12.6-1.9-12.6-9.5V48.5c0-7.7,1.6-8.6,11.4-9.7v-4.5h-41.3v4.5 c9.8,1.1,11.4,1.9,11.4,9.7v69.3c0,7.7-1.6,8.6-11.4,9.7v4.5h73.7l4.9-29.4h-4.4C308.5,119.6,303.9,126.6,292.9,126.6z"></path><path d="M385.5,121.1V79.3c0-15.8-9.4-22.4-26.6-22.4c-15,0-26.8,6.6-26.8,19.3c0,2.4,0.2,3.3,0.8,5h16.6 c-0.5-2-0.7-5-0.7-7.5c0-9.6,3.6-12.4,9.4-12.4c6.4,0,9.7,2,9.7,14.4v11.2l-20.8,7.7c-10.6,4.1-19.3,8.8-19.3,20.7 c0,10.9,7.5,17.8,18.6,17.8c9.9,0,17.4-6.2,21.9-12.1l0.1-0.1l0,0V132h26v-4.4C387.7,127.1,385.5,126.2,385.5,121.1z M368,117.8 c-4.4,3.3-7.6,5.3-12,5.4c-7.7,0-11.2-5.2-11.2-12.6c0-7.7,3.6-11.2,9.8-13.5l13.4-5.4V117.8L368,117.8z"></path><path d="M514.4,121V79.5c0-14.8-6-22.4-18.7-22.4c-11.5,0-19.4,6.6-25.5,13.9c-1.8-9.6-7.7-13.9-17.8-13.9 c-11.4,0-18.7,6.2-24.8,13.6V57h-2.3l-23.8,7.4v2.4l8.6,5v49.4c0,5-2.1,6.1-8.9,6.4v4.4h35.1v-4.4c-6.7-0.3-8.7-1.3-8.7-6.4v-47 c4.7-3.6,9.5-6.5,15.5-6.5c7.6,0,10.5,4.2,10.5,12.7v40.8c0,5-1.9,6.1-8.7,6.4v4.4l34.8,0v-4.4c-6.7-0.3-8.6-1.3-8.6-6.4v-47 c4.7-3.6,9.5-6.5,15.5-6.5c7.6,0,10.5,4.2,10.5,12.7l-0.1,40.5c0,5-1.8,6.4-8.6,6.7l0,4.4h35.1v-4.4 C516.7,127.4,514.4,126.1,514.4,121z"></path><path d="M573.2,57.3c-11,0-18.5,5.7-23.4,12.8V22.9h-2.7l-23.4,6.8v2.5l8.6,4.5V132h2.9l8-3.5c5.8,3.3,12.3,5,20.2,5 c20.8,0,37.4-15.8,37.4-42.6C600.9,69.9,590.4,57.3,573.2,57.3z M563.4,128.7c-5.4,0-10.3-2.4-13.7-7.9V73.6 c3.4-3.4,8.5-5.7,13.5-5.7c13.9,0,20,12.8,20,29.5C583.3,114.7,575.8,128.5,563.4,128.7z"></path><path d="M677,121.2V22.8h-2.6L651,29.6V32l8.6,4.5v25.7c-3.4-3.2-8.8-5.1-15.5-5.1c-19.9,0-35.2,15.3-35.2,41.3 c0,20.7,11.2,34.6,28.1,34.6c9.8,0,17-5.3,22.6-13.1v0.9V132h26.3l0-4.4C679.1,127.3,677,126.3,677,121.2z M659.6,117.1 L659.6,117.1c-3.4,3.4-8,5.1-13.2,5.1c-13.2,0-20.4-12.8-20.4-29.8c0-17.8,7.3-29.2,19.5-29.2c8.7,0,14.1,6.9,14.1,18.3 L659.6,117.1z"></path><path d="M747.1,121.1V79.3c0-15.8-9.4-22.4-26.6-22.4c-15,0-26.8,6.6-26.8,19.3c0,2.4,0.2,3.3,0.8,5h16.6 c-0.5-2-0.7-5-0.7-7.5c0-9.6,3.6-12.4,9.4-12.4c6.4,0,9.7,2,9.7,14.4v11.2l-20.8,7.7c-10.6,4.1-19.3,8.8-19.3,20.7 c0,10.9,7.5,17.8,18.6,17.8c9.9,0,17.4-6.2,21.9-12.1v-0.1h0.1l0,11.1l26,0.1v-4.5C749.3,127.1,747.1,126.2,747.1,121.1z M729.6,117.8c-4.4,3.3-7.6,5.3-12.1,5.4c-7.7,0-11.2-5.2-11.2-12.6c0-7.7,3.6-11.2,9.8-13.5l13.4-5.4L729.6,117.8L729.6,117.8z"></path></g><path d="M0,0v90.4c0,65.7,50.9,88.5,88.1,105.2h0.1l3,1.4c0.7-0.4,1.4-0.7,2.2-1c0.4-0.2,0.9-0.4,1.3-0.6 c37.3-16.6,88.4-39.5,88.4-105V0H0z M116,132l-2-5.3l-26.6-70c-1.6,4.1-5.3,14-9.3,24.6l-15.3,41.3c-0.7,2-0.3,3,0.2,3.7 c1.1,1.3,3.5,1.3,7.3,1.3H71l0,4.4H42.4l0-4.4h2.2c3.9,0,7.1-1.7,9.5-6.5l2.9-6.6l26.5-67.8l-4.7-12.5h24.7l34.1,89.7l3.1,8.1H116z"></path></svg></a>
<ul id="results-container" class="dropdown list-group"></ul>
<nav class="bd-links collapse" id="bd-docs-nav">
<div class="bd-toc-item">
<h4 class="bd-toc-link">Web Applications II</h4>
</div>

<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web3/sprint/recq59MvEIZfUAohy">
1.&nbsp;&nbsp;Advanced React
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/web3/module/recnDKrWb24lgaziC/">
Class Components
</a>
</li>
<li>
<a href="/web3/module/rec1DPoOZSmocXfak/">
The React Lifecycle
</a>
</li>
<li>
<a href="/web3/module/recAxmnYmusEi8JuL/">
Composing and Sharing Non-Visual Behavior
</a>
</li>
<li>
<a href="/web3/module/rechTQVfCg4p85Hoi/">
Testing Web Applications
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web3/sprint/recukritK1B1pFrcM">
2.&nbsp;&nbsp;Advanced State Management
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/web3/module/rectpk6uIV3pCHJh8/">
The Reducer Pattern
</a>
</li>
<li>
<a href="/web3/module/recba2NUdVmgKYyR3/">
Redux
</a>
</li>
<li class="active bd-sidenav-active">
<a href="/web3/module/recSoiWNJzGURrXYh/">
Async Redux
</a>
</li>
<li>
<a href="/web3/module/recByjgF7FwwH5Z7W/">
Context API
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web3/sprint/recnhsJGy28gNi1K5">
3.&nbsp;&nbsp;Advanced Web Applications
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/web3/module/recS9H6qCj0dQe32B/">
Testing React
</a>
</li>
<li>
<a href="/web3/module/recQlbCZf9tOVgiXC/">
Client-Side Authentication
</a>
</li>
<li>
<a href="/web3/module/recupVjaAKPqbuk7Y/">
HTTP / AJAX II
</a>
</li>
<li>
 <a href="/web3/module/receOMvCB7dSyX5FL/">
Deploying Web Apps
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web3/sprint/recVFiuMBzbcZllxC">
4.&nbsp;&nbsp;WEB Unit 3 Build
</a>
<ul class="nav bd-sidenav">

</ul>
</div>
</nav>
</div>
</div>
<main class="content-container flex-wrapper" role="main">
<div class="sticky-nav">
<div class="sprint-nav">
<ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#prepare">Prepare</a></li>
<li class="toc-entry toc-h2"><a href="#learn">Learn</a></li>
<li class="toc-entry toc-h2"><a href="#project">Project</a></li>
<li class="toc-entry toc-h2"><a href="#review">Review</a></li>
</ul>
</div>

</div>
<div class="wrapper limit-width">
<div class="flex-wrapper">
<div class="limit-width">
<div class="jumbotron">
<h1 class="bd-title" id="content">Async Redux</h1>
<span class="lead">
<p class="bd-lead"></p>
<p>By nature Redux is synchronous. Because of this we need to apply some middleware to extend the functionality of our Redux package to allow for things like, promises (which are asynchronous). This module will teach you how to set up Redux-Thunk as a middleware for Redux. You will also learn how to use the Redux-Thunk package to extend your actions so that you have the ability to consume promises.</p>
</span>
<strong>At the end of this module, you should be able to:</strong>
<ul>
<li>describe the Finite State Machine pattern and it's relationship to building Redux applications</li>
<li>implement Redux Middleware libraries into a Redux Store using `applyMiddleware`</li>
<li>effectively use `redux-thunk` and asynchronous action creators to consume data from external API's</li>
</ul>
</div>
<div class="alert alert-warning" role="alert">
<h4>Pro Tip</h4>
<p>When raising a problem with a supervisor, provide potential solutions to the problem.</p>
</div>
<h2 class="display-4">
<a id="prepare" class="anchor" href="#prepare" aria-hidden="true"><span class="octicon octicon-link"></span></a>Prepare</h2>
<p class="lead">Review each preclass resource before class.</p>
<div class="preclass">
<ul class="list-group list-group-flush">
<li class="list-group-item">
<div class="embed-responsive embed-responsive-16by9">
<iframe class="embed-responsive-item" src="https://www.youtube.com/embed/g57ZVWD4HFo" frameborder="0" allowfullscreen></iframe>
</div>
</li>
<li class="list-group-item">
<div class="embed-responsive embed-responsive-16by9">
<iframe class="embed-responsive-item" src="https://www.youtube.com/embed/yTOVUuFX5TU" frameborder="0" allowfullscreen></iframe>
</div>
</li>
<li class="list-group-item">
 <div class="embed-responsive embed-responsive-16by9">
<iframe class="embed-responsive-item" src="https://www.youtube.com/embed/hb_ghK58_A8" frameborder="0" allowfullscreen></iframe>
</div>
</li>
<li class="list-group-item">
<a target="_blank" href="https://www.smashingmagazine.com/2018/01/rise-state-machines/">Introduction to Finite State Machines</a>
</li>
<li class="list-group-item">
<a target="_blank" href="http://krasimirtsonev.com/blog/article/getting-from-redux-to-state-machine-with-stent">From Redux to State Machine</a>
</li>
</ul>
</div>
<h2 class="display-4">
<a id="learn" class="anchor" href="#learn" aria-hidden="true"><span class="octicon octicon-link"></span></a>Learn</h2>
<h4 class="mark mb-3 p-2">Learn to describe the Finite State Machine pattern and it's relationship to building Redux applications</h4>
<p>Have you ever wondered why most buggy behaviors in software can be <em>corrected</em> by restarting the software?</p>
<p>Bugs are often caused by the software getting into an inconsistent <strong>state</strong> and <strong>restarting it resets the state</strong>.</p>
<p>That implies that most software at itâs core happens to be a <em>Finite State Machine</em>. Throughout this objective weâre going to learn all about what Finite State Machines are, how they work and how we as developers can utilize them to create more consistent/fluid software.</p>
<h5>Overview</h5>
<p>A <em>state machine</em> is a mathematical model of computation.</p>
<p>A machine can have a finite number of states, but it can only operate in one state at a given time.</p>
<p>There are different types of state machines, but for building UIs (and understanding Redux), weâll concentrate on the type that has an initial state. The next state is calculated based on input and the current state.</p>
<p>For our purposes, a State Machine has:</p>
<ul>
<li>initial state (store).</li>
<li>current state (store).</li>
<li>inputs or actions (action creators) that trigger transitions (reducers) to the next state.</li>
</ul>
<p>It helps to think in terms of <em>states</em> instead of <em>transitions</em>.</p>
<p>Redux is <strong>NOT</strong> a finite state machine, but the thinking in states helps our understanding of how Redux works.</p>
<p>A simple example would be an application that has two main parts: 1) a control dashboard, and 2) a display. The application can be expressed in states and actions like so:</p>
<table>
<thead>
<tr>
<th style="text-align: left">current state</th>
<th style="text-align: center">action (input)</th>
<th style="text-align: left">new state</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left">locked closed</td>
<td style="text-align: center">unlock</td>
<td style="text-align: left">unlocked closed</td>
</tr>
<tr>
<td style="text-align: left">unlocked closed</td>
<td style="text-align: center">lock</td>
<td style="text-align: left">locked closed</td>
</tr>
<tr>
<td style="text-align: left">unlocked closed</td>
<td style="text-align: center">open</td>
<td style="text-align: left">unlocked open</td>
</tr>
<tr>
<td style="text-align: left">unlocked open</td>
<td style="text-align: center">close</td>
<td style="text-align: left">locked closed</td>
</tr>
<tr>
<td style="text-align: left">unlocked open</td>
<td style="text-align: center">lock</td>
<td style="text-align: left">locked open</td>
</tr>
<tr>
<td style="text-align: left">locked open</td>
<td style="text-align: center">unlock</td>
<td style="text-align: left">unlocked open</td>
</tr>
</tbody>
</table>
<h5>Follow Along</h5>
<p>What we are going to do now is exercise our brainpower and <a href="http://krasimirtsonev.com/blog/article/managing-state-in-javascript-with-state-machines-stent">read an article about State Machines</a> and how they may have some pertinence to UI and React state in particular.</p>
<h5>Challenge</h5>
<p>Consider the following Diagram:</p>
<div class="mermaid">
graph LR
A(isLoggedOut) -- HTTP Request Login --&gt; B(pendingLoginState)
B -- Success/Failure --&gt; C(isLoggedIn)
C -- HTTP Request Logout --&gt; B
B -- Success/Failure --&gt; A
</div>
<p>On your own: Write a paragraph that tells us what you know about the finite state machine pattern. It doesnât have to be long, just a few sentences on the subject. Submit that paragraph to your PM.</p>
<hr>
<h4 class="mark mb-3 p-2">Learn to implement Redux Middleware libraries into a Redux Store using `applyMiddleware`</h4>
<p>Middleware is a powerful extension point for Redux. We can use middleware to add new functionality to Redux.</p>
<p>There are plenty of third party middleware available for use. We will learn how to use them in our React/Redux applications.</p>
<h5>Overview</h5>
<p>Middleware is a common tool used in programming. You will see middleware used a lot when you start learning about NodeJS.</p>
<p>Middleware intercepts some process, runs a function at the intercept point, then (usually) continues the process. Or, sometimes middleware stops the process entirely.</p>
<p>When whatever âprocessâ in question is kicked off, there is usually data that is flowing through different functions. With middleware, when we âinterceptâ the process, we are usually trying to use that flowing data.</p>
<p>Middleware in Redux is very common and gives us a chance to do a few different things with the data passing from action creators to the reducers. This is what it looks like with Redux:</p>
<p>Middleware intercepts every action <strong>before</strong> it flows through to the Reducers.</p>
<p>Middleware can:</p>
<ul>
<li>stop actions.</li>
<li>forward an action untouched.</li>
<li>dispatch a different action.</li>
<li>dispatch multiple actions.</li>
</ul>
<p>We can have multiple middleware.</p>
<p>Middleware runs sequentially, in the order, they are defined.</p>
<p>Middleware is added to the store when it is created.</p>
<p>A traditional Redux application flows like this:</p>
<div class="mermaid">
graph LR
A[Component] -- calls --&gt; B[Action Creator]
B -- returns an --&gt; C[Action]
C -- is dispatched to all --&gt; D[Reducers]
D -- updates --&gt; E[State]
E -- sends changes to --&gt; A
</div>
<p>When we add middleware the flow changes to this:</p>
<div class="mermaid">
graph LR
A[Component] -- calls --&gt; B[Action Creator]
B -- returns an --&gt; C[Action]
C -- flows through all --&gt; D(Middleware)
D -- _AND THEN_ dispatched to all --&gt; E(Reducers)
E -- updates --&gt; F[State]
F -- sends changes to --&gt; A
</div>
<h5>Follow Along</h5>
<p>Letâs add a logger middleware library to any React/Redux app you have in codesandbox. It can be <em>any</em> sandbox you have with Redux implemented as long as the app is working.</p>
<p>Next, we want to add <code class="highlighter-rouge">redux-logger</code> as a dependency. In codesandbox, you add it from the dependency button. In a normal app, you would run <code class="highlighter-rouge">npm install redux-logger</code>.</p>
<p>Next, we want to import it into our application.</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">logger</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">redux-logger</span><span class="dl">'</span><span class="p">;</span>
</code></pre></div></div>
<p>Finally, we need to import a helper function from redux. This function is the <code class="highlighter-rouge">applyMiddleware</code> function. You can probably guess that we will pass <code class="highlighter-rouge">logger</code> into this function. You would be correct! But the <code class="highlighter-rouge">applyMiddleware</code> function is going to be inside the <code class="highlighter-rouge">createStore</code> function. It looks like this:</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">applyMiddleware</span><span class="p">,</span> <span class="nx">createStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">redux</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">logger</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">redux-logger</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="nx">createStore</span><span class="p">(</span>
  <span class="nx">reducer</span><span class="p">,</span>
  <span class="nx">applyMiddleware</span><span class="p">(</span><span class="nx">logger</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div></div>
<p>â¦ Thatâs it! This is a very basic middleware package that will console.log your actions as they flow through the action creators, before they hit the reducer.</p>
<p>Go ahead and try it out. Open your console (it will look better if it is in its own window, and not in the codesandbox page), open the console, and then interact with your app. You will see the actions as they are logged, the state tree before the action passes to the reducer, and the resulting state tree after the action passes to the reducer!</p>
<p><em>Note: if you use redux-logger with other middleware packages, make sure logger is passed to applyMiddleware last.</em></p>
<h5>Challenge</h5>
<p>Look at this package - https://github.com/elgerlambert/redux-localstorage. Try to now implement this so that your store is saved to <code class="highlighter-rouge">localStorage</code>. The configuration is a little different than what we did above, so you will have to follow what the docs show.</p>
<hr>
<h4 class="mark mb-3 p-2">Learn to effectively use `redux-thunk` and asynchronous action creators to consume data from external API's</h4>
<p>In Redux the <em>Reducers</em> are <strong>synchronous</strong> by default. If we need to perform asynchronous operations, they need to happen before the actions flow through the reducers stack.</p>
<p>We can use middleware to handle asynchronous requests.</p>
<p>Redux Thunk is a middleware created by Dan Abramov, that provides the ability to handle asynchronous operations inside our Action Creators.</p>
<h5>Overview</h5>
<p>Redux Thunk is a separate node package called <code class="highlighter-rouge">redux-thunk</code>. Since the Redux action -&gt; reducer flow is synchronous, we will use Redux Thunk to make the flow asynchronous and make API calls from our action creators.</p>
<p>Yep. You read that correctly. We are changing up the action creators to perform asynchronous API calls. We can do this because we know that Redux middleware intercepts the normal Redux flow, and can make a call before actions make it to the reducer. To make this work, we need to understand <code class="highlighter-rouge">thunks</code>.</p>
<p><code class="highlighter-rouge">thunk</code> is another word for a function. But itâs not just any old function. Itâs a special (and uncommon) name for a function thatâs returned by another function. Like this:</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">not_a_thunk</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// this one is a "thunk" because it defers work for later:</span>
  <span class="k">return</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">do stuff now</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">};</span>
<span class="p">}</span>
</code></pre></div></div>
<p>So how does this apply to Redux? Well, when we start using the <code class="highlighter-rouge">redux-thunk</code> middleware, it does an interesting thing with our redux flow. When an action creator is called <code class="highlighter-rouge">redux-thunk</code> intercepts and acts on returned data. If the thing returned is an action, it forwards the action through to the reducer. But, if the thing returned is a function, aka a thunk (a function returned from a function), then it invokes the thunk and passes the <code class="highlighter-rouge">dispatch</code> function as an argument to it.</p>
<p>This is where <code class="highlighter-rouge">redux-thunk</code> becomes very powerful. The action-creator returned thunk has access to the dispatch function. So we can run an async function, like an API call, and inside the <code class="highlighter-rouge">.then()</code> we can dispatch an action!</p>
<p>Letâs look at a simple example of an action creator that does this when a user logs in:</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">logInUser</span><span class="p">(</span><span class="nx">creds</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// this returned function is the thunk, and gets dispatch passed in</span>
  <span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">dispatch</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="dl">'</span><span class="s1">/login</span><span class="dl">'</span><span class="p">,</span> <span class="nx">creds</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">loggedInAction</span> <span class="o">=</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="nx">USER_LOGGED_IN</span><span class="p">,</span> <span class="na">payload</span><span class="p">:</span> <span class="nx">res</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">user</span> <span class="p">}</span>
      <span class="nx">dispatch</span><span class="p">(</span><span class="nx">loggedInAction</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">};</span>
<span class="p">}</span>
</code></pre></div></div>
<p>Really cool, right? The thunk has access to dispatch, and can dispatch a new action based on the result of the API call! Letâs clean this up a little with arrow function syntax. The following code snippet is essentially the exact same as the above snippet:</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">logInUser</span> <span class="o">=</span> <span class="nx">creds</span> <span class="o">=&gt;</span> <span class="nx">dispatch</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="dl">'</span><span class="s1">/login</span><span class="dl">'</span><span class="p">,</span> <span class="nx">creds</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">loggedInAction</span> <span class="o">=</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="nx">USER_LOGGED_IN</span><span class="p">,</span> <span class="na">payload</span><span class="p">:</span> <span class="nx">res</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">user</span> <span class="p">}</span>
    <span class="nx">dispatch</span><span class="p">(</span><span class="nx">loggedInAction</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">}</span>
</code></pre></div></div>
<p>Much better! Letâs go try it out!</p>
<h5>Follow Along</h5>
<p>We have an app <a href="https://codesandbox.io/s/xo8mkrk49w">here</a> that is ready to make an API call to the Pokemon API. The first step to accomplishing this is to add <code class="highlighter-rouge">redux-thunk</code> as a dependency, then go to the main <code class="highlighter-rouge">index.js</code> page and import it like this:</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">thunk</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">redux-thunk</span><span class="dl">'</span><span class="p">;</span>
</code></pre></div></div>
<p>Next, we need to tell the <code class="highlighter-rouge">applyMiddleware</code> function about this piece of middleware.</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="nx">createStore</span><span class="p">(</span>
  <span class="nx">rootReducer</span><span class="p">,</span>
  <span class="nx">applyMiddleware</span><span class="p">(</span><span class="nx">thunk</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div></div>
<p>Now weâre ready to make our action creators asynchronous!</p>
<p>Go into the <code class="highlighter-rouge">action/index.js</code> file. You should see an action creator that is returning an action. That action adds an error to state. If you push the âFetch PokÃ©monâ button, you will see the error rendered on the screen right after it is added to state.</p>
<p>Now, go ahead and remove the entire return statement out of the action creator. Then letâs build the thunk function.</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="kd">const</span> <span class="nx">getPokemon</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">dispatch</span> <span class="o">=&gt;</span> <span class="p">{</span>

<span class="p">};</span>
</code></pre></div></div>
<p>Now, inside the action creator, we have access to dispatch. So, what is this action creator going to do? It is going to fetch pokemon data from the API. So, before we fetch data, letâs remember the finite state machine and dispatch an action that can tell the reducer that we are starting the fetch. (And letâs change the action type to âFETCH_POKEMON_STARTâ).</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="kd">const</span> <span class="nx">FETCH_POKEMON_START</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">FETCH_POKEMON_START</span><span class="dl">'</span><span class="p">;</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">getPokemon</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">dispatch</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">dispatch</span><span class="p">({</span> <span class="na">type</span><span class="p">:</span> <span class="nx">FETCH_POKEMON_START</span> <span class="p">});</span>
<span class="p">};</span>
</code></pre></div></div>
<p>Now weâll go to the reducer and build a case for that action. Import the correct action type, and add an <code class="highlighter-rouge">isFetching</code> property to the <code class="highlighter-rouge">initialState</code> object. In this case, we will set <code class="highlighter-rouge">isFetching</code> to true, and reset the <code class="highlighter-rouge">error</code> back to an empty string, just in case it has an error in it.</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">FETCH_POKEMON_START</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../actions</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">initialState</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">pokemon</span><span class="p">:</span> <span class="p">[],</span>
  <span class="na">error</span><span class="p">:</span> <span class="dl">''</span><span class="p">,</span>
  <span class="na">isFetching</span><span class="p">:</span> <span class="kc">false</span>
<span class="p">};</span>

<span class="kd">function</span> <span class="nx">reducer</span><span class="p">(</span><span class="nx">state</span> <span class="o">=</span> <span class="nx">initialState</span><span class="p">,</span> <span class="nx">action</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">reducer</span><span class="dl">'</span><span class="p">,</span> <span class="nx">action</span><span class="p">);</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nx">action</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="nx">FETCH_POKEMON_START</span><span class="p">:</span>
      <span class="k">return</span> <span class="p">{</span>
        <span class="p">...</span><span class="nx">state</span><span class="p">,</span>
        <span class="na">isFetching</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="na">error</span><span class="p">:</span> <span class="dl">''</span>
      <span class="p">};</span>

    <span class="nl">default</span><span class="p">:</span>
      <span class="k">return</span> <span class="nx">state</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">reducer</span><span class="p">;</span>
</code></pre></div></div>
<p>Now, back to the action creator to make our API call. To continue, we need to add <code class="highlighter-rouge">axios</code> as a dependency and import it into the action creator file. Then, make a <code class="highlighter-rouge">GET</code> request to âhttps://pokeapi.co/api/v2/pokemon/â.</p>
<p>In the <code class="highlighter-rouge">.then()</code> and <code class="highlighter-rouge">.catch()</code>, we need to dispatch more actions. Inside the <code class="highlighter-rouge">.then()</code>, we will dispatch the <code class="highlighter-rouge">FETCH_POKEMON_SUCCESS</code> action, and pass with it the data we get back from the API. If there is an error, we need to dispatch the <code class="highlighter-rouge">FETCH_POKEMON_FAIL</code> action and pass with it the error. Make two new action types for both cases, then build out the <code class="highlighter-rouge">.then()</code> and <code class="highlighter-rouge">.catch()</code>.</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">axios</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">axios</span><span class="dl">'</span><span class="p">;</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">FETCH_POKEMON_START</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">FETCH_POKEMON_START</span><span class="dl">'</span><span class="p">;</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">FETCH_POKEMON_SUCCESS</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">FETCH_POKEMON_SUCCESS</span><span class="dl">'</span><span class="p">;</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">FETCH_POKEMON_FAIL</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">FETCH_POKEMON_FAIL</span><span class="dl">'</span><span class="p">;</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">getPokemon</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">dispatch</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">dispatch</span><span class="p">({</span> <span class="na">type</span><span class="p">:</span> <span class="nx">FETCH_POKEMON_START</span> <span class="p">});</span>
  <span class="nx">axios</span>
    <span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://pokeapi.co/api/v2/pokemon/</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">res</span> <span class="o">=&gt;</span>
      <span class="nx">dispatch</span><span class="p">({</span> <span class="na">type</span><span class="p">:</span> <span class="nx">FETCH_POKEMON_SUCCESS</span><span class="p">,</span> <span class="na">payload</span><span class="p">:</span> <span class="nx">res</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">results</span> <span class="p">})</span>
    <span class="p">)</span>
    <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">err</span> <span class="o">=&gt;</span> <span class="nx">dispatch</span><span class="p">({</span> <span class="na">type</span><span class="p">:</span> <span class="nx">FETCH_POKEMON_FAIL</span><span class="p">,</span> <span class="na">payload</span><span class="p">:</span> <span class="nx">err</span> <span class="p">}));</span>
<span class="p">};</span>
</code></pre></div></div>
<p>Finally, we will build the cases for our two new actions. In the reducer file, import our new action types. Then build a case for each inside the reducer function. Before looking at the code below, try to think through what change each action represents on the state tree. Think about finite state machines. Now go ahead and try to build both cases, then compare how you did with the code below.</p>
<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span>
  <span class="nx">FETCH_POKEMON_START</span><span class="p">,</span>
  <span class="nx">FETCH_POKEMON_SUCCESS</span><span class="p">,</span>
  <span class="nx">FETCH_POKEMON_FAIL</span>
<span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../actions</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">initialState</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">pokemon</span><span class="p">:</span> <span class="p">[],</span>
  <span class="na">error</span><span class="p">:</span> <span class="dl">''</span><span class="p">,</span>
  <span class="na">isFetching</span><span class="p">:</span> <span class="kc">false</span>
<span class="p">};</span>

<span class="kd">function</span> <span class="nx">reducer</span><span class="p">(</span><span class="nx">state</span> <span class="o">=</span> <span class="nx">initialState</span><span class="p">,</span> <span class="nx">action</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">reducer</span><span class="dl">'</span><span class="p">,</span> <span class="nx">action</span><span class="p">);</span>
  <span class="k">switch</span> <span class="p">(</span><span class="nx">action</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="nx">FETCH_POKEMON_START</span><span class="p">:</span>
      <span class="k">return</span> <span class="p">{</span>
        <span class="p">...</span><span class="nx">state</span><span class="p">,</span>
        <span class="na">isFetching</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="na">error</span><span class="p">:</span> <span class="dl">''</span>
      <span class="p">};</span>
    <span class="k">case</span> <span class="nx">FETCH_POKEMON_SUCCESS</span><span class="p">:</span>
      <span class="k">return</span> <span class="p">{</span>
        <span class="p">...</span><span class="nx">state</span><span class="p">,</span>
        <span class="na">pokemon</span><span class="p">:</span> <span class="nx">action</span><span class="p">.</span><span class="nx">payload</span><span class="p">,</span>
        <span class="na">isFetching</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="na">error</span><span class="p">:</span> <span class="dl">''</span>
      <span class="p">};</span>
    <span class="k">case</span> <span class="nx">FETCH_POKEMON_FAIL</span><span class="p">:</span>
      <span class="k">return</span> <span class="p">{</span>
        <span class="p">...</span><span class="nx">state</span><span class="p">,</span>
        <span class="na">error</span><span class="p">:</span> <span class="nx">action</span><span class="p">.</span><span class="nx">payload</span>
      <span class="p">};</span>
    <span class="nl">default</span><span class="p">:</span>
      <span class="k">return</span> <span class="nx">state</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">export</span> <span class="k">default</span> <span class="nx">reducer</span><span class="p">;</span>
</code></pre></div></div>
<p>Now push the button again, and there are your pokÃ©mon! Here is the final <a href="https://codesandbox.io/s/vy6148rx97">codesandbox</a> for reference.</p>
<h5>Challenge</h5>
<p>Build out a simple React/Redux app that displays dog images from the dogs API.</p>
<h5>Dig Deeper</h5>
<ul>
<li>
<a href="https://codesandbox.io/s/1vzyproz5j" target="blank_">Async Redux Dogs</a><br> Link to code sandbox for Doggos during AsyncRedux discussion</li>
</ul>
<hr>
<h2 class="display-4">
<a id="project" class="anchor" href="#project" aria-hidden="true"><span class="octicon octicon-link"></span></a>Project</h2>
<ul class="list-group">
<li class="list-group-item">
<h5><a target="_blank" href="https://github.com/LambdaSchool/React-Redux-App">React-Redux App</a></h5>
<p>Build a React-Redux app that consumes data from an API of your choosing.</p>
</li>
</ul>
<h2 class="display-4">
<a id="review" class="anchor" href="#review" aria-hidden="true"><span class="octicon octicon-link"></span></a>Review</h2>
<h3 class="display-5">Class Recordings</h3>
<p class="lead">You can use class recordings to help you master the material.</p>
<div>
<ul class="list-group list-group-flush">
<li class="list-group-item">
<strong><a target="_blank" href="https://youtu.be/EBxWcr2JCOU">Async Redux for Web35 w/ Dustin Myers</a></strong>
<p>Async Redux</p>
</li>
<li class="list-group-item">
<a href="/archive/FSW/module/recSoiWNJzGURrXYh">All previous recordings</a>
</li>
</ul>
</div>
<h3 class="display-5">Demonstrate Mastery</h3>
<p>To demonstrate mastery of this module, you need to complete and pass a code review on each of the following:</p>
<ul>
<li>Objective challenge: <p>Consider the following Diagram:</p>
<div class="mermaid">
graph LR
A(isLoggedOut) -- HTTP Request Login --&gt; B(pendingLoginState)
B -- Success/Failure --&gt; C(isLoggedIn)
C -- HTTP Request Logout --&gt; B
B -- Success/Failure --&gt; A
</div>
<p>On your own: Write a paragraph that tells us what you know about the finite state machine pattern. It doesnât have to be long, just a few sentences on the subject. Submit that paragraph to your PM.</p>
</li>
<li>Objective challenge: <p>Look at this package - https://github.com/elgerlambert/redux-localstorage. Try to now implement this so that your store is saved to <code class="highlighter-rouge">localStorage</code>. The configuration is a little different than what we did above, so you will have to follow what the docs show.</p>
</li>
<li>Objective challenge: <p>Build out a simple React/Redux app that displays dog images from the dogs API.</p>
</li>
<li>Project: React-Redux App</li>
<li>Code Challenge: GetAllProductExceptAtIndex</li>
<li>Code Challenge: BinaryArraySortInLinearTime</li>
</ul>
</div>
</div>
</div>
</main>
</div>

<script async src="https://www.googletagmanager.com/gtag/js?id=UA-80850900-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());

  gtag('config', 'UA-80850900-4');
</script>
<script type="text/javascript">
  function getDomain() {
    const domainName = window.location.hostname.split('.')[1];
    return `${domainName}.com`;
  }
</script>
<script src="" integrity="" crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
<script src="/assets/js/vendor/popper.min.js" integrity="" crossorigin="anonymous"></script><script src="/dist/js/bootstrap.min.js" integrity="" crossorigin="anonymous"></script><script src="/assets/js/activate.js"></script>
<script src="/assets/js/jekyll-search.js" type="text/javascript"></script>
<script type="text/javascript">
  SimpleJekyllSearch.init({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('results-container'),
    dataSource: '/search.json',
    searchResultTemplate: '<li class="list-group-item"><a href="{url}" title="Async Redux">{title}</a></li>',
    noResultsText: '',
    limit: 10,
    fuzzy: true,
  })
</script>
<script src="/assets/js/mermaid.min.js"></script><script type="text/javascript">
  if (window.attachEvent) {
    window.attachEvent('onload', verifySignedIn);
  } else {
    if (window.onload) {
      var currentOnLoadFn = window.onload;
      var newOnLoadFn = function (evt) {
        currentOnLoadFn(evt);
        verifySignedIn();
      };
      window.onload = newOnLoadFn;
    } else {
      window.onload = verifySignedIn;
    }
  }

  function verifySignedIn() {
    if (isPagePublic()) {
      return showPageContents();
    }

    window.__user = null;
    isSignedIn().then((user) => {
      window.__user = user;

      if (!user.signedIn) {
        redirectToSignIn();
      } else if (!user.student && !window.__openToAdmissions) {
        showUnauthorizedMessage();
      } else {
        showPageContents();
      }
    });
  }

  function isPagePublic() {
    const openCourses = [
      'and-pre',
      'ds-pre',
      'fsw-pre',
      'help',
      'ios-pre',
    ];

    const openPages = [
      'cs-and',
      'cs-fsw',
      'cs-ios',
      'cr',
      'ds',
      'jx',
      'p4s',
      'ux',
    ];

    const pathParts = window.location.pathname.split('/');
    const courseName = pathParts[1];
    const pageName = pathParts[pathParts.length - 1];

    return openCourses.includes(courseName) || openPages.includes(pageName);
  }

  function isSignedIn() {
    const isDeployPreview = window.location.hostname.startsWith('deploy-preview') && window.location.hostname.endsWith('netlify.com');

    if (isDeployPreview) return Promise.resolve({ signedIn: true, student: true });

    return fetch(`${getAuthBaseUrl()}/whoami`, { credentials: 'include' })
      .then((response) => response.text())
      .then((userAsText) => userAsText ? JSON.parse(userAsText) : null)
      .then((userData) => ({ signedIn: Boolean(userData), student: Boolean(userData && userData.airtableId), id: userData ? userData.id : null, email: userData ? userData.email : null }))
      .catch((error) => {});
  }

  function redirectToSignIn() {
    const signInUrl = `${getAuthBaseUrl()}/sign-in?redirect=${encodeURIComponent(window.location.href)}&reason=auth_required`
    const redirectMessage = document.querySelector('#redirect-message');
    redirectMessage.style.display = "block";
    redirectMessage.innerHTML = `<div>You are being redirected to the sign in page. If you aren't redirected automatically, you can use <a href=${signInUrl}>this link</a>.</div>`
    window.location = signInUrl;
  }

  function showPageContents() {
    document.querySelector('#content-wrapper').style.visibility = 'visible';
  }

  function showUnauthorizedMessage() {
    document.querySelector('#unauthorized-message').style.display = 'block';
  }

  function getAuthBaseUrl() {
    const domain = getDomain();
    const authBaseUrl = `https://auth.${domain}`;
    return authBaseUrl;
  }
</script><script src="/assets/js/docs.min.js"></script><script>
  var MathJax = {
    tex: {
      inlineMath: [['$$', '$$'], ['\[', '\])']]
    },
    "HTML-CSS": {
      styles: {
        ".MathJax span": {
          color: "#000000"
        }
      }
    }
  }
</script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
<script>
  handleExternalLinks();

  function handleExternalLinks() {
    const domain = getDomain();
    const links = document.querySelectorAll('a');
    return links.forEach((link) => {
      if (!link.host.includes(domain)) link.target = '_blank';
    })
  };
</script>
</div>
</body>
</html>
