

<a href="#content" id="skippy" class="sr-only sr-only-focusable"></a>

<span class="skiplink-text">Skip to main content</span>

<a href="/" class="navbar-brand"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMyIgaGVpZ2h0PSIzNSIgdmlld2JveD0iMCAwIDMzIDM1IiBmaWxsPSJub25lIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0wIDBWMTYuMDYwOUMwIDI3LjczMzUgOS4wODkyOSAzMS43ODQzIDE1LjczMjEgMzQuNzUxM0gxNS43NUwxNi4yODU3IDM1QzE2LjQxMDcgMzQuOTI4OSAxNi41MzU3IDM0Ljg3NTYgMTYuNjc4NiAzNC44MjIzQzE2Ljc1IDM0Ljc4NjggMTYuODM5MyAzNC43NTEzIDE2LjkxMDcgMzQuNzE1N0MyMy41NzE0IDMxLjc2NjUgMzIuNjk2NCAyNy42OTggMzIuNjk2NCAxNi4wNjA5VjBIMFpNMjAuNzA3MSAyMy40NTM2TDIwLjM1NzEgMjIuNTEwMkwxNS42MDcxIDEwLjA3MzZDMTUuMzIxNCAxMC44MDIgMTQuNjYwNyAxMi41NjA5IDEzLjk0NjQgMTQuNDQ0MkwxMS4yMTQzIDIxLjc4MTdDMTEuMDg5MyAyMi4xMzcxIDExLjE2MDcgMjIuMzE0NyAxMS4yNSAyMi40MzkxQzExLjQ0NjQgMjIuNjcwMSAxMS44NzY4IDIyLjY3MDEgMTIuNTU1NCAyMi42NzAxSDEyLjY3ODZMMTIuNjc2OCAyMy40NTE4SDcuNTY5NjRWMjIuNjcwMUg3Ljk2MjVDOC42NTg5MyAyMi42NzAxIDkuMjMwMzYgMjIuMzY4IDkuNjU4OTMgMjEuNTE1MkwxMC4xNzY4IDIwLjM0MjZMMTQuOTA4OSA4LjI5Njk2TDE0LjA2OTYgNi4wNzYxNEgxOC40ODA0TDI0LjU2OTYgMjIuMDEyN0wyNS4xMjUgMjMuNDUzNkgyMC43MDcxWiIgZmlsbD0iI0VDMzk0NCI+PC9wYXRoPgo8L3N2Zz4=" /></a>

![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdib3g9IjAgMCAzMCAzMCIgd2lkdGg9IjMwIiBoZWlnaHQ9IjMwIiBmb2N1c2FibGU9ImZhbHNlIj48dGl0bGU+TWVudTwvdGl0bGU+PHBhdGggc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNNCA3aDIyTTQgMTVoMjJNNCAyM2gyMiI+PC9wYXRoPjwvc3ZnPg==)

#### Web API: Java

<a href="/web4java/sprint/recnLDyTtONLTMiFJ" class="bd-toc-link">1.  Java Precourse Information</a>

-   [Welcome to Java Spring](/web4java/module/recfnUAvFbeyIAHib/)
-   [Java Spring Course Table of Contents](/web4java/module/recjH0lMflsFIVzDM/)

<a href="/web4java/sprint/recoJ4ZqNQWX3cy6E" class="bd-toc-link">2.  Java Fundamentals</a>

-   [Java - JDK and Java Classes](/web4java/module/recAGVTYNZyJbEFpu/)
-   [Java Interfaces, Abstract Classes, Lambda Expression](/web4java/module/rec6Hrk77HupYeoN5/)
-   [Java - RDBMS and SQL Basics](/web4java/module/recyJ663TrxVgpqY9/)
-   [Java - Intro to Maven, Spring, and Tomcat Using REST API](/web4java/module/recqtftA9E98qpbak/)

<a href="/web4java/sprint/recRVUSWQEtosl0Cz" class="bd-toc-link">3.  RDBMS and Intro to APIs</a>

-   [Java - Spring Database Creation Including Seed Data](/web4java/module/recb0OVmRrJzqhH4D/)
-   [Java - Read Data using CRUD Operations](/web4java/module/rec3THcdjv8BumGCt/)
-   [Java - Inserting Deleting and Updating Data using CRUD Operations](/web4java/module/recJihkiNn2KH2nEW/)
-   [Java - Data Modeling and Auditing Fields with custom querying](/web4java/module/rec2oQCFWOVShtxIx/)

<a href="/web4java/sprint/recSqm5AAEkJcIl3p" class="bd-toc-link">4.  Java Frameworks</a>

-   [Java - Exception Handling](/web4java/module/rec3E1WYDyoiEF1e3/)
-   [Java - User Authentication](/web4java/module/rececDV2OMIUcY2eH/)
-   [Java - Automated Testing](/web4java/module/recDboXln5wm4aKJt/)
-   [Java - Java Deployment and Best Practices](/web4java/module/rec7pCiBPzI4DkAJT/)

<a href="/web4java/sprint/recC5dhR9menaROwx" class="bd-toc-link">5.  WEB Unit 4 Java Build</a>

<a href="/" class="navbar-brand"><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTM1IiBoZWlnaHQ9IjM1IiB2aWV3Ym94PSIwIDAgNzU2IDE5NyIgZmlsbD0iI2VjMzk0NCI+PGc+PHBhdGggZD0iTTI5Mi45LDEyNi42aC02LjdjLTksMC0xMi42LTEuOS0xMi42LTkuNVY0OC41YzAtNy43LDEuNi04LjYsMTEuNC05Ljd2LTQuNWgtNDEuM3Y0LjUgYzkuOCwxLjEsMTEuNCwxLjksMTEuNCw5Ljd2NjkuM2MwLDcuNy0xLjYsOC42LTExLjQsOS43djQuNWg3My43bDQuOS0yOS40aC00LjRDMzA4LjUsMTE5LjYsMzAzLjksMTI2LjYsMjkyLjksMTI2LjZ6Ij48L3BhdGg+PHBhdGggZD0iTTM4NS41LDEyMS4xVjc5LjNjMC0xNS44LTkuNC0yMi40LTI2LjYtMjIuNGMtMTUsMC0yNi44LDYuNi0yNi44LDE5LjNjMCwyLjQsMC4yLDMuMywwLjgsNWgxNi42IGMtMC41LTItMC43LTUtMC43LTcuNWMwLTkuNiwzLjYtMTIuNCw5LjQtMTIuNGM2LjQsMCw5LjcsMiw5LjcsMTQuNHYxMS4ybC0yMC44LDcuN2MtMTAuNiw0LjEtMTkuMyw4LjgtMTkuMywyMC43IGMwLDEwLjksNy41LDE3LjgsMTguNiwxNy44YzkuOSwwLDE3LjQtNi4yLDIxLjktMTIuMWwwLjEtMC4xbDAsMFYxMzJoMjZ2LTQuNEMzODcuNywxMjcuMSwzODUuNSwxMjYuMiwzODUuNSwxMjEuMXogTTM2OCwxMTcuOCBjLTQuNCwzLjMtNy42LDUuMy0xMiw1LjRjLTcuNywwLTExLjItNS4yLTExLjItMTIuNmMwLTcuNywzLjYtMTEuMiw5LjgtMTMuNWwxMy40LTUuNFYxMTcuOEwzNjgsMTE3Ljh6Ij48L3BhdGg+PHBhdGggZD0iTTUxNC40LDEyMVY3OS41YzAtMTQuOC02LTIyLjQtMTguNy0yMi40Yy0xMS41LDAtMTkuNCw2LjYtMjUuNSwxMy45Yy0xLjgtOS42LTcuNy0xMy45LTE3LjgtMTMuOSBjLTExLjQsMC0xOC43LDYuMi0yNC44LDEzLjZWNTdoLTIuM2wtMjMuOCw3LjR2Mi40bDguNiw1djQ5LjRjMCw1LTIuMSw2LjEtOC45LDYuNHY0LjRoMzUuMXYtNC40Yy02LjctMC4zLTguNy0xLjMtOC43LTYuNHYtNDcgYzQuNy0zLjYsOS41LTYuNSwxNS41LTYuNWM3LjYsMCwxMC41LDQuMiwxMC41LDEyLjd2NDAuOGMwLDUtMS45LDYuMS04LjcsNi40djQuNGwzNC44LDB2LTQuNGMtNi43LTAuMy04LjYtMS4zLTguNi02LjR2LTQ3IGM0LjctMy42LDkuNS02LjUsMTUuNS02LjVjNy42LDAsMTAuNSw0LjIsMTAuNSwxMi43bC0wLjEsNDAuNWMwLDUtMS44LDYuNC04LjYsNi43bDAsNC40aDM1LjF2LTQuNCBDNTE2LjcsMTI3LjQsNTE0LjQsMTI2LjEsNTE0LjQsMTIxeiI+PC9wYXRoPjxwYXRoIGQ9Ik01NzMuMiw1Ny4zYy0xMSwwLTE4LjUsNS43LTIzLjQsMTIuOFYyMi45aC0yLjdsLTIzLjQsNi44djIuNWw4LjYsNC41VjEzMmgyLjlsOC0zLjVjNS44LDMuMywxMi4zLDUsMjAuMiw1IGMyMC44LDAsMzcuNC0xNS44LDM3LjQtNDIuNkM2MDAuOSw2OS45LDU5MC40LDU3LjMsNTczLjIsNTcuM3ogTTU2My40LDEyOC43Yy01LjQsMC0xMC4zLTIuNC0xMy43LTcuOVY3My42IGMzLjQtMy40LDguNS01LjcsMTMuNS01LjdjMTMuOSwwLDIwLDEyLjgsMjAsMjkuNUM1ODMuMywxMTQuNyw1NzUuOCwxMjguNSw1NjMuNCwxMjguN3oiPjwvcGF0aD48cGF0aCBkPSJNNjc3LDEyMS4yVjIyLjhoLTIuNkw2NTEsMjkuNlYzMmw4LjYsNC41djI1LjdjLTMuNC0zLjItOC44LTUuMS0xNS41LTUuMWMtMTkuOSwwLTM1LjIsMTUuMy0zNS4yLDQxLjMgYzAsMjAuNywxMS4yLDM0LjYsMjguMSwzNC42YzkuOCwwLDE3LTUuMywyMi42LTEzLjF2MC45VjEzMmgyNi4zbDAtNC40QzY3OS4xLDEyNy4zLDY3NywxMjYuMyw2NzcsMTIxLjJ6IE02NTkuNiwxMTcuMSBMNjU5LjYsMTE3LjFjLTMuNCwzLjQtOCw1LjEtMTMuMiw1LjFjLTEzLjIsMC0yMC40LTEyLjgtMjAuNC0yOS44YzAtMTcuOCw3LjMtMjkuMiwxOS41LTI5LjJjOC43LDAsMTQuMSw2LjksMTQuMSwxOC4zIEw2NTkuNiwxMTcuMXoiPjwvcGF0aD48cGF0aCBkPSJNNzQ3LjEsMTIxLjFWNzkuM2MwLTE1LjgtOS40LTIyLjQtMjYuNi0yMi40Yy0xNSwwLTI2LjgsNi42LTI2LjgsMTkuM2MwLDIuNCwwLjIsMy4zLDAuOCw1aDE2LjYgYy0wLjUtMi0wLjctNS0wLjctNy41YzAtOS42LDMuNi0xMi40LDkuNC0xMi40YzYuNCwwLDkuNywyLDkuNywxNC40djExLjJsLTIwLjgsNy43Yy0xMC42LDQuMS0xOS4zLDguOC0xOS4zLDIwLjcgYzAsMTAuOSw3LjUsMTcuOCwxOC42LDE3LjhjOS45LDAsMTcuNC02LjIsMjEuOS0xMi4xdi0wLjFoMC4xbDAsMTEuMWwyNiwwLjF2LTQuNUM3NDkuMywxMjcuMSw3NDcuMSwxMjYuMiw3NDcuMSwxMjEuMXogTTcyOS42LDExNy44Yy00LjQsMy4zLTcuNiw1LjMtMTIuMSw1LjRjLTcuNywwLTExLjItNS4yLTExLjItMTIuNmMwLTcuNywzLjYtMTEuMiw5LjgtMTMuNWwxMy40LTUuNEw3MjkuNiwxMTcuOEw3MjkuNiwxMTcuOHoiPjwvcGF0aD48L2c+PHBhdGggZD0iTTAsMHY5MC40YzAsNjUuNyw1MC45LDg4LjUsODguMSwxMDUuMmgwLjFsMywxLjRjMC43LTAuNCwxLjQtMC43LDIuMi0xYzAuNC0wLjIsMC45LTAuNCwxLjMtMC42IGMzNy4zLTE2LjYsODguNC0zOS41LDg4LjQtMTA1VjBIMHogTTExNiwxMzJsLTItNS4zbC0yNi42LTcwYy0xLjYsNC4xLTUuMywxNC05LjMsMjQuNmwtMTUuMyw0MS4zYy0wLjcsMi0wLjMsMywwLjIsMy43IGMxLjEsMS4zLDMuNSwxLjMsNy4zLDEuM0g3MWwwLDQuNEg0Mi40bDAtNC40aDIuMmMzLjksMCw3LjEtMS43LDkuNS02LjVsMi45LTYuNmwyNi41LTY3LjhsLTQuNy0xMi41aDI0LjdsMzQuMSw4OS43bDMuMSw4LjFIMTE2eiI+PC9wYXRoPjwvc3ZnPg==" /></a>

#### Web API: Java

<a href="/web4java/sprint/recnLDyTtONLTMiFJ" class="bd-toc-link">1.  Java Precourse Information</a>

-   [Welcome to Java Spring](/web4java/module/recfnUAvFbeyIAHib/)
-   [Java Spring Course Table of Contents](/web4java/module/recjH0lMflsFIVzDM/)

<a href="/web4java/sprint/recoJ4ZqNQWX3cy6E" class="bd-toc-link">2.  Java Fundamentals</a>

-   [Java - JDK and Java Classes](/web4java/module/recAGVTYNZyJbEFpu/)
-   [Java Interfaces, Abstract Classes, Lambda Expression](/web4java/module/rec6Hrk77HupYeoN5/)
-   [Java - RDBMS and SQL Basics](/web4java/module/recyJ663TrxVgpqY9/)
-   [Java - Intro to Maven, Spring, and Tomcat Using REST API](/web4java/module/recqtftA9E98qpbak/)

<a href="/web4java/sprint/recRVUSWQEtosl0Cz" class="bd-toc-link">3.  RDBMS and Intro to APIs</a>

-   [Java - Spring Database Creation Including Seed Data](/web4java/module/recb0OVmRrJzqhH4D/)
-   [Java - Read Data using CRUD Operations](/web4java/module/rec3THcdjv8BumGCt/)
-   [Java - Inserting Deleting and Updating Data using CRUD Operations](/web4java/module/recJihkiNn2KH2nEW/)
-   [Java - Data Modeling and Auditing Fields with custom querying](/web4java/module/rec2oQCFWOVShtxIx/)

<a href="/web4java/sprint/recSqm5AAEkJcIl3p" class="bd-toc-link">4.  Java Frameworks</a>

-   [Java - Exception Handling](/web4java/module/rec3E1WYDyoiEF1e3/)
-   [Java - User Authentication](/web4java/module/rececDV2OMIUcY2eH/)
-   [Java - Automated Testing](/web4java/module/recDboXln5wm4aKJt/)
-   [Java - Java Deployment and Best Practices](/web4java/module/rec7pCiBPzI4DkAJT/)

<a href="/web4java/sprint/recC5dhR9menaROwx" class="bd-toc-link">5.  WEB Unit 4 Java Build</a>

-   [Prepare](#prepare)
-   [Learn](#learn)
-   [Guided Project](#guided-project)
-   [Project](#project)
-   [Review](#review)

# Java - Intro to Maven, Spring, and Tomcat Using REST API

<span class="lead"> </span>

<span id="IntelliJ_and_REST_API"></span>

**At the end of this module, you should be able to:**

-   use IntelliJ in the following areas: application creation, code entry, and code execution
-   download, commit and branch source control repositories
-   explain the uses of and differences between Maven, Spring, and Tomcat
-   build a REST service using Spring Boot
-   use and implement inversion of control and dependency injection with Spring
-   implement Beans throughout the Beans’ lifecycle controlling the Beans using annotations
-   produce a complete application following the Maven Phases
-   use Postman to manually test Web APIs
-   create Spring Boot Applications with IntelliJ Community Edition (\*\*\* OPTIONAL \*\*\*)
-   use tips and tricks of IntelliJ to improve programming efficiency (\*\*\* OPTIONAL \*\*\*)

#### Pro Tip

Celebrate wrong answers, because that means someone’s about to learn!

## <a href="#prepare" id="prepare" class="anchor"><span class="octicon octicon-link"></span></a>Prepare

Review each preclass resource before class.

## <a href="#learn" id="learn" class="anchor"><span class="octicon octicon-link"></span></a>Learn

#### Learn to use IntelliJ in the following areas: application creation, code entry, and code execution

<span id="IntelliJ_Overview"></span>

##### Overview

### Software Needed

-   Java Development Kit (JDK) - at least version 11
-   JetBrains IntelliJ IDEA IDE

### What’s in a name

Most of the time, Java development is done using an Integrated Development Environment (IDE). The most popular one is JetBrains’ IntelliJ Idea IDE. This IDE comes in two versions:

-   Free community version
-   a commercial Ultimate Version available through your GitHub Student Pack.
    -   provides smooth integration with the Spring Framework so we will be using the Ultimate Version!

In the industry, this IDE goes by two different names: **Idea** and my preference **IntelliJ**. When doing web searches to find information about this IDE, try searching using both terms. I usually start with IntelliJ and if I don’t find what I need, I then try Idea! For example, I would search in the following order:

-   intellij code completion
-   idea code completion
-   jetbrains code completion (as a last resort!)

##### Follow Along

### Using IntelliJ

This is meant to be a quick over of how to use IntelliJ Idea Ultimate Education. Many new terms are mentioned here. They will be explained as the day goes along.

#### Create a new application

When you first launch IntelliJ, you are presented with an opening screen

-   On the left panel are previously opened projects if any
    -   To reopen the project, simple click on it
    -   To remove previous open projects, hover over a project and click on the X that appears in the corner by the project’s name
-   On the right are your options to do things other than open an old project
    -   Normally you will use `Open` to open a saved project that is not currently on the previously opened list
    -   Here we are using `Create New Project` to create a new project
    -   Towards the bottom is a pull down that lets you configure the IntelliJ IDE

![IntelliJ Launch Screen](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-intellij-01.png)

-   Click on Create New Project and enter the new project wizard
    -   The next screen allows you to pick what system you want to use in your application. For our purposes we pick Spring Initializr to create a backend API System.
    -   You also pick which Software Development Kit (SDK) you wish to use. I am going with version 11.0.5
        -   Remember SDK is the generic name of the Java Development Kit (JDK)
    -   Click Next to move to the next screen

![IntelliJ Pick System](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-intellij-02.png)

-   On the next screen we set up Project Metadata
    -   Group:
        -   for school I use `com.lambdaschool.com`
        -   for personal projects, I use my preferred username `local.jrmmba`
    -   Artifact - name of project. For this example we will call it `hellospring`
        -   Must be done in lowercase.
        -   No uppercase allowed
        -   No spaces or special characters allowed
    -   Type - we are using Maven as our application manager so we will select `Maven Project`
    -   Language - we are programming in `Java`
    -   Java Version - I am using version `11` and so picked that one
    -   Version - completely up to you. I will normally leave this as the default
    -   Name - normally the same as the artifact but can accept spaces and other characters
    -   Description - completely up to you. I will normally leave this as the default
    -   Package - should default to a combination of the Group and Artifact
    -   Click Next to move to the next screen

![IntelliJ Project Metadata](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-intellij-03.png)

-   On the next screen we pick our dependencies that will be used by Spring Boot:
    -   Pick the current released version of Spring Boot
    -   Search for the dependencies you want in the search box
    -   For this project we will need
        -   Web
        -   Devtools
    -   There are many, many to pick from - we will learn more about this as the course goes on
    -   If you add one by mistake, click the X next to the name in the Selected Dependencies panel

![IntelliJ Dependencies](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-intellij-04.gif)

-   The last screen allows us to say where to save the project
    -   I usually allow the project name to default to the project’s name
    -   For project location, pick a work folder (mine is `jxwork`) and create a new folder under that work folder to house your project and all its many files
    -   Seldom do we use the More Settings option
    -   Click Finish to move on

![IntelliJ Finish](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-intellij-05.png)

-   Allow the project to be created
    -   If you ever get the warning, “Maven projects need to be imported”, ALWAYS select Enable Auto-Import!

![IntelliJ AutoImport](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-intellij-06.png)

#### Folder layout

You’ll find the following files in the newly created application. Look in the Project Window Pane, expanding the directories as necessary.

-   External libraries
    -   JDK Files
    -   Dependencies used by Maven
-   IntelliJ and Maven Files
    -   .idea folder
        -   Contains configurations specific to this application for IntelliJ, also called Idea
    -   .mvn folder
        -   Contains the Maven wrapper which is the application manager being used by the application
    -   .gitignore
        -   A standard gitignore file generated by IntelliJ.
        -   Not a file we will use. We create our own gitignore file.
    -   hellospring.iml
    -   HELP.md
        -   Markdown file with links to
            -   Maven Documentation
            -   Spring Documentation
            -   REST API descriptions
            -   Spend some time looking at these! Good stuff.
    -   mvnw
        -   Needed for Maven so just leave alone
    -   mvnm.cmd
        -   Needed for Maven so just leave alone
-   Our Application - This is where we do our most work
    -   pom.xml
        -   The configuration file for Maven
    -   src
        -   Where we write our application
            -   main - the code for our application
            -   test - where we write our integration and unit tests

![IntelliJ File Structure](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-intellij-07.png)

We are going to build an API system. This means that for a user to see the output, they will have to surf to a website, called an endpoint. Surfing to that endpoint triggers a Java method to run which ultimately returns something to the user’s browser.

#### Create a new package

We organize our code into packages. Code that performs similar functions goes together in package. Let’s create two packages called `models` and `controllers`.

We are working inside the following folder structure:

-   src
    -   main
        -   java
            -   com
                -   lambdaschool
                    -   hellospring

For each new package, Right Click on the “main” package name - in our case hellospring:

-   Select `New`
    -   Select `Package`
        -   Enter the name of the package at the end of `com.lambaschool.hellospring.`
        -   This will make a “sub-package” of `hellospring`!

![IntelliJ packages](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-intellij-08.gif)

#### Create a new class

Like methods are grouped in classes inside each package. Let’s create two new classes called `Hello` under `models` and a class called `HelloController` under `controllers`.

-   For each new class, Right Click on the package name
    -   Select `New`
        -   Select `Java Class`
            -   Leave the type selected as Class
            -   Enter the name of the class - remember classes start with a capital letter
    -   This creates a code structure for the Class

![IntelliJ Classes](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-intellij-09.gif)

#### Generate Getter and Setter

Enter the following code into the `model.Hello` class:

    {
        String message;

    }

The `Hello` class now contains a field. We can automatically generate Getters and Setters for our fields.

-   Right click in the code where you want to put the Getters and Setters
    -   Generate
        -   Getter and Setter
            -   Make sure the fields are highlighted and click Ok

![IntelliJ Getter and Setter](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-intellij-10.gif)

#### Generate Constructors

Let’s automatically generate a constructor that sets the message field:

-   Right click in the code where you want to put the constructor
    -   Generate
        -   Constructor
            -   Make sure the fields you want to set in the constructor, if any, are highlighted
            -   Click ok

![IntelliJ Constructor](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-intellij-11.gif)

#### Automatic import of imports

Let’s enter some code, in the `controllers.HelloController` class. To see descriptions of each line of code, expand the commented code section.

Notice when you enter code that requires an import, for example `@RestController`, that import is automatically added by IntelliJ. Sometimes IntelliJ is unsure which import you want, and you have to either pick the import from a list or manually enter it.

    package com.lambdaschool.hellospring.controllers;

    import com.lambdaschool.hellospring.models.Hello;
    import org.springframework.http.HttpStatus;
    import org.springframework.http.ResponseEntity;
    import org.springframework.web.bind.annotation.GetMapping;
    import org.springframework.web.bind.annotation.PathVariable;
    import org.springframework.web.bind.annotation.RestController;

    @RestController
    public class HelloController
    {
        @GetMapping("/hellospring/{msg}")
        public ResponseEntity<?> getMessage(@PathVariable String msg)
        {
            Hello myMsg = new Hello(msg);
            return new ResponseEntity<>(myMsg, HttpStatus.OK);
        }
    }

And yes this code looks different. Controllers are the intersection between the web and Java. The use of annotations or `@<commands>` is very prevalent. We will look at each annotation as we go through the course.

commented code


    // The package line is added automatically when the class is created
    package com.lambdaschool.hellospring.controllers;

    // These imports are added automatically when the command that requires is typed in
    import com.lambdaschool.hellospring.models.Hello;
    import org.springframework.http.HttpStatus;
    import org.springframework.http.ResponseEntity;
    import org.springframework.web.bind.annotation.GetMapping;
    import org.springframework.web.bind.annotation.PathVariable;
    import org.springframework.web.bind.annotation.RestController;

    // the following Spring Annotation identifies this class as a class
    // containing routes, endpoints for our API application
    @RestController
    public class HelloController
    {
        // the following Spring Annotation identifies this method
        // as a Get in our API application.
        // The route take a path variable
        @GetMapping("/hellospring/{msg}")

        // getMessage is the first method that appears after the @GetMapping annotation
        // so it is the method that will be executed when the route /hellospring/{msg} is used
        //
        // our methods for routes normally return a ResponseEntity>.
        // the > says we will determine the class of this ResponseEntity later
        //
        // The @PathVariable annotation ties the path variable from the route
        // to the Java Variable msg
        public ResponseEntity<?> getMessage(@PathVariable String msg)
        {
            Hello myMsg = new Hello(msg);

            // we return a ResponseEntity with a body of the object myMsg
            // and an HTTP Status of OK
            return new ResponseEntity<>(myMsg, HttpStatus.OK);
        }
    }

#### Execute program

To run this application, click on the green triangle in the upper right hand corner.

![IntelliJ Execute](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-intellij-12.png)

This is a Spring Boot Application. Logging information will appear in the console but to see output you will need to surf to the endpoint.

<http://localhost:8080/hellospring/John>

Gives the output:

    {
        "message": "Hello John"
    }

We have written out first Java Spring Application. Keep studying to figure out what we just did!

##### Dig Deeper

-   [JetBrains](https://www.jetbrains.com/idea/documentation/)  
    JetBrains IntelliJ IDEA IDE
-   [IntelliJ Tutorial](https://www.tutorialspoint.com/intellij_idea/index.htm)  
    IntelliJ Idea Tutorial
-   [Wildcards](https://docs.oracle.com/javase/tutorial/java/generics/wildcards.html)  
    Oracle's Wildcard Tutorial

------------------------------------------------------------------------

#### Learn to download, commit and branch source control repositories

<span id="IntelliJ_and_GitHub"></span>

##### Overview

### Software Needed

-   Java Development Kit (JDK) - at least version 11
-   JetBrains IntelliJ IDEA IDE
-   GitHub

You can use GitHub through the console or through IntelliJ itself. Let’s look at both!

Note that both are adapted from [The Lambda School Git Flow](https://github.com/atbenedict/Lambda-Git-Flow-for-Dummies/blob/master/README.md) so hopefully you are familiar with the process.

We will be working through these steps using as a sample repository `java-catsanddogs` found at: <https://github.com/LambdaSchool/java-catsanddogs.git>.

##### Follow Along

### GitHub through the console

-   Through the GitHub website, fork the repository <https://github.com/LambdaSchool/java-catsanddogs.git> to create **YOUR OWN** version of the repo.

-   For Lambda School Projects, add your TL as a collaborator

    **on GitHub:**  
    *`Settings`* -> *`Collaborators`* -> *`Add Collaborator` (use your TL’s handle)*&lt;/br> *(I’d suggest grabbing the invite tag and DM it to your TL on Slack at this point)*

-   Clone **YOUR** Repo

    **back on your machine:**  
    `git clone <your-repo-address>`

-   Create a branch (the one you are going to be working on)

    `cd <repo directory>`&lt;/br> `git checkout -b 'firstname-lastname'`

-   Push your new branch up to GitHub and make all future pushes to that branch

    `git push -u origin firstname-lastname`

-   Make some changes to the code

    -   Select Open from the IntelliJ Welcome Screen

![IntelliJ Open](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-git-01.png)

-   Navigate to your local repo. Note I am using the columns view to show from where I am opening the application
-   Expand your repo name
-   Expand the folder containing your application
-   Note that with Java Spring applications, opening the wrong folder is a common issue. Only When you see the `src` folder and the `pom.xml` file,
    -   DO NOT SELECT ANY FILES
    -   Click `Open`

![IntelliJ Open](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-git-02.png)

-   Your code should open as normal (this might take a while).

-   For this example I am going to make the name of the cat always be returned in uppercase. So, in the models.Cat.java change the `catname` setter to the following:

<!-- -->

        public String getCatname()
        {
            return catname.toUpperCase();
        }

-   Continue committing and pushing your changes to your local repo

<!-- -->

    git add .
    git commit -m "Why this change"
    git push

-   I like to be completely out of IntelliJ when I do a push to GitHub. That way I know all of my changes have been saved

-   Remember the pushes have to be done from the repo root directory, the directory containing the README.md file!

-   When you are ready to submit your project:

    **on GitHub:**  
    `Compare & Pull Request` -> `Base: YOUR MASTER` (Not the Lambda Master) compare fork: **`YOUR FORK`**

-   Add your TL as a reviewer on the Pull Request

    On the *‘`Open a Pull Request`‘* page click on *`Reviewers`*. If your TL has accepted your invite, then you should be able to select them here. If not, then they haven’t accepted the invite, and you will have to check back later…

-   **Your TL** will merge the work into **YOUR** Master fork when they have reviewed and approved it.

### GitHub through IntelliJ

-   One time only, you need to connect IntelliJ to your GitHub account. You do this from the welcome screen
    -   Configure -> Preferences
        -   Preferences for New Projects
            -   Version Control
                -   GitHub
                    -   Add Account
                        -   Sign in to GitHub using your account info
                        -   You should see your picture and account info appear in the window
                    -   Click OK

![IntelliJ GitHub](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-git-04.png)

-   For each project

-   Through the GitHub website, fork the repository <https://github.com/LambdaSchool/java-catsanddogs.git> to create **YOUR OWN** version of the repo

-   For Lambda School Projects, add your TL as a collaborator

    **on GitHub:**  
    *`Settings`* -> *`Collaborators`* -> *`Add Collaborator` (use your TL’s handle)*&lt;/br> *(I’d suggest grabbing the invite tag and DM it to your TL on Slack at this point)*

-   Copy the link as if you are going to clone the repo from the console

-   From IntelliJ, select Get From Version Control

![IntelliJ Open Version Control](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-git-03.png)

-   Clone **YOUR** Repo
    -   Paste the link to **your** GitHub repo in the URL: box
    -   Set your directory where you want to save the cloned repo
    -   Click Clone

![IntelliJ Clone](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-git-05.png)

-   You will be asked
    -   **Checkout from Version Control**: Create an IntelliJ Project
    -   Select **No**
-   Now open the project like normal

![IntelliJ Open](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-git-01.png)

-   Navigate to your local repo. Note I am using the columns view to show from where I am opening the application
-   Expand your repo name
-   Expand the folder containing your application
-   Note that with Java Spring applications, opening the wrong folder is a common issue. Only When you see the `src` folder and the `pom.xml` file,
    -   DO NOT SELECT ANY FILES
    -   Click `Open`

![IntelliJ Open](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-git-02.png)

-   Your code should open as normal (this might take a while).

-   Create a branch (the one you are going to be working on)

    -   Goto to pull down menu `VCS` -> `VCS Operations Popup...`
        -   From Popup menu, select 7. Branches
        -   Create a new branch named your firstname-lastname

![IntelliJ Create a Branch](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-git-06.gif)

-   Push that branch to your GitHub repo
    -   Goto to pull down menu `VCS` -> `VCS Operations Popup...`
        -   From Popup menu, select 8. Push
        -   Click Push

![IntelliJ Push](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-git-07.gif)

-   Make some changes to the code

    -   For this example I am going to make the name of the cat always be returned in uppercase. So in the models.Cat.java change the `catname` setter to the following

<!-- -->

        public String getCatname()
        {
            return catname.toUpperCase();
        }

-   I also added a class Rabbit but did not add it to the repo

-   Notice files appear in different colors
    -   Red -> file not added to repo
    -   Blue -> file changed from what has been committed
    -   For a complete list see <https://www.jetbrains.com/help/idea/file-status-highlights.html>

-   Continue committing and pushing your changes to your local repo
    -   Goto to pull down menu `VCS` -> `Commit..`
        -   Fill in a commit message
        -   Remember to include Unversioned Files as needed
        -   Click Commit

![IntelliJ Commit](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-git-08.png)

-   Now push that commit to your GitHub repo
    -   Goto to pull down menu `VCS` -> `VCS Operations Popup...`
        -   From Popup menu, select 8. Push
        -   Click Push

-   Note that if you wish to update the README.md, you can open it separately `File` -> `Open` -> `README.md`. It will then be included in your commits.

-   When you are ready to submit your project, I recommended exiting out of IntelliJ completely, going to the GitHub website and following this process

    **on GitHub:**  
    `Compare & Pull Request` -> `Base: YOUR MASTER` (Not the Lambda Master) compare fork: **`YOUR FORK`**

-   Add your TL as a reviewer on the Pull Request

    On the *‘`Open a Pull Request`‘* page click on *`Reviewers`*. If your TL has accepted your invite, then you should be able to select them here. If not, then they haven’t accepted the invite, and come back later…

-   **Your TL** will merge the work into **YOUR** Master fork when they have reviewed and approved it.

##### Dig Deeper

-   [Version Control in IntelliJ](https://www.jetbrains.com/help/idea/version-control-integration.html)  
    Version Control in IntelliJ from JetBrains
-   [Lambda Git Flow in GitHub](https://github.com/atbenedict/Lambda-Git-Flow-for-Dummies/blob/master/README.md)  
    The Lambda School Git Flow: GitHub document
-   [Lambda Git Flow in Notion](https://www.notion.so/GitFlow-step-by-step-a764163309754e23b1b9c4077b1653cc)  
    The Lambda School Git Flow: Notion document

------------------------------------------------------------------------

#### Learn to explain the uses of and differences between Maven, Spring, and Tomcat

<span id="Maven_Spring_Tomcat"></span>

##### Overview

-   See the Github Repository <https://github.com/LambdaSchool/catsanddogs.git> for the code used in the objective.

### Software Needed

-   Java Development Kit (JDK) - at least version 11
-   JetBrains IntelliJ IDEA IDE
-   Postman

### Maven

![Video Lecture](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/novideo.png)

Maven “is a software project management and comprehension tool.” For more information, see <https://maven.apache.org>

#### Defined

Maven is

-   Abbreviated using `mvn`
-   Yiddish Word meaning accumulator of knowledge
-   Tool used for building and managing Java-base projects
-   An application, dependency, library manager. Similar to yarn and npm in the JavaScript world.
-   The framework, or tool, that allows us to make enterprise wide applications in Java that have multiple developers contributing
-   Maven does have a main competitor, Gradle.
    -   Gradle is widely used in the Kotlin, Android world.
    -   We had to pick one. We have decided to use Maven.
        -   Our hiring partners did not seem to have a preference
        -   You instructor is most familiar with Maven

#### Goals

The underlying Goals of Maven, or any application manager, are:

-   Making the build process easier
-   Providing a uniform build system
-   Providing quality project information
-   Providing Guidelines for best practices development
-   Allowing transparent migration to new features

#### Repositories

One of Maven’s main functions is to manage repositories.

-   Repositories are libraries that extend Java

-   Repositories are also referred to as dependencies in Maven’s configuration file

-   Maven configurations are handled in a POM.XML configuration file.

    -   Stands for POM Project Object Model
    -   The POM file is referred to as the **fundamental unit of work** in Maven.
    -   This is where you
        -   configure the versions of frameworks to use
        -   list which repositories, dependencies, you plan to use
        -   connect Spring Framework to Maven.
    -   You can find new dependencies to add on the [MVNRepository Website](https://mvnrepository.com)
        -   Great site to see available dependencies
        -   Gives you information on versions and how to include the dependencies in your POM files
        -   To find out what the dependency does and how to use it, you will need to do some additional searches
    -   Expand this to see a sample POM.XML file with comments on what is going on

POM.XML










        4.0.0
        

            
            org.springframework.boot
            spring-boot-starter-parent
            2.2.4.RELEASE
             
        

            
            com.lambdaschool

        
        catsanddogs

        
        0.0.1-SNAPSHOT

        
        catsanddogs

        
        Demo project for Spring Boot

        
        
            11
        

        
        

            
            
                org.springframework.boot
                spring-boot-starter-data-jpa
            

            
            
                org.springframework.boot
                spring-boot-starter-web
            

            
            
                org.springframework.boot
                spring-boot-devtools
                runtime
                true
            

            
            
                com.h2database
                h2
                

            

            
            
                org.springframework.boot
                spring-boot-starter-test
                test
                
                    
                        org.junit.vintage
                        junit-vintage-engine
                    
                
            
        

        
            
            
                
                    org.springframework.boot
                    spring-boot-maven-plugin
                
            
        

-   To add a new dependency, follow these steps as an example
    -   Find the dependency on MVNRepository
        -   Surf to <https://mvnrepository.com>
        -   Search for `apache commons pool`
        -   Click the link that says Apache Commons Pool

![Apache Commons Pool](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-mvn-01.png)

-   The default tab is the one you want, and you want to use the latest version that does not have some like beta, alpha, prerelease in its version number. Also the version number background should be white, not filled in with some color.

![Pick Version](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-mvn-02.png)

-   Under the Maven tab you will find the code you need to copy into your POM file in order to use this dependency.
-   Often times you can search to the group id website and find good information about the dependency. In this case the group id is `org.apache.commons`, so surf to [http://commons.apache.org/](https://commons.apache.org/) to find out more information about this dependency!

![The Code](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-mvn-03.png)

-   Normally repositories are stored locally on your computer
    -   Located in your home directory or local files under a directory called `.m2`
        -   This is normally a hidden directory. So to find it, hidden directories must be shown
    -   Sometimes, your local repositories become corrupt and need to be refreshed
        -   First try to reimport you Maven repositories
            -   In an IntelliJ project,
                -   Right click on the POM.XML file
                    -   Go to the context menu `Maven` -> `Reimport`
        -   If that does not work, you can force the repositories to refresh by
            -   exiting IntelliJ
            -   deleting the directories under `.m2/repository`
                -   Note that if you believe only certain repositories are corrupted, you can delete just their subfolder.
                -   Load up a project in IntelliJ. This will force the repositories to be downloaded again.
                -   This can take a looonnnggg time!!! Be patient

#### Plugins

Besides repositories, Maven also manages Plugins. We saw one automatically added to the POM.XML file linking Maven and the Spring Framework. We also use a Plugin when we deploy to a cloud based system.

Note that you can find plugin information on [MVNRepository Plugins](https://mvnrepository.com/search?q=plugin)

### Spring Framework

One of the best descriptions of Spring is from Wikipedia and can be found at <https://en.wikipedia.org/wiki/Spring_Framework>!

#### Defined

Spring is an application framework concentrating on Inversion of Controller. For our purposes, Spring Framework provides libraries that allows for building web applications on top of Java

-   Spring handles the plumbing, foundations, of the web application so we can concentrate on what makes our application unique
-   Inversion of Controller is when your application receives the flow of control - how the application manages state, figures out what to run when - from a generic framework, like Spring! Spring handles the standard web flow of the application so we can concentrate on what makes our application unique

#### Projects

Spring does much, much more than just web development. Spring provides several different modules, operations:

-   Microservices
-   Reactive
-   Cloud
-   Web apps
-   Serverless
-   Event Driven
-   Batch
-   Find out more about each one of these at <https://spring.io/why-spring>

Spring is broken into multiple projects:

-   Spring Boot (we use this one often)
-   Spring Framework (we use this one often)
-   Spring Cloud Data Flow
-   Spring Cloud
-   Spring Data (we use this one often)
-   Spring Integration
-   Spring Batch
-   Spring Security (we use this one often)
-   Spring HATEOAS
-   Spring Rest Docs
-   Spring AMQP
-   Spring Mobile
-   Spring for Android
-   Spring Web Flow
-   Spring Web Services (we use this one often)
-   Spring LDAP
-   Spring Session
-   Spring Shell
-   Spring FLO
-   Spring Kafka
-   Spring State machine
-   Spring IO Platform
-   Spring Scala
-   Find out more about each of these projects at <https://spring.io/projects>

We invoke Spring through:

-   Including the dependencies in the Maven POM.XML file
-   Using annotations in our code by invoking Spring Inversion of Controller
    -   For example adding the annotation `@RestController` to say that a class will contain rest endpoints

Expand to see code that has Spring annotations - @Commands


    package com.lambdaschool.catsanddogs.controllers;

    import com.lambdaschool.catsanddogs.repositories.CatRepository;
    import org.springframework.beans.factory.annotation.Autowired;
    import org.springframework.http.HttpStatus;
    import org.springframework.http.ResponseEntity;
    import org.springframework.web.bind.annotation.GetMapping;
    import org.springframework.web.bind.annotation.RestController;

    @RestController //Spring Annotation to bring in web plumbing for Rest Endpoints
    public class CatController
    {
        @Autowired //Spring Annotation to set up a connection to Spring Data
        private CatRepository catRepos;

        @GetMapping(value = "/cats", produces = {"application/json"}) //Spring Annotation to set up web plumbing for HTTP Method Get
        public ResponseEntity<?> findAllCats()
        {
            return new ResponseEntity<>(catRepos.findAll(), HttpStatus.OK);
        }
    }

#### Spring Boot

Spring Boot is a special project of Spring. You can read more about it at <https://spring.io/projects/spring-boot>.

The purpose of Spring Boot is to make it easier to create stand-alone, production grade Spring Application. Spring Boot provides automatic configurations of the Spring Framework, helping us create applications that “just work”. We can concentrate on what makes our applications unique, while Spring Boot provides standard configurations for how the web works in general.

Spring does this magic through **Convention over Configuration**. Most web applications work the same way just handling different data. So the idea behind convention over configuration is that inside of nit-picking each configuration detail, we can set up conventions or model sets of configurations that work just fine in most cases. We allow Spring Boot to make many of our configuration decisions for us, not only simplifying our work but unifying all Spring Boot applications. We are then just concerned with customizing what makes are application unique.

We take advantage of certain features of Spring Boot to simplify our development process. These include:

-   Create stand alone Spring applications
-   Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)
-   Provide opinionated ‘starter’ dependencies to simplify your build configuration
-   Automatically configures Spring and 3rd party libraries whenever possible
-   Provide production ready features such as metrics, health checks and externalized configuration

We will see how we use Spring throughout the rest of the course!

Throughout the course, this link will become a must read! [Baeldung: Top Spring Framework Interview Questions](https://www.baeldung.com/spring-interview-questions)

### Tomcat

A Web API application must run under a Web Server. The Web Server is responsible for handling network traffic and routing requests to the correct application. Most of the time we embed a web server application in our Java applications. We use the web server Tomcat.

-   [http://tomcat.apache.org/](https://tomcat.apache.org/)
-   Pure Java HTTP web server environment in which Java code can run
-   Connects the HTTP requests to the Java code

Note: we will discuss later how to use a stand alone version of Tomcat with our Spring Applications. For now, normally all we need to do is configure Tomcat’s listening Port. We do this through the `application.properties` file. This file is located in our project under:

-   src
    -   main
        -   resources

To configure the listening port, we add the following line:

    server.port=${PORT:2019}

The line says if an environment variable `PORT` exists, use its value to determine the listening port of Tomcat, otherwise use `2019`. 2019 can be changed to your favorite listening port.

-   By default, Tomcat will be listening on port 8080, so without this line added to application.properties the listening port is 8080
-   Only one application can be using a listening port at a given time.
-   See <https://whatismyipaddress.com/port> for more on listening ports.

##### Dig Deeper

-   [Maven](https://maven.apache.org/pom.html)  
    Apache Maven POM Reference
-   [Maven](https://mvnrepository.com)  
    Maven Repository
-   [Maven](https://spring.io/GUIdes/gs/maven/)  
    Spring IO - Building Java Projects with Maven
-   [Spring](https://javabrains.io/topics/spring/)  
    Javabrains - Spring Framework
-   [Spring](https://www.udemy.com/course/spring-boot-complete-GUIde-from-development-to-deployment/)  
    Spring Boot : Complete GUIde from development to deployment Udemy (free)
-   [Spring](https://www.vogella.com/tutorials/SpringBoot/article.html)  
    Vogella - Spring Boot - Tutorial
-   [Spring Application Properties](https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html)  
    Application Properties
-   [Spring Application Properties](https://stackoverflow.com/questions/34845990/spring-use-one-application-properties-for-production-and-another-for-debug)  
    Spring Use One application.properties for production and another for debug
-   [Spring and Other Options](http://www.springboottutorial.com/spring-boot-vs-spring-mvc-vs-spring)  
    Spring Boot vs Spring MVC vs Spring - How do they compare?
-   [Spring and Other Options](https://dzone.com/articles/microservices-quarkus-vs-spring-boot)  
    Microservices: Quarkus vs. Spring Boot
-   [Spring and Other Options](https://medium.com/@walkingtreetech/spring-boot-vs-micronaut-the-battle-unleashed-2682354a88e9)  
    Spring Boot vs Micronaut — The battle unleashed

------------------------------------------------------------------------

#### Learn to build a REST service using Spring Boot

##### Overview

-   See the Github Repository <https://github.com/LambdaSchool/catsanddogs.git>tt for the code used in the objective.

### Software Needed

-   Java Development Kit (JDK) - at least version 11
-   JetBrains IntelliJ IDEA IDE
-   Postman

You studied REST APIs in previous units. Here we will concentrate on how to use the Spring Framework in regards to developing REST APIs. If you wish to read a brief review of REST API concepts, keep going. Otherwise skip to the header **So how do we build this**

------------------------------------------------------------------------

<span id="REST_Review"></span>

### REST API Summary

![Video Lecture](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/novideo.png)

### What are Web APIs

REST API is one of many Web APIs

-   API stands for **A**pplication **P**rogramming **I**nterface
-   APIs are used to expose data and business logic safely and conveniently
    -   This is done through endpoints or routes
        -   A **route** is the address surfed to initiate a request = localhost:8080/dogs
        -   An **endpoint** is a route plus the HTTP method you wish to use = GET localhost:8080/dogs
        -   A **resource** is a data object
    -   Endpoints / routes are accessed through URI / URL
        -   URI Uniform Resource Identifier
            -   Contains just location localhost:8080/dogs
        -   URL Uniform Resource Locator
            -   Contains location and protocol http://localhost:8080/dogs
        -   Although in practice the two terms are often used interchangeably
-   Three main Web APIs are popular in the Java Spring World. Here we are discussing REST API.
    -   **REST** for more information see <https://restfulapi.net/>//
    -   **SOAP** for more information see <https://www.guru99.com/soap-simple-object-access-protocol.html>ll
    -   **GraphQL** for more information see <https://graphql.org/>//

### What is Rest API

REST stands for **Re**presentational **S**tate **T**ransfer

-   Has two separate applications, a Client and a Server

    -   In this class we are concentrating on the Server Application
    -   Having both allows for a clear separation of duties and independent development
        -   In this class we will be developing backend systems (servers) using a generic frontend system (client) to access the backends
    -   Client - Requests and Displays Data, called a frontend application
    -   Server - maintains the data, called a backend application

-   Stateless

    -   Server remembers nothing but the data
    -   All information for a request comes from the client

-   Layered System

    -   Allows for Gateways, Routers, Firewalls, Caching Serving, any number of networking devices
    -   Client does not need to directly access the server and can route through all those devices

-   Technology Independent with a Uniform Interface between client and server regardless of the technical stack used

-   First proposed by Roy Thomas Fielding. See his dissertation for more information <https://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm>mm

### HTTP Messages

To initiate a transaction a client sends a **Request** which is made up of

-   A route
-   A Method
-   Headers
-   The data or body

To respond to a Request from a client, a server sends a **Response** which is made up of

-   Headers
-   The data or body
-   includes a HTTP Response Status Code
    -   For a list of these codes, see [HTTP response status codes](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status)

The body of a Request or Response contains data in the form of JSON Objects. We will see how these are used in practice throughout the rest of the course.

-   **J**ava**S**cript **O**bject **N**otation
-   Syntax for storing and exchanging data
-   It is a compromise between human and machine readability
-   Attribute-Value pairs
    -   Attribute is the name given in “quotes”, Value is any number of data types
-   This is an example JSON Object. Phone numbers in this Object are given through a JSON List

<!-- -->

    {
      "firstName": "John",
      "lastName": "Smith",
      "isAlive": true,
      "age": 27,
      "address": {
        "streetAddress": "21 2nd Street",
        "city": "New York",
        "state": "NY",
        "postalCode": "10021-3100"
      },
      "phoneNumbers": [
        {
          "type": "home",
          "number": "212 555-1234"
        },
        {
          "type": "office",
          "number": "646 555-4567"
        },
        {
          "type": "mobile",
          "number": "123 456-7890"
        }
      ],
      "children": [],
      "spouse": null
    }

### CRUD and HTTP Methods

**CRUD** is an acronym for the four basic functions that are preformed on persistent data

-   Persistent Data: State of data that outlives the process that creates it and/or data that is saved.

-   State then is

    -   Remembered information
    -   The current values of the data or object
    -   The values of the fields in an object give it its State. Change the fields, Change the state.

-   The Four Basic Functions that make up CRUD then are

    -   ***C*** reate new data
    -   ***R*** ead existing data
    -   ***U*** pdate existing data
    -   ***D*** elete data

In REST we implement these CRUD functions through HTTP Methods.

-   HTTP Methods guide us on what we want to do with our Request: Do we want to get data, delete data, post data?

-   Several HTTP Methods exist (see [HTTP request methods](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods))

-   The ones used for CRUD operations are:

    <table><thead><tr class="header"><th>CRUD</th><th>HTTP Methods</th><th>Description</th></tr></thead><tbody><tr class="odd"><td>CREATE</td><td>POST</td><td>Throw back to the old bulletin board days when we posted a new message to the board</td></tr><tr class="even"><td>READ</td><td>GET</td><td>Just get me the data</td></tr><tr class="odd"><td>UPDATE</td><td>PUT</td><td>Put my updated message on the bulletin board. This completely replaces the resource with new information coming in from the request. This requires the entire resource to be sent with the request - information being update and information that is being left the same</td></tr><tr class="even"><td>UPDATE</td><td>PATCH</td><td>Just update the resource with the given information. Only the new, updated information is sent, and not the entire resource.</td></tr><tr class="odd"><td>DELETE</td><td>DELETE</td><td>Look the names match finally - deletes the resource!</td></tr></tbody></table>

### Richardson’s Maturity Model

Not all REST API models are created equal. Many categorizing systems exists to show how closely a given REST API model is to the “Gold Standard”, full implemented model. Few production models reach this stage. The Richardson’s Maturity Model is one such popular categorization system for REST APIs.

-   Level 0
    -   Any system that uses HTTP or HTTPS.
-   Level 1
    -   Adds in use of Resources.
    -   Instead of requesting everything from a single service endpoint, we now include resources in our requests.
-   Level 2
    -   Makes Proper use of HTTP Methods or Verbs.
    -   Most systems stop at this level.
    -   Our class projects stop at this level.
-   Level 3
    -   Provides links to areas the client might want to use next
    -   HATEOAS **H**ypermedia **A**s **T**he **E**ngine **O**f **A**pplication **S**tate
    -   The gold standard for Rest APIs
    -   Very few reach this level

The GitHub API is a good example of a production system that reaches level 3. For example, if I surf to my GitHub account: <https://api.github.com/users/jrmmba8314>44, the following JSON object is returned. Notice all the extra URLs about where I might want to surf next:

    {
        "login": "jrmmba8314",
        "id": 35783485,
        "node_id": "MDQ6VXNlcjM1NzgzNDg1",
        "avatar_url": "https://avatars2.githubusercontent.com/u/35783485?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/jrmmba8314",
        "html_url": "https://github.com/jrmmba8314",
        "followers_url": "https://api.github.com/users/jrmmba8314/followers",
        "following_url": "https://api.github.com/users/jrmmba8314/following{/other_user}",
        "gists_url": "https://api.github.com/users/jrmmba8314/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/jrmmba8314/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/jrmmba8314/subscriptions",
        "organizations_url": "https://api.github.com/users/jrmmba8314/orgs",
        "repos_url": "https://api.github.com/users/jrmmba8314/repos",
        "events_url": "https://api.github.com/users/jrmmba8314/events{/privacy}",
        "received_events_url": "https://api.github.com/users/jrmmba8314/received_events",
        "type": "User",
        "site_admin": false,
        "name": "John Mitchell",
        "company": "Lambda School",
        "blog": "",
        "location": "Port Angeles, Washington",
        "email": null,
        "hireable": true,
        "bio": null,
        "public_repos": 11,
        "public_gists": 0,
        "followers": 24,
        "following": 2,
        "created_at": "2018-01-24T21:53:25Z",
        "updated_at": "2020-02-26T22:32:48Z"
    }

A good description of this model can be found at [Richardson Maturity Model by Martin Fowler](https://martinfowler.com/articles/richardsonMaturityModel.html)

------------------------------------------------------------------------

<span id="REST_Services_using_Java_Spring"></span>

### So how do we build this

### Dependencies

When we build a Java Spring CRUD Application, we must add certain dependencies to it. These external libraries will be added using the GUI interface inside of IntelliJ. For a standard application we would add the following dependencies:

-   Spring Boot DevTools
    -   Makes development life easier. Adds automatic restarting when code changes and allows for some remote debugging.
    -   See <https://www.baeldung.com/spring-boot-devtools>s for more information.
-   Spring Web
    -   Allows you to build RESTFul web service using an embedded Apache Tomcat webserver container.
-   Spring Data JPA
    -   Using the Java Persistence API which uses Spring Data and Hibernate, works with data in databases.
-   H2 Database
    -   Allows the application to use the in memory database H2.
    -   See <https://www.baeldung.com/spring-boot-h2-database>e for more information
    -   when we add H2, we need to comment out the scope for H2 in the pom.xml file. This is needed to configure H2 database console and make H2 available in IntelliJ. We need H2 not only at runtime but also at compile time.

### application.properties

Spring Applications make use of a application.properties file. This file allows you to control the configuration of the application including

-   how seed data is handled
-   how links are handled
-   important web sources, paths, and ports
-   databases
-   among many other items

### Application Layout

-   Normally in Java Spring applications, classes are grouped in packages by the function they perform. Normally each model gets its own class per function.

Under the main package of the application you may find the following subpackages

-   `config` - Contains all the classes related to configurations.
-   `controllers` - Contains the access points, endpoints, that can be used by clients.
-   `models` - Contains the layouts of all data used in the application. This included persistent data that is saved to a database, and non-persistent data used only during application execution.
-   `repositories` - Contains the links between the database and the application. Typically contains one class for each persistent, database, model. This is often called DAO - data access objects
-   `services` - Contains the services that are used to retrieve and manipulate data in the application. Contains the contract stating what each client can do with the data in the application. The majority of the work of the application resides in this package.
-   Each subpackage contains its own unique set of classes using their own unique annotations.

### Flow of a CRUD Application

Take a look at the general layout of a Java Spring REST API CRUD Application! Please see the Github Repository [https://github.com/LambdaSchool/java-catsanddogs.git](https://github.com/LambdaSchool/java-catanddogs.git)t. This shows a full application and how all ties together in an IntelliJ application.

Request -> Host -> Tomcat -> Spring -> Controller -> Service (if used) -> Repository -> Model -> and back up the chain!

1.  A client sends a request. A request contains the URL of the endpoint and perhaps a body containing data.
2.  The request is sent to the correct server, host, via networking protocols.
3.  On the host, the request is sent to the application listening on the given port, in this case our embedded Tomcat Webserver.
4.  The Tomcat Webserver sends the request to the correct application.
5.  In the application Spring takes over.
6.  Spring uses the endpoint to find the correct controller looking in classes with the @RestController annotation.
7.  Spring then finds the correct method to execute using the @GetMapping annotation, among other annotations.
8.  The method then is executed, calling the service. Some basic systems bypass the service and use the repositories directly.
9.  The service gets the requested date from the model using the repository.
10. The service manipulates the data and returns it to the controller method.
11. The controller sends the data back to the client through the network.

### Note about Path Variables vs Parameters

In the web environment we have several ways of getting information from one application to another. Two ways we send information from one application to another on a web link are Path Variables and Parameters.

#### Path Variables

Path Variables actually change the endpoint that is being sent. They become part of the route itself. So for example to find a specific dog you could have routes:

-   /dogs/name/dottie
-   /dogs/name/ginger
-   /dogs/name/mojo
-   /dogs/name/{findname} - the general way of writing this!
    -   The {findname} is a variable meaning put something here in the variables place

This is the preferred method for REST APIs.

So in the code below we’ll see something like this for handling the route. Do notice the name of the path variable `findname` follows throughout the code. The Java parameter is attached to the path variable using the `@PathVariable` annotation and by using the same name. Having the path variable the same name as the Java parameter is not a coincidence, it is required!

If we have more than one path variable, we know which path variable goes with which Java parameter because they have the same name. Also note that we cannot have a default value for our Path Variable. Since the path variable itself is part of the route, we must provide it.

    @RestController
    public class DogController
    {
        @Autowired
        private DogRepository dogRepos;

        @GetMapping(value = "/dogs/name/{findname}", produces = {"application/json"})
        public ResponseEntity<?> findADogs(@PathVariable String findname)
        {
            return new ResponseEntity<>(dogRepos.findByName(findname), HttpStatus.OK);
        }
    }

#### Parameters

Parameters are add-ons to the endpoint. We add them to the url using a `?` followed by the parameter name, then an equal signs `=`, then the value of the parameter.

-   /dogs/name?name=dottie
-   /dogs/name?name=ginger
-   /dogs/name?name=mojo
-   /dogs/name - no parameter value given

In the code we have handle this using the `@RequestParam`. Note that the parameter is not required, if we add the option `required = false,`. It does not need the same name as the Java parameter. We seldom use these as REST prefers the Path Variables.

    @RestController
    public class DogController
    {
        @Autowired
        private DogRepository dogRepos;

        @GetMapping(value = "/dogs/name", produces = {"application/json"})
        public ResponseEntity<?> findADogs(@RequestParam(name = "findname", required = false) String theName)
        {
            return new ResponseEntity<>(dogRepos.findByName(findname), HttpStatus.OK);
        }
    }

##### Follow Along

Let’s create a CRUD application! We are using the IntelliJ IDE to create our applications. To create a Spring Boot application in IntelliJ, follow these steps

-   Follow the New Project wizard to create the application
    -   Create the project with the Spring Framework using Spring Initializr
    -   For Spring Initializr Project Settings
        -   Group: com.lambdaschool
        -   Artifact: catsanddogs
        -   Type: Maven Project
        -   Language: Java
        -   Packaging: Jar
        -   Java Version: 14
        -   Version: 0.0.1-SNAPSHOT
        -   Name: catsanddogs
        -   Description: Demo project for Spring Book
        -   Package: com.lambdaschool.catsanddogs
    -   For Dependencies
        -   Change Spring Boot to 2.2.8 (we are not ready for 2.3.+)
        -   Selected Dependencies should be:
            -   Spring Boot DevTools
            -   Spring Web
            -   Spring Data JPA
            -   H2 Database
    -   New Project
        -   Project Name: catsanddogs
        -   Pick a folder that is right for you but make sure inside that folder you are saving to a subfolder `catsanddogs`. I used to the folder `~/jxwork/catsanddogs`
-   If a popup appears asking, select to make this a Maven Project.
-   If a popup appears asking, select to autoimport Maven dependencies.

##### Configure the application

-   In the `POM.XML` file, comment out the scope for H2

<!-- -->

            <dependency>
                <groupId>com.h2database</groupId>
                <artifactId>h2</artifactId>
    <!--            <scope>runtime</scope>-->
            </dependency>

-   Now add these lines to the `application.properties` found under main/resources. The comments are there so you know what each line means.

<!-- -->

    ### Configurations useful for working with H2
    spring.h2.console.enabled=true
    spring.h2.console.path=/h2-console
    #
    ### We set a port that is not frequently used
    server.port=${PORT:2019}
    #
    ### Feature that determines what happens when no accessors are found for a type
    ### (and there are no annotations to indicate it is meant to be serialized).
    spring.jackson.serialization.fail-on-empty-beans=false
    #
    ### keeps a transaction inside of the same entity manager
    ### This property register an EntityManager to the current thread,
    ### so you will have the same EntityManager until the web request is finished.
    spring.jpa.open-in-view=true
    #
    ### What do with the schema
    ### drop n create table again, good for testing
    spring.jpa.hibernate.ddl-auto=create
    spring.datasource.initialization-mode=always
    #
    ### Good for production!
    ### spring.jpa.hibernate.ddl-auto=update
    ### spring.datasource.initialization-mode=never

##### Creating the application structure

-   First, let’s create each of the needed subpackages. Under the main package (`src/main/java/com.lambdaschool.sampleemps`), create the following subpackages
    -   config
    -   controllers
    -   models
    -   repositories
    -   services

Now let’s enter some of the code

-   Under the subpackage `config`
    -   Create the class `H2ServerConfiguration`
    -   Enter the following code in that class
    -   Entering the comments is optional
    -   Try not entering the imports. Let IntelliJ do that for you

<!-- -->

    package com.lambdaschool.sampleemps.config;

    import org.h2.tools.Server;
    import org.springframework.beans.factory.annotation.Value;
    import org.springframework.boot.autoconfigure.condition.ConditionalOnExpression;
    import org.springframework.context.annotation.Bean;
    import org.springframework.context.annotation.Configuration;

    import java.sql.SQLException;

    /**
     * Configures H2 access through the JetBrains IntelliJ IDEA IDE.
     * <p>
     * Adapted from https://techdev.io/en/developer-blog/querying-the-embedded-h2-database-of-a-spring-boot-application
     * necessary for using the database tool built into intellij
     */
    @Configuration
    public class H2ServerConfiguration
    {

        /**
         * TCP port for remote connections, default 9092.
         */
        @Value("${h2.tcp.port:9092}")
        private String h2TcpPort;

        /**
         * Web port, default 8082.
         */
        @Value("${h2.web.port:8082}")
        private String h2WebPort;

        /**
         * TCP connection to connect with SQL clients to the embedded h2 database.
         * <p>
         * Connect to "jdbc:h2:tcp://localhost:9092/mem:testdb", username "sa", password empty.
         *
         * @return The created TcpServer needed to access H2.
         * @throws SQLException If the server cannot be created.
         */
        @Bean
        @ConditionalOnExpression("${h2.tcp.enabled:true}")
        public Server h2TcpServer() throws
            SQLException
        {
            return Server.createTcpServer("-tcp",
                "-tcpAllowOthers",
                "-tcpPort",
                h2TcpPort)
                .start();
        }

        /**
         * Web console for the embedded h2 database.
         * <p>
         * Go to http://localhost:8082 and connect to the database "jdbc:h2:mem:testdb", username "sa", password empty.
         *
         * @return The created web server needed to access H2.
         * @throws SQLException If the server cannot be created.
         */
        @Bean
        @ConditionalOnExpression("${h2.web.enabled:true}")
        public Server h2WebServer() throws
            SQLException
        {
            return Server.createWebServer("-web",
                "-webAllowOthers",
                "-webPort",
                h2WebPort)
                .start();
        }
    }

-   Under the subpackage `controllers`
    -   Create the class `CatController`
    -   Enter the following code in that class
    -   Entering the comments is optional
    -   Try not entering the imports. Let IntelliJ do that for you

<!-- -->

    package com.lambdaschool.catsanddogs.controllers;

    import com.lambdaschool.catsanddogs.repositories.CatRepository;
    import org.springframework.beans.factory.annotation.Autowired;
    import org.springframework.http.HttpStatus;
    import org.springframework.http.ResponseEntity;
    import org.springframework.web.bind.annotation.GetMapping;
    import org.springframework.web.bind.annotation.RestController;

    // This is where we say this class contains REST endpoints.
    // Being a "controller" this controls what Java method gets invoked when an endpoint to called by a client.
    //
    // Since the CatController class is annotated with a Spring Annotation, it becomes a Bean, a Java class managed by Spring
    @RestController
    public class CatController
    {
        // This annotation automatically connects the resource Cat to this controller and thus these endpoints.
        @Autowired
        private CatRepository catRepos;

        // This sets up a route call /cats. By saying "produces = ", the annotation also sets that the body of any response will be in JSON format.
        // The HTTP method connected with this route is GET
        // A response is returned to the client.
        // The response includes all of the cats in the database
        // The response includes an HTTP Status Code of OK
        @GetMapping(value = "/cats", produces = {"application/json"})
        public ResponseEntity<?> findAllCats()
        {
            return new ResponseEntity<>(catRepos.findAll(), HttpStatus.OK);
        }
    }

-   Under the subpackage `models`
    -   Create the class `Cat`
    -   Enter the following code in that class
    -   Entering the comments is optional
    -   Try not entering the imports. Let IntelliJ do that for you

<!-- -->

    package com.lambdaschool.catsanddogs.models;

    // Note that Java Spring provides its own implementation of javax
    import javax.persistence.*;

    // This annotation says that Cat is a Bean and will be managed by Spring
    // Entity says that this is a class whose objects will be saved in a database
    @Entity

    // Table annotation gives the name to use for the table in the database where the object data will be saved
    // It is customary to give the table an explicit name like this.
    // Notice how the table is plural and the class is singular. Another common practice.
    @Table(name = "cats")
    public class Cat
    {
        // In a database setting, each object must have a unique "primary key"
        // The Id annotation marks which field will serve as the primary key
        // The GeneratedValue annotation directs the database on how to generate a primary key.
        // a Strategy of GenerationType.AUTO tells the database to generate a primary key as best the database sees fit.
        // Note the annotations affect the field immediantly following the annotations.
        @Id
        @GeneratedValue(strategy = GenerationType.AUTO)
        long catid;

        // The column annotation allows for modifications to the field that get reflected in the database,
        // in this case all catnames must be unique across all cat objects and each object must have a catname.
        // Note the annotation affects the field immediantly following the annotation!
        @Column(unique = true, nullable = false)
        String catname;

        // Spring Data requires the default constructor, regardless of any other constructors made available.
        public Cat()
        {
        }

        // Spring uses the getters to return data to the client
        public long getCatid()
        {
            return catid;
        }

        // Spring uses the setters to set the data in the object
        public void setCatid(long catid)
        {
            this.catid = catid;
        }

        public String getCatname()
        {
            return catname;
        }

        public void setCatname(String catname)
        {
            this.catname = catname;
        }
    }

-   Under the subpackage `repositories`
    -   Create the interface `public interface CatRepository extends CrudRepository<Cat, Long>`
    -   Enter the following code in that class
    -   Entering the comments is optional
    -   Try not entering the imports. Let IntelliJ do that for you

<!-- -->

    package com.lambdaschool.catsanddogs.repositories;

    import com.lambdaschool.catsanddogs.models.Cat;
    import org.springframework.data.repository.CrudRepository;

    public interface CatRepository extends CrudRepository<Cat, Long>
    {
    }

-   Under the same folder where application.properties is located, add the following SQL file. It must be named `data.sql` for it to work with Spring Boot!

<!-- -->

    DELETE
    FROM CATS;

    INSERT INTO CATS (catid, catname)
            VALUES (1, 'Tiger');

    alter sequence hibernate_sequence restart with 15;

We are not entering code under a service subpackage just yet. You have now written a complete Java Spring WEB API application. Run the application and try surfing to the endpoint http://localhost:2019/cats.

##### Dig Deeper

-   [Building a Restful Web Service](https://spring.io/guides/gs/rest-service/)  
    Spring IO - Building a Restful Web Service
-   [Building Rest Services with Spring](https://spring.io/guides/tutorials/rest/)  
    Spring IO - Building REST services with Spring
-   [Spring and SQLite](https://www.baeldung.com/spring-boot-sqlite)  
    Baeldung Spring Boot with SQLite
-   [REST APIs: Articles](https://restful.io/)  
    Rest Web API articles
-   [REST APIs: HTTP Methods](https://www.tutorialspoint.com/http/http_methods.htm)  
    TutorialsPoint HTTP Methods
-   [REST APIs: Public APIs](https://explore.postman.com/)  
    Directory of Public APIs

------------------------------------------------------------------------

#### Learn to use and implement inversion of control and dependency injection with Spring

<span id="Dependency_Injection"></span>

##### Overview

Let’s start by defining some terms:

-   **Dependency** - When one class relies on another. A class is dependent on another class, for example.
-   **Dependency Injection** - An object delegates the responsibility for instantiating and managing its dependencies to some other object. This other object injects the dependencies into the original object. This other object also is responsible for how those dependencies are created and operate. The original object just uses the dependencies based on agreed protocols and interfaces.
-   **Framework** vs **Library** -
    -   A **library** provides a series of methods, operations, that your code can call as needed. With a library your code is responsible for maintaining the flow of operation.
    -   A **Framework** uses an abstract design, a flow of operations where you can plug in your own code as desired. You could use the framework as is or make it unique to your situation by supplementing your own code within the framework. The framework is responsible for maintaining the flow of operations.
-   **Inversion of Control** - Thus a framework is normally using inversion of control. You give control of your application over to the framework and through dependency injection, add your unique code to the framework. You are not longer in control, the framework is.

In our case, Spring takes over the flow of our applications and we just code what makes our application unique. You will hear me often say, “Spring handles that”. Spring handles all the basics, the plumbing, the foundation, of a web application allowing us to just concentrate on what makes our application unique. We use annotations to inject into the Spring Framework our unique code. Spring does its thing, using our code where needed.

Let’s look at types of Dependency Injections.

### Hard Coded Dependencies

The class decides on which implementation to use. This is coded directly in the class. The makes it difficult to change the hard coded dependency and makes unit tests almost impossible.

    service = new ExampleService();

### Constructor Injection

Dependencies are provided through the constructor:

    // Constructor
    public class Client
    {
        private Service service;

        // Constructor
        public Client (Service service)
        {
            // save the reference to the passed-in service inside this client
            this.service = service;
        }
    }

### Setter or Field Injection

A setter method is used to inject the dependency or in as is often the case in our code `@autowired` used to inject a dependency through a field:

    // Setter method
    public void setService(Service service)
    {
        // save the reference to the passed-in service inside this client
        this.service = service;
    }

### Interface or method Injection

An interface provides a method that accepts a dependency:

    // Service setter interface
    public interface ServiceSetter
    {
        void setService setService(Service service);
    }

    // Client class
    public class Client implements ServiceSetter
    {
        // internal reference to the service used by this client
        private Service service;

        // Set the service that this client is to use.
        @Override
        public void setService(Service service)
        {
            this.service = service;
        }
    }

### Inversion of Control Example

Traditionally we would code this:

    public class ServerFacade
    {
        public <K, V> V respondToRequest(K request)
        {
            if (businessLayer.validateRequest(request))
            {
                Data data = DAO.getData(request);
                return Aspect.convertData(data);
            }
            return null;
        }
    }

With Inversion of Control we let the framework handle the data aspect operations:

    public class ServerFacade
    {
        public <K, V> V respondToRequest(K request, DAO dao)
        {
            return dao.getData(request);
        }
    }

### Another example of Inversion of Control -> The Games We Play

#### Board Games

We are in control.

-   A player takes a turn.
-   Everything stops until another turn is taken.

We, the players, determine the pace of the game. We are in control of the flow of the game! -> Normal Programming Paradigm.

#### Video Games

The Game is in control. Game play happens through a game cycle:

-   Game cycle gathers inputs
-   Game cycle processes inputs
-   Game cycle responses to inputs

Game play happens whether or not we as the player do anything. Thus control is inverted. The Game is control, not us. -> Inversion of Control!

To get involved in the game cycle, we inject our own player’s movements. -> Dependency Injection!

##### Dig Deeper

-   [Inversion of Control vs Dependency Injection](https://howtodoinjava.com/spring-core/spring-ioc-vs-di/)  
    Spring – Inversion of Control vs Dependency Injection
-   [What is Dependency Inversion?](https://www.linkedin.com/pulse/what-dependency-inversion-plain-english-anatoly-volkhover)  
    What is Dependency Inversion? (in plain English)
-   [Inversion of Control](https://martinfowler.com/bliki/InversionOfControl.html)  
    Martin Fowler on Inversion of Control
-   [Dependency Injection](https://martinfowler.com/articles/injection.html)  
    Martin Fowler on Dependency Injection

------------------------------------------------------------------------

#### Learn to implement Beans throughout the Beans’ lifecycle controlling the Beans using annotations

<span id="Bean_Lifecycle"></span>

##### Overview

-   See the Github Repository <https://github.com/LambdaSchool/java-catsanddogs.git> for the code used in the objective.

### Software Needed

-   Java Development Kit (JDK) - at least version 11
-   JetBrains IntelliJ IDEA IDE
-   Postman

### Defined

I like chocolate covered Java Beans but that is a different type of bean…

What kind of ***bean*** are we talking about? A bean is a class managed by Spring. Specifically according to the official documentation: “In Spring, the objects that form the backbone of your application and that are managed by the Spring IoC container are called beans. A bean is an object that is instantiated, assembled, and otherwise managed by a Spring IoC container.”

What is the ***Spring IoC container***? This is the core of the Spring Framework. The container creates objects, wires them together, configures them and manages each object’s (called beans) lifecycle. The Framework uses dependency injection to manage its beans.

So what are other classes, those not managed by Spring called? ***POJOs***. **P**lain **O**ld **J**ava **O**bjects. So prior to adding in the Spring Framework, we have been working with POJOs. Now we are working with POJOs and Beans!

### The Lifecycle

Most of the time, we simply allow Spring to handle the lifecycle of a bean and we do not get involved. But what is this lifecycle of a bean and how do we get involved if needed? Note that each phase of the lifecycle has a standard method that must run but then has a method that we can customize if desired.

1.  Instantiate the bean object
2.  Populate the properties of the bean. Set its state.
3.  Set the bean’s name so Spring knows what to call it
4.  Make the bean factory aware of this new bean
5.  Execute JDK’s post construct methods
6.  Initialize the bean interface after properties are set
7.  Execute any custom initialize method
8.  Execute any post initialization processes
9.  ***Do the work of the bean***
10. On Spring container shutdown
11. Execute JDK’s pre destroy methods
12. Destroy the bean
13. Run any custom destroy method
14. Bye bye bean!

The following diagram is taken from [Java Code Geeks Spring Bean Life Cycle Example](https://examples.javacodegeeks.com/enterprise-java/spring/spring-bean-life-cycle-example/) a good site for further study of the bean life cycle.

![Bean Life Cycle](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-bean-01.png)

### Common Bean Annotations

Putting these annotations before the class definition makes that class a bean:

-   @ComponentScan
-   @Component
-   @Repository
-   @Service
-   @Controller
-   @RestController
-   @Configuration
-   @Bean
-   @Entity - a special case that creates a Spring Hibernate Bean

### Autowired

We will use the `@autowired` annotation often in our beans and POJOs. This annotation marks a constructor, field, or setter method to be autowired by Spring’s dependency injection. This marks it as something for automatic dependency injection allowing for beans to be created with minimal configuration. The annotation can also automatically match an interface to an implementation.

Note that IntelliJ might give a warning if you are trying to autowire a field. IntelliJ usually suggests a way to include the field in the constructor. There is a debate in the industry on what is best. Obviously I lean toward `@autowired`. I believe the tradeoffs are worth the hassle later on. However I certainly understand some of the arguments against it. One such argument is that if a dependency is actually required by a class, as is normally the case when autowiring a field, why not explicitly say that by using a constructor.

Another argument is that using autowired increases the difficulty of writing pure unit tests. If you are autowiring in a dependency then you don’t have a pure unit test, you are relying on another dependency. Each dependency you rely on requires you to mock that dependency, further increasing the difficulty of your tests.

For more on the argument of autowired vs not see [Medium: The curse of @Autowired](https://medium.com/@lmonkiewicz/the-curse-of-autowired-eb7f1e560032). In the end, the choice is yours, or more precisely your company’s!

##### Challenge

Your task is to open the Github Repository <https://github.com/LambdaSchool/java-catsanddogs.git>. Look for the annotations that make up the Beans for this application. Also, inside IntelliJ, at the bottom of the screen is a tab **Spring**. Open that tab and explore!

##### Dig Deeper

-   [IoC Containers](https://howtodoinjava.com/spring-core/different-spring-ioc-containers/)  
    Spring - IoC Containers
-   [Spring Bean Lifecycle](https://www.concretepage.com/spring/spring-bean-life-cycle-tutorial)  
    Concrete Page - Spring Bean Lifecycle
-   [Bean Definition](https://www.tutorialspoint.com/spring/spring_bean_definition.htm)  
    TutorialsPoint Spring - Bean Definition

------------------------------------------------------------------------

#### Learn to produce a complete application following the Maven Phases

<span id="Maven_Phases"></span>

##### Overview

-   See the Github Repository <https://github.com/LambdaSchool/java-catsanddogs.git> for the code used in the objective.

#### Software Needed

-   Java Development Kit (JDK) - at least version 11
-   JetBrains IntelliJ IDEA IDE
-   Postman

### Overview

#### Accessing Maven

The pom.xml file is where we configure Maven. To access Maven within IntelliJ, open the side bar tab `Maven`.

![Maven Tab](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-mvn-04.png)

#### Dependencies

Maven manages dependencies for us. You can see the dependencies used in an application by expanding the Dependencies group. You can further expand individual dependencies to learn more about that dependency. Sometimes a library is included in multiple dependencies. Maven takes care to just load the library once. You can see this by noticing that some libraries are greyed out as omitted for duplicate.

![Dependencies](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-mvn-05.png)

If you right click on the Dependency, you can download the source code and documentation for the Dependency. These are often fun to explore.

If you right click on the application name and select `Show Dependencies...` from the context popup menu, you get a graphical representation of the dependencies used in your application.

![Dependencies View](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-mvn-06.png)

![Dependencies View](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/catsanddogs.png)

#### Phases

Maven works through a series of build phases. You can see these under the Lifecycle group. These are the phases in the Lifecycle of an application. The are generally ordered in the order you want to use them. Until we deploy our applications to the cloud, we do not use the Maven phases directly, relying on IntelliJ to handle those for us. However, it is good to know they are available and what they mean.

![Maven Phases](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-mvn-07.png)

<table><thead><tr class="header"><th>phase</th><th>Description</th></tr></thead><tbody><tr class="odd"><td>clean</td><td>removes all built, compiled code from the target directory, thus allowing us to start over anew the build process</td></tr><tr class="even"><td>validate</td><td>validates that the project is correct and all necessary information is available to build the application</td></tr><tr class="odd"><td>compile</td><td>compiles the source code of the project</td></tr><tr class="even"><td>test</td><td>tests the compiled code using a suitable unit testing framework. These tests should not require the code to be packaged or deployed. In other words, run the automated unit tests</td></tr><tr class="odd"><td>package</td><td>takes the compiled code and packages it into a distributable format such as JAR or WAR</td></tr><tr class="even"><td>verify</td><td>runs any integration tests Maven finds in the project</td></tr><tr class="odd"><td>install</td><td>install the package in the local repository for use as a dependency in other local projects</td></tr><tr class="even"><td>site</td><td>generates site documentation for you application. See note below</td></tr><tr class="odd"><td>deploy</td><td>done in the build environment and copies the final package to a remote repository, or the cloud, for sharing with other developers and projects</td></tr></tbody></table>

Note:

-   Site generates many, many files. You can a sample output of the site phase by looking at the GitHub repository [java-catsanddogs](https://github.com/LambdaSchool/java-catsanddogs.git) under the folder `catsanddogs` -> `target` -> `site`
-   Many phases bundle other phases with them. For example, by default deploy runs test and verify before deploying. IntelliJ has an option to turn this off if desired. More will be discussed when we discuss deploying to the cloud!

##### Challenge

Your task is to open the Github Repository <https://github.com/LambdaSchool/java-catsanddogs.git>, go to the Maven tab and explore!

##### Dig Deeper

-   [Maven Lifecycles](https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Lifecycle_Reference)  
    Maven Lifecycles
-   [IntelliJ and Maven](https://www.jetbrains.com/help/idea/maven-projects-tool-window.html)  
    IntelliJ and the Maven Tool Windows

------------------------------------------------------------------------

#### Learn to use Postman to manually test Web APIs

<span id="Postman"></span>

##### Overview

-   See the Github Repository <https://github.com/LambdaSchool/java-catsanddogs.git> for the code used in the objective.

### Software Needed

-   Java Development Kit (JDK) - at least version 11
-   JetBrains IntelliJ IDEA IDE
-   Postman

**Postman** is a very popular tool used to manually test APIs. It comes loaded with a lot of useful features that make testing APIs very easy and painless.

Testing APIs is different from testing websites or web applications. To test the latter, a web browser is sufficient, but for APIs, we need to be able to make POST/PUT/PATCH/DELETE requests and even modify the request headers.

For testing, we will use a tool called Postman. Postman, and other tools, which allow full control when making API requests. We can easily change the HTTP Method used, add JSON data to the body, add form data, add headers, examine the response, and more.

Post if a full featured, generic API frontend system. So, in the case of Postman you can do a lot more, but we’ll limit our discussion the basics needed to test APIs by passing test data and examining we’re getting the expected response.

Installation of Postman is discussed in the objective about installing software for this Sprint. Here we discuss Using Postman.

##### Follow Along

Let’s look at some basic uses of Postman. Throughout the course, when we need more functionality with Postman, we will introduce it at that time.

Postman is a frontend client. That means we need a backend system, sometimes called an **API**. For reading data, we will use the java-catsanddogs Github Repository. If you have not already, clone this repository. Now let’s open it in IntelliJ

![IntelliJ Open](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-git-01.png)

-   Navigate to your local repo. Note I am using the columns view to show from where I am opening the application
-   Expand your repo name
-   Expand the folder containing your application
-   Note that with Java Spring applications, opening the wrong folder is a common issue. Only When you see the `src` folder and the `pom.xml` file,
    -   DO NOT SELECT ANY FILES
    -   Click `Open`

![IntelliJ Open](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-git-02.png)

-   Your code should open as normal (this might take a while).

Now to run the application, click on the green triangle ![green triangle](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/runtriangle.png) in the toolbar at the top of the window

![IntelliJ Run](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/runIntelliJ.png)

Nothing fancy will happen! You will see log information in the console of IntelliJ. Your application will keep running until you stop it. That is the nature of these API applications. They are always running.

![IntelliJ log](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/logIntelliJ.png)

For now leave your application running. When we are ready to stop the application, you click on the red stop square ![red square](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/redstop.png) in the toolbar at the top of the windows

![IntelliJ Stop](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/stopIntelliJ.png)

With the application running, we are now ready for **Postman**. Click on the Postman Icon on your computer ![Postman Icon](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/postman.png)

After exiting any Welcome Screens or Tips Popups, you are presented with a blank Postman window. You may need to add a blank tab. You do this by clicking on the + sign in the tabs

![Postman Opening Screen](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/postmanopen.png)

We are going to do a HTTP Method `GET` using the url `http://localhost:8080/cats`. If you don’t know what these mean, no worries, they are reviewed in a later objective. For now just follow along.

You have a pull down menu in Postman where you can select the HTTP Method you want to use. We will be picking `GET`.

![Postman HTTP Method](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/postmanmethod.png)

You have an address bar in Postman where you type the url you want to use. We will be using `http://localhost:8080/cats`

![Postman address bar](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/postmanurl.png)

Now click on ![Postman send icon](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/postmansendicon.png)

You will see “output” in the window at the bottom of Postman. Normally this output will be JSON objects. That is what you see in our example. Make sure the Body table is selected

    [
        {
            "catid": 4,
            "catname": "Tiger"
        }
    ]

![Postman Output](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/postmanoutput.png)

That is all! You can now use Postman to read data from an API.

##### Challenge

Let’s try one on your own. Using a `GET`, read data from the URL `http://localhost:8080/dogs`. You should get the following data in your output window:

     [
        {
            "dogid": 1,
            "dogname": "Dottie"
        },
        {
            "dogid": 2,
            "dogname": "Ginger"
        },
        {
            "dogid": 3,
            "dogname": "Mojo"
        }
    ]

Good job! You may stop your CatAndDog API for now!

##### Dig Deeper

-   [Postman Homepage](https://www.postman.com/)  
    Postman Homepage
-   [Postman Learning Center](https://learning.postman.com/)  
    Postman Learning Center
-   [Insomnia](https://insomnia.rest/)  
    Popular Postman Competitor - Insomnia

------------------------------------------------------------------------

#### Learn to create Spring Boot Applications with IntelliJ Community Edition (\*\*\* OPTIONAL \*\*\*)

<span id="Spring_with_IntelliJ_Community_Edition"></span>

##### Overview

### Software Needed

-   Java Development Kit (JDK) - at least version 11
-   JetBrains IntelliJ IDEA IDE
-   Postman

What happens when your IntelliJ Ultimate Edition expires? The main reason we use the Ultimate Edition is because of its integration with Spring, which is very helpful. However we can still create a Spring Boot Application outside of IntelliJ and then import that application into IntelliJ. You will notice a few other minor issues in the Community Edition but nothing that cannot be overcome.

##### Follow Along

To create that Spring Boot Application:

-   Surf to the Spring Initializr Home Page <https://start.spring.io>
    -   For Project - Select `Maven Project`
    -   For Language - Select `Java`
    -   For Spring Boot - Select `2.2.4` (the version we used in class)
    -   Project Metadata
        -   Group: `com.lambdaschool`
        -   Artifact: `helloSpring`
        -   Expand Options
            -   Name: should default to `helloSpring`
            -   Description: `Hello Spring Sample Program`
            -   Package name: should default to `com.lambdaschool.helloSpring`
            -   Packaging: `Jar`
            -   Java: `11`

![Spring Initializr](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-intellij_ce_1.png)

-   Now we need to add dependencies
    -   add the dependencies you need by searching for them a picking the correct option
        -   Search for web to get Spring Web
        -   Search for devtools to get Spring Boot DevTools
        -   among others
-   Now click on `Generate` and download a zipped file containing your initial application!

![Spring Initializr](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-intellij_ce_2.gif)

-   Extract the file where it is most useful to you.

-   Open the application in IntelliJ like a normal application

    -   Give IntelliJ a few moments to get everything set up.
    -   You should now see your familiar file structure and are ready to create your next great Spring Boot Application!

##### Dig Deeper

-   [Spring Initializr](https://start.spring.io)  
    Spring Initializr

------------------------------------------------------------------------

#### Learn to use tips and tricks of IntelliJ to improve programming efficiency (\*\*\* OPTIONAL \*\*\*)

<span id="IntelliJ_Tips_and_Tricks"></span>

##### Overview

#### Software Needed

-   Java Development Kit (JDK) - at least version 11
-   JetBrains IntelliJ IDEA IDE

### I do

IntelliJ is a very powerful Integrated Development Environment (IDE). I encourage you to experiment with its many different functions. Here, I show you how to use a few of my favorite functions!

##### Follow Along

### Tips and Tricks

<span id="live_templates"></span>

### Use of live templates

-   Notice how I can type `sout` and press the `<TAB>` key. `System.out.println();` is automatically added into the code. IntelliJ contains many such short cuts.

-   type `main` and press the `<TAB>` key.

<!-- -->

    public static void main(String[] args){

    }

is automatically entered.

-   type `fori` and press the `<TAB>` key.

<!-- -->

    for (int i = 0; i < ; i++) {

    }

is automatically added into the code.

For a complete list see <https://www.jetbrains.com/help/idea/using-live-templates.html>l

<span id="force_import"></span>

### Force an import

If you find that IntelliJ did not automatically add a needed import, say you pasted in some code requiring imports, you can forcefully add the import. Three good methods exist.

#### Manually enter the import

If you know the import that is missing, you could just type it in at the top of the class that needs the import.

#### Use the key command to get a list of imports

If you hover over the code that is missing an import, IntelliJ will present you some instructions on what to do. You could use a keyboard shortcut to enter the import - IntelliJ will show the appropriate keyboard shortcut for you operating system. You could also select the import from the menu IntelliJ presents in the popup notice.

![Import from shortcut](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-intellij-tt-06.gif)

#### Trick IntelliJ into reloading

My favorite way of doing this is to trick IntelliJ into reloading the import. I do this by deleting the last letter of the code that needs the import, enter the letter again and then pick the needed import from the IntelliJ provided list.

![Tick IntelliJ](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-intellij-tt-07.gif)

<span id="code_reformat"></span>

### Use of code reformat including customization

#### Customize your auto code reformatting

-   From the Welcome Screen
    -   Select `Configure` -> `Preferences`
        -   Then expand `Editor` -> `Code Style` -> `Java`
-   In the middle panel, you can change code style. In the right panel, you see the affects of that change
    -   Some changes give you a popup list to choose format
    -   Some changes give you a check mark turning off or on the option
-   At the top are different tabs, categories, of things you can change
-   Play with this - best way to figure out what each option does is to try it out!

![Customize Code Format](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-intellij-tt-08.png)

#### Share your customized auto code reformatting

One way to make sure all developers are using the same coding style is to share your coding style formats with others. Actually you can share all of your IntelliJ configures with other developers.

-   From the Welcome Screen
    -   Select `Configure` -> `Export Settings`
    -   From the check list, pick which settings you wish to export
    -   Pick where you wish to save the settings and click OK

To import settings from someone else

-   From the Welcome Screen
    -   Select `Configure` -> `Import Settings`
    -   Pick the file you want to import
    -   From the check list, pick which settings you wish to import
    -   Click OK and enjoy your new settings!
    -   Yes, you will have to restart IntelliJ for these settings to take affect.

I also use this technique to move my settings from one computer to another as I have IntelliJ running on multiple computers!

#### Auto format your code

-   To reformat the code in the class you are currently working on, you can use the pull down menu `Code` -> `Reformat Code`
-   To remove unused imports in the class you currently working on, you can use the pull down menu `Code` -> `Optimize Imports`
-   To reformat the code in your entire project, and remove used imports in the process
    -   Right click on `src`
        -   From the context popup menu, select `Reformat code`. Normally I like to have checked the following leaving the rest unchecked
            -   Include subdirectories
            -   Optimize imports
        -   Click `Run`, wait a moment. Now all your code is in the format you prefer!

<span id="renaming_things"></span>

### Rename

Never directly rename something; always use Refactor

#### Rename a field

Rename `message` to something shorter - `msg`. Notice how by using code refactor, everywhere we have used `message`, it get automatically changed to `msg`. This change could even happen over classes and packages if need.

Your beginning code

    public class Hello
    {
        String message;

        public Hello(String message)
        {
            this.message = "Hello " + message;
        }

        public String getMessage()
        {
            return message;
        }

        public void setMessage(String message)
        {
            this.message = message;
        }
    }

-   Right click on the field message
    -   Goto Refactor, Rename…
        -   type `msg`
        -   Press Return
        -   You are prompted if you want to change
            -   Answer Yes!
            -   Click Ok

You are left with the following refactored code

    public class Hello
    {
        String msg;

        public Hello(String message)
        {
            this.msg = "Hello " + message;
        }

        public String getMsg()
        {
            return msg;
        }

        public void setMsg(String msg)
        {
            this.msg = msg;
        }
    }

#### Rename a class

If a class name gets changed without changing the underlying file name, you get a situation where you can expand the class making it look like the class has multiple files associated with it. See the following screen

![Class and file name different](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-intellij-tt-01.png)

Remember that a class name has to match its file name! Follow the steps below to rename the class name.

-   Right click on the class name - on the class name in the code. Not the file name!
    -   Goto Refactor, Rename…
        -   type the new name
        -   Press Return
    -   This will rename the class and the underlying file, if needed.

#### Rename a package

If you need to rename a package, you must keep the package name and directory the same. So to rename a package

-   Right click on the package name
    -   Goto Refactor, Rename…
    -   When asked will be asked to pick
        -   Rename directory
        -   **Rename package**
        -   We almost always pick **Rename package**

#### Rename an application

Renaming an application has many steps. In order to completely rename the application, you MUST follow all steps.

As an example I am going to rename an application called `catsanddogs` to one called `pets`

-   Address the Project Name:
    -   From the menu `File` -> `Project Structure`, select the `Project` group under `Project Settings`.
        -   Change the `Project name:`

![Change Project Name](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-intellij-tt-02.png)

-   Inside the POM.XML file, change the artifactId and name

![Change POM file](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-intellij-tt-03.png)

-   Rename the project.
    -   Right click on the project name.
    -   From the popup context menu, select Refactor -> Rename…

![Change Project](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-intellij-tt-04.png)

-   Now rename the packages and classes under both `src` and `test`. If all goes well, when you rename `src`, `test` will follow. However that does not always happen so be sure to check!

-   The application is now renamed. One issue is that you probably want to rename the underlying directory of the application as well. Although IntelliJ provides ways to do this, I personally like to rename the directories using the operating. So exit out of IntelliJ and rename your directories as appropriate!

<span id="compare_things"></span>

### File, Directory compare using IntelliJ

#### Comparing Files in Directories

-   [For more info click here for Comparing files, folders and text sources](https://www.jetbrains.com/help/idea/comparing-files-and-folders.html)

Open the project that you might want to change. This is considered our main project. If you are just doing comparisons without changes, which one you open does not really matter.

For an example, I am using a GitHub repo that is used in a future module.

<https://github.com/LambdaSchool/java-sampleemps.git>t

I am going to compare the `src/main` directories from the `sampleemps_create_delete_update` and `sampleemps_data_modeling` applications

So starting with the `sampleemps_create_delete_update` open, let’s open sampleemps\_data\_mod and compare

-   Right click on the folder you wish to compare.
-   Goto `Compare With...`
-   Select the folder you wish to compare

![Comparing Folders](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2010%20-%20WEB%20Java%20Fundamentals/Module%204%20-%20JX%20Java%20-%20Intro%20to%20Maven%2C%20Spring%2C%20and%20Tomcat%20Using%20REST%20API/assets/JX-10-M4-intellij-tt-09.gif)

Notice that when we are comparing files, you get some clues as to what is where files differ:

-   A blue -> New files on Left
-   A green &lt;- New files on right
-   A red ≠ Files different. So in files
    -   Differences highlighted in green and blue

You can turn these on or off using the toolbar buttons. Best advice to play around with the compare tools for a few minutes and get familiar with it. I use it often! This is the official help file link for the compare tool!

-   [IntelliJ Help File: Differences viewer for folders](https://www.jetbrains.com/help/idea/2019.3/differences-viewer-for-folders.html?utm_campaign=IU&utm_content=2019.3&utm_medium=link&utm_source=product)

Note: you can compare singles files as well. Instead of right clicking on a folder, right click on the single file you wish to compare!

##### Dig Deeper

-   [JetBrains IDE](https://www.jetbrains.com/idea/documentation/)  
    JetBrains IntelliJ IDEA IDE
-   [IntelliJ Idea Tutorial](https://www.tutorialspoint.com/intellij_idea/index.htm)  
    IntelliJ Idea Tutorial
-   [Pro Tips](https://www.jetbrains.com/help/idea/pro-tips.html)  
    JetBrains IntelliJ Pro Tips

------------------------------------------------------------------------

## <a href="#guided-project" id="guided-project" class="anchor"><span class="octicon octicon-link"></span></a>Guided Project

### java-webemployees

We recreate our first Java project using REST APIs.

[GitHub Repo](https://github.com/LambdaSchool/java-webemployees.git)

------------------------------------------------------------------------

## <a href="#project" id="project" class="anchor"><span class="octicon octicon-link"></span></a>Project

-   ##### [Java Country Search](https://github.com/LambdaSchool/java-countries)

    The countries of the world have many different defining attributes including land size, population, and median age. Below is a list of countries to include in your data. As most people do their research using websites, we are going to create webservices to help search this data. We will be returning JSON objects. Nothing fancy for now!

## <a href="#review" id="review" class="anchor"><span class="octicon octicon-link"></span></a>Review

### Class Recordings

You can use class recordings to help you master the material.

-   **[Java IntelliJ Maven Spring for WEB33 with John Mitchell](https://youtu.be/BQArq0wR7Zc)**
-   [All previous recordings](/archive/WEB4Java/module/recqtftA9E98qpbak)

### Demonstrate Mastery

To demonstrate mastery of this module, you need to complete and pass a code review on each of the following:

-   Objective challenge:

    Your task is to open the Github Repository <https://github.com/LambdaSchool/java-catsanddogs.git>. Look for the annotations that make up the Beans for this application. Also, inside IntelliJ, at the bottom of the screen is a tab **Spring**. Open that tab and explore!

-   Objective challenge:

    Your task is to open the Github Repository <https://github.com/LambdaSchool/java-catsanddogs.git>, go to the Maven tab and explore!

-   Objective challenge:

    Let’s try one on your own. Using a `GET`, read data from the URL `http://localhost:8080/dogs`. You should get the following data in your output window:

         [
            {
                "dogid": 1,
                "dogname": "Dottie"
            },
            {
                "dogid": 2,
                "dogname": "Ginger"
            },
            {
                "dogid": 3,
                "dogname": "Mojo"
            }
        ]

    Good job! You may stop your CatAndDog API for now!

-   Guided Project: java-webemployees

-   Project: Java Country Search
