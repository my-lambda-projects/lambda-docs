Please enable JavaScript to view this page.

You must be logged in to view this page.

You must be a Lambda School student to view this page.

<a href="#content" id="skippy" class="sr-only sr-only-focusable"></a>

<span class="skiplink-text">Skip to main content</span>

<a href="/" class="navbar-brand"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMyIgaGVpZ2h0PSIzNSIgdmlld2JveD0iMCAwIDMzIDM1IiBmaWxsPSJub25lIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0wIDBWMTYuMDYwOUMwIDI3LjczMzUgOS4wODkyOSAzMS43ODQzIDE1LjczMjEgMzQuNzUxM0gxNS43NUwxNi4yODU3IDM1QzE2LjQxMDcgMzQuOTI4OSAxNi41MzU3IDM0Ljg3NTYgMTYuNjc4NiAzNC44MjIzQzE2Ljc1IDM0Ljc4NjggMTYuODM5MyAzNC43NTEzIDE2LjkxMDcgMzQuNzE1N0MyMy41NzE0IDMxLjc2NjUgMzIuNjk2NCAyNy42OTggMzIuNjk2NCAxNi4wNjA5VjBIMFpNMjAuNzA3MSAyMy40NTM2TDIwLjM1NzEgMjIuNTEwMkwxNS42MDcxIDEwLjA3MzZDMTUuMzIxNCAxMC44MDIgMTQuNjYwNyAxMi41NjA5IDEzLjk0NjQgMTQuNDQ0MkwxMS4yMTQzIDIxLjc4MTdDMTEuMDg5MyAyMi4xMzcxIDExLjE2MDcgMjIuMzE0NyAxMS4yNSAyMi40MzkxQzExLjQ0NjQgMjIuNjcwMSAxMS44NzY4IDIyLjY3MDEgMTIuNTU1NCAyMi42NzAxSDEyLjY3ODZMMTIuNjc2OCAyMy40NTE4SDcuNTY5NjRWMjIuNjcwMUg3Ljk2MjVDOC42NTg5MyAyMi42NzAxIDkuMjMwMzYgMjIuMzY4IDkuNjU4OTMgMjEuNTE1MkwxMC4xNzY4IDIwLjM0MjZMMTQuOTA4OSA4LjI5Njk2TDE0LjA2OTYgNi4wNzYxNEgxOC40ODA0TDI0LjU2OTYgMjIuMDEyN0wyNS4xMjUgMjMuNDUzNkgyMC43MDcxWiIgZmlsbD0iI0VDMzk0NCI+PC9wYXRoPgo8L3N2Zz4=" /></a>

![](data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdib3g9IjAgMCAzMCAzMCIgd2lkdGg9IjMwIiBoZWlnaHQ9IjMwIiBmb2N1c2FibGU9ImZhbHNlIj48dGl0bGU+TWVudTwvdGl0bGU+PHBhdGggc3Ryb2tlPSIjZmZmZmZmIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNNCA3aDIyTTQgMTVoMjJNNCAyM2gyMiI+PC9wYXRoPjwvc3ZnPg==)

#### Web Annex

<a href="/webannex/sprint/recfwZvI7QhMa7xbG" class="bd-toc-link">1.  User Interface and Git</a>

-   [User Interface](/webannex/module/recl0IyzS2Vl89lZa/)
-   [Git for Web Development](/webannex/module/rect59e95N6OSvoCd/)
-   [User Interface II](/webannex/module/recGvXyWT6AvGtMHR/)
-   [User Interface III](/webannex/module/recaVbBZhh8BTyMdM/)

<a href="/webannex/sprint/recIXiQgpgMdJ81ms" class="bd-toc-link">2.  Advanced CSS</a>

-   [Responsive Design I](/webannex/module/recuDrqSGpWcepCMs/)
-   [Responsive Design II](/webannex/module/recE3IqPtDxaVI0DW/)
-   [Preprocessing I](/webannex/module/reculyBhIYkuoBRqh/)
-   [Preprocessing II](/webannex/module/rec1hRu3bO6L0uxn2/)

<a href="/webannex/sprint/recclZwJxMU8kUngT" class="bd-toc-link">3.  JavaScript Fundamentals</a>

-   [JavaScript I](/webannex/module/recCT3KJYTIRYwQMh/)
-   [JavaScript II](/webannex/module/rec1oaBmEoSilO2yf/)
-   [Prototypes and Inheritance](/webannex/module/rec0AWuNLezbpit7m/)
-   [Classes](/webannex/module/recyS588eOvVUKAMc/)

<a href="/webannex/sprint/recRT8JKvbTiGaosk" class="bd-toc-link">4.  Single Page Applications</a>

-   [React Router I](/webannex/module/rec2TJ1vrdfcnx2EG/)
-   [React Router II](/webannex/module/recYkF1FDilIedmwX/)
-   [Form Management](/webannex/module/rect081xiYT2cfxGF/)
-   [Advanced Form Management](/webannex/module/recKK5C7wV0WiECfr/)

<a href="/webannex/sprint/recozTHaHJe6L1ThN" class="bd-toc-link">5.  Authentication and Testing</a>

-   [Introduction to Authentication](/webannex/module/recQD9lnhqWEFh6g4/)
-   [Using Sessions and Cookies](/webannex/module/recvIPgHwxF194c7q/)
-   [Using JSON Web Tokens (JWT)](/webannex/module/reciCHdNjavSKaaLt/)
-   [Testing the Back End](/webannex/module/reciXdxRA8zXJXDID/)

<a href="/" class="navbar-brand"><img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTM1IiBoZWlnaHQ9IjM1IiB2aWV3Ym94PSIwIDAgNzU2IDE5NyIgZmlsbD0iI2VjMzk0NCI+PGc+PHBhdGggZD0iTTI5Mi45LDEyNi42aC02LjdjLTksMC0xMi42LTEuOS0xMi42LTkuNVY0OC41YzAtNy43LDEuNi04LjYsMTEuNC05Ljd2LTQuNWgtNDEuM3Y0LjUgYzkuOCwxLjEsMTEuNCwxLjksMTEuNCw5Ljd2NjkuM2MwLDcuNy0xLjYsOC42LTExLjQsOS43djQuNWg3My43bDQuOS0yOS40aC00LjRDMzA4LjUsMTE5LjYsMzAzLjksMTI2LjYsMjkyLjksMTI2LjZ6Ij48L3BhdGg+PHBhdGggZD0iTTM4NS41LDEyMS4xVjc5LjNjMC0xNS44LTkuNC0yMi40LTI2LjYtMjIuNGMtMTUsMC0yNi44LDYuNi0yNi44LDE5LjNjMCwyLjQsMC4yLDMuMywwLjgsNWgxNi42IGMtMC41LTItMC43LTUtMC43LTcuNWMwLTkuNiwzLjYtMTIuNCw5LjQtMTIuNGM2LjQsMCw5LjcsMiw5LjcsMTQuNHYxMS4ybC0yMC44LDcuN2MtMTAuNiw0LjEtMTkuMyw4LjgtMTkuMywyMC43IGMwLDEwLjksNy41LDE3LjgsMTguNiwxNy44YzkuOSwwLDE3LjQtNi4yLDIxLjktMTIuMWwwLjEtMC4xbDAsMFYxMzJoMjZ2LTQuNEMzODcuNywxMjcuMSwzODUuNSwxMjYuMiwzODUuNSwxMjEuMXogTTM2OCwxMTcuOCBjLTQuNCwzLjMtNy42LDUuMy0xMiw1LjRjLTcuNywwLTExLjItNS4yLTExLjItMTIuNmMwLTcuNywzLjYtMTEuMiw5LjgtMTMuNWwxMy40LTUuNFYxMTcuOEwzNjgsMTE3Ljh6Ij48L3BhdGg+PHBhdGggZD0iTTUxNC40LDEyMVY3OS41YzAtMTQuOC02LTIyLjQtMTguNy0yMi40Yy0xMS41LDAtMTkuNCw2LjYtMjUuNSwxMy45Yy0xLjgtOS42LTcuNy0xMy45LTE3LjgtMTMuOSBjLTExLjQsMC0xOC43LDYuMi0yNC44LDEzLjZWNTdoLTIuM2wtMjMuOCw3LjR2Mi40bDguNiw1djQ5LjRjMCw1LTIuMSw2LjEtOC45LDYuNHY0LjRoMzUuMXYtNC40Yy02LjctMC4zLTguNy0xLjMtOC43LTYuNHYtNDcgYzQuNy0zLjYsOS41LTYuNSwxNS41LTYuNWM3LjYsMCwxMC41LDQuMiwxMC41LDEyLjd2NDAuOGMwLDUtMS45LDYuMS04LjcsNi40djQuNGwzNC44LDB2LTQuNGMtNi43LTAuMy04LjYtMS4zLTguNi02LjR2LTQ3IGM0LjctMy42LDkuNS02LjUsMTUuNS02LjVjNy42LDAsMTAuNSw0LjIsMTAuNSwxMi43bC0wLjEsNDAuNWMwLDUtMS44LDYuNC04LjYsNi43bDAsNC40aDM1LjF2LTQuNCBDNTE2LjcsMTI3LjQsNTE0LjQsMTI2LjEsNTE0LjQsMTIxeiI+PC9wYXRoPjxwYXRoIGQ9Ik01NzMuMiw1Ny4zYy0xMSwwLTE4LjUsNS43LTIzLjQsMTIuOFYyMi45aC0yLjdsLTIzLjQsNi44djIuNWw4LjYsNC41VjEzMmgyLjlsOC0zLjVjNS44LDMuMywxMi4zLDUsMjAuMiw1IGMyMC44LDAsMzcuNC0xNS44LDM3LjQtNDIuNkM2MDAuOSw2OS45LDU5MC40LDU3LjMsNTczLjIsNTcuM3ogTTU2My40LDEyOC43Yy01LjQsMC0xMC4zLTIuNC0xMy43LTcuOVY3My42IGMzLjQtMy40LDguNS01LjcsMTMuNS01LjdjMTMuOSwwLDIwLDEyLjgsMjAsMjkuNUM1ODMuMywxMTQuNyw1NzUuOCwxMjguNSw1NjMuNCwxMjguN3oiPjwvcGF0aD48cGF0aCBkPSJNNjc3LDEyMS4yVjIyLjhoLTIuNkw2NTEsMjkuNlYzMmw4LjYsNC41djI1LjdjLTMuNC0zLjItOC44LTUuMS0xNS41LTUuMWMtMTkuOSwwLTM1LjIsMTUuMy0zNS4yLDQxLjMgYzAsMjAuNywxMS4yLDM0LjYsMjguMSwzNC42YzkuOCwwLDE3LTUuMywyMi42LTEzLjF2MC45VjEzMmgyNi4zbDAtNC40QzY3OS4xLDEyNy4zLDY3NywxMjYuMyw2NzcsMTIxLjJ6IE02NTkuNiwxMTcuMSBMNjU5LjYsMTE3LjFjLTMuNCwzLjQtOCw1LjEtMTMuMiw1LjFjLTEzLjIsMC0yMC40LTEyLjgtMjAuNC0yOS44YzAtMTcuOCw3LjMtMjkuMiwxOS41LTI5LjJjOC43LDAsMTQuMSw2LjksMTQuMSwxOC4zIEw2NTkuNiwxMTcuMXoiPjwvcGF0aD48cGF0aCBkPSJNNzQ3LjEsMTIxLjFWNzkuM2MwLTE1LjgtOS40LTIyLjQtMjYuNi0yMi40Yy0xNSwwLTI2LjgsNi42LTI2LjgsMTkuM2MwLDIuNCwwLjIsMy4zLDAuOCw1aDE2LjYgYy0wLjUtMi0wLjctNS0wLjctNy41YzAtOS42LDMuNi0xMi40LDkuNC0xMi40YzYuNCwwLDkuNywyLDkuNywxNC40djExLjJsLTIwLjgsNy43Yy0xMC42LDQuMS0xOS4zLDguOC0xOS4zLDIwLjcgYzAsMTAuOSw3LjUsMTcuOCwxOC42LDE3LjhjOS45LDAsMTcuNC02LjIsMjEuOS0xMi4xdi0wLjFoMC4xbDAsMTEuMWwyNiwwLjF2LTQuNUM3NDkuMywxMjcuMSw3NDcuMSwxMjYuMiw3NDcuMSwxMjEuMXogTTcyOS42LDExNy44Yy00LjQsMy4zLTcuNiw1LjMtMTIuMSw1LjRjLTcuNywwLTExLjItNS4yLTExLjItMTIuNmMwLTcuNywzLjYtMTEuMiw5LjgtMTMuNWwxMy40LTUuNEw3MjkuNiwxMTcuOEw3MjkuNiwxMTcuOHoiPjwvcGF0aD48L2c+PHBhdGggZD0iTTAsMHY5MC40YzAsNjUuNyw1MC45LDg4LjUsODguMSwxMDUuMmgwLjFsMywxLjRjMC43LTAuNCwxLjQtMC43LDIuMi0xYzAuNC0wLjIsMC45LTAuNCwxLjMtMC42IGMzNy4zLTE2LjYsODguNC0zOS41LDg4LjQtMTA1VjBIMHogTTExNiwxMzJsLTItNS4zbC0yNi42LTcwYy0xLjYsNC4xLTUuMywxNC05LjMsMjQuNmwtMTUuMyw0MS4zYy0wLjcsMi0wLjMsMywwLjIsMy43IGMxLjEsMS4zLDMuNSwxLjMsNy4zLDEuM0g3MWwwLDQuNEg0Mi40bDAtNC40aDIuMmMzLjksMCw3LjEtMS43LDkuNS02LjVsMi45LTYuNmwyNi41LTY3LjhsLTQuNy0xMi41aDI0LjdsMzQuMSw4OS43bDMuMSw4LjFIMTE2eiI+PC9wYXRoPjwvc3ZnPg==" /></a>

#### Web Annex

<a href="/webannex/sprint/recfwZvI7QhMa7xbG" class="bd-toc-link">1.  User Interface and Git</a>

-   [User Interface](/webannex/module/recl0IyzS2Vl89lZa/)
-   [Git for Web Development](/webannex/module/rect59e95N6OSvoCd/)
-   [User Interface II](/webannex/module/recGvXyWT6AvGtMHR/)
-   [User Interface III](/webannex/module/recaVbBZhh8BTyMdM/)

<a href="/webannex/sprint/recIXiQgpgMdJ81ms" class="bd-toc-link">2.  Advanced CSS</a>

-   [Responsive Design I](/webannex/module/recuDrqSGpWcepCMs/)
-   [Responsive Design II](/webannex/module/recE3IqPtDxaVI0DW/)
-   [Preprocessing I](/webannex/module/reculyBhIYkuoBRqh/)
-   [Preprocessing II](/webannex/module/rec1hRu3bO6L0uxn2/)

<a href="/webannex/sprint/recclZwJxMU8kUngT" class="bd-toc-link">3.  JavaScript Fundamentals</a>

-   [JavaScript I](/webannex/module/recCT3KJYTIRYwQMh/)
-   [JavaScript II](/webannex/module/rec1oaBmEoSilO2yf/)
-   [Prototypes and Inheritance](/webannex/module/rec0AWuNLezbpit7m/)
-   [Classes](/webannex/module/recyS588eOvVUKAMc/)

<a href="/webannex/sprint/recRT8JKvbTiGaosk" class="bd-toc-link">4.  Single Page Applications</a>

-   [React Router I](/webannex/module/rec2TJ1vrdfcnx2EG/)
-   [React Router II](/webannex/module/recYkF1FDilIedmwX/)
-   [Form Management](/webannex/module/rect081xiYT2cfxGF/)
-   [Advanced Form Management](/webannex/module/recKK5C7wV0WiECfr/)

<a href="/webannex/sprint/recozTHaHJe6L1ThN" class="bd-toc-link">5.  Authentication and Testing</a>

-   [Introduction to Authentication](/webannex/module/recQD9lnhqWEFh6g4/)
-   [Using Sessions and Cookies](/webannex/module/recvIPgHwxF194c7q/)
-   [Using JSON Web Tokens (JWT)](/webannex/module/reciCHdNjavSKaaLt/)
-   [Testing the Back End](/webannex/module/reciXdxRA8zXJXDID/)

-   [Prepare](#prepare)
-   [Learn](#learn)
-   [Projects](#projects)
-   [Review](#review)

# React Router II

<span class="lead"> </span>

This module will guide you into the intricacies of React Router V4. As you learn and discover the inner workings of this package, your SPA’s will start to come to life, you’ll have more control over how your users view the content they’re supposed to be viewing, and you’ll be granted a rich developer experience. A lot of the items discussed here lend themselves to being commonly used

**At the end of this module, you should be able to:**

-   pass data to components rendered by React Router via the render prop
-   add nested routes to an application and display sub-nav views
-   use the built in \`history\` object to programmatically navigate to other routes
-   explain the difference between \`Link\` and \`NavLink\` and when to use which to navigate declaratively between routes

#### Pro Tip

Celebrate wrong answers, because that means someone’s about to learn!

## <a href="#prepare" id="prepare" class="anchor"><span class="octicon octicon-link"></span></a>Prepare

Review each preclass resource before class.

-   

    # An error occurred.

    [Try watching this video on www.youtube.com](https://www.youtube.com/watch?v=WC6gX8sWkH4), or enable JavaScript if it is disabled in your browser.

-   

    # An error occurred.

    [Try watching this video on www.youtube.com](https://www.youtube.com/watch?v=_UlZFNr9tBE), or enable JavaScript if it is disabled in your browser.

-   

    # An error occurred.

    [Try watching this video on www.youtube.com](https://www.youtube.com/watch?v=S0O_76usQDs), or enable JavaScript if it is disabled in your browser.

-   

    # An error occurred.

    [Try watching this video on www.youtube.com](https://www.youtube.com/watch?v=nIQaDugVV4k), or enable JavaScript if it is disabled in your browser.

-   [Add nested routes](https://tylermcginnis.com/react-router-nested-routes/)

-   [Link Docs](https://reacttraining.com/react-router/web/api/Link)

-   [NavLink docs](https://reacttraining.com/react-router/web/api/NavLink)

## <a href="#learn" id="learn" class="anchor"><span class="octicon octicon-link"></span></a>Learn

#### Learn to pass data to components rendered by React Router via the render prop

So far with React Router we have used the `Route` component to render components based on the page you have routed to. The only problem is, we are used to passing data to these components via props, but we don’t really have a way to do that with `Route` when we are passing the component to the `component` prop. So when we need to get some data to the component that we want to render, we have a way to do that with a `render prop`.

##### Overview

`Render prop` is a prop on a component that takes in a function and returns a component - more specifically, it returns the component we want to render. This pattern is known as “render props.” According to the React docs, a render prop is a function prop that a component uses to know what to render. React Router uses this pattern to let us pass data to the component we want to render.

    <Route render={() => <MyComponent someProp={someData} someOtherProp={moreData} />} />

This works to get our data to our component, but now we don’t have the props that the `Router` component passed down when we were just using the component prop - `match`, `history`, and `location`. If we still need those in our component (and most the time we will), they are actually passed to the function inside `render` as an argument in an object. We’ll call that object `props` like this:

    <Route render={props => <MyComponent someProp={someData} someOtherProp={moreData} />} />

Now we have access to all three props and can pass those down to the component.

    <Route render={(props) => (
      <MyComponent 
        someProp={someData} 
        someOtherProp={moreData} 
        match={props.match}
        history={props.history}
        location={props.location}
      />
    )} />

That will now give us access to the same props that we had before when using the `component` prop! And, to make life a little bit easier, let’s change that up a tiny bit by using the ES6 feature, the `spread operator`. Since the three props we are trying to pass have the same property name, props object name, and prop name, we can remove all of them like this `{...props}`. This will “spread” in all three props that we passed through manually above:

    <Route render={(props) => (
      <MyComponent 
        {...props}
        someProp={someData} 
        someOtherProp={moreData} 
      />
    )} />

##### Follow Along

[Link to codesandbox to follow along with the tutorial](https://codesandbox.io/s/zwkl38vkjx)

Now we need to update the Avengers app to use the `render` prop instead of the `component` prop. But first, let’s talk about why we want to make this change in the context of the practical example. We have data coming from somewhere for our applications. Usually, that somewhere will be an API getting data from a database. In our case, it’s hardcoded into our application. You probably imported the avengers array from your data file directly into the `AvengerList` and `AvengerPage` components. Hopefully, this made you cringe inside just a little bit, because, as a React developer, you should want to control state (data) in one place. In this case, data should be managed in the `App` component, then passed to whatever components need them via props.

We need to update those routes to use the render prop accordingly.

    <Route 
      path="/avengers/:id" 
      render={props => <AvengerPage {...props} avengers={avengerData} /> } />
    <Route 
      path="/avengers" 
      render={props => <AvengerList {...props} avengers={avengerData} />} 
    />

##### Challenge

Now do the same with the `Friends` application.

------------------------------------------------------------------------

#### Learn to add nested routes to an application and display sub-nav views

When building a React app, there can be some cases that we need to build a section inside a route where the content can change dynamically based on the url path, but we don’t want the parent route to change. For example, imagine that this page has a header section that never changes, and below that there is a section with a tab menu, and the content for that section changes based on which tab is active. When clicking a new tab, the url changes, and the content changes, even though the parent component and parent route have not changed. Enter nested Routes!

##### Overview

Remember, `<Route />` is just a component. We can render it anywhere we want. So, if we want to nest one route, or a set of routes, inside another route, then we can render those `<Route />` components inside the parent route component.

Look at the following `app.js` code, where we will render `ContactPage` if we are at the path `'/contact/:id'`:

    function App = () => {
      return (
        <div className="app">
          <Route exact path="/" component={Home} />
          <Route path="/contact/:id" component={ContactPage} />
        </div>
      );
    }

So when we route to “/contact/:id” we render a contact profile page. We have a contact header section at the top of this component that will hold general contact information and maybe a profile picture. Under that, we build a section that has tabs for `Activity`, `Appointments`, `Documents`, and maybe others. For these, we want to mount and render nested components under the tabs. But we also want to update the URL based on the active tab - ie, “/contact/:id/appointments”.

There is a glaring problem with this, though. When switching between active tabs, we don’t want to be re-rendering `ContactPage`, which normally would happen when we route to the new URL. Nesting the routes for the tab’s content will solve this problem for us.

Let’s take a look at `ContactPage.js`:

    function ContactPage() {
      return (
        <div className="ContactPage">
          <ContactProfileHeader />
          <ContactProfileTabs />

          // Nested routes
          <Route exact path="/contact/:id/activity" component={ContactProfileActivity} />
          <Route exact path="/contact/:id/appointments" component={ContactProfileAppointments} />
          <Route exact path="/contact/:id/documents" component={ContactProfileDocuments} />
        </div>
      );
    }

Neither `ContactPage`, nor the header or tabs components, will re-render when we route to any of these paths, but now we can show dynamic content based on the current path.

Of course, this may all seem overly complicated for what we are trying to do. We know easier ways to render something dynamically. Why can’t we just keep something like `profileContent: 'activity'` in state, and render the nested components based on what the `profileContent` string is? We absolutely could do that, but we would lose the tie between the URL path and the content being rendered. The whole idea of this is that we are rendered dynamic content based on the URL.

Why would we want to keep this connection in place? Here’s one possible reason. With nested routes, you can type in the path in the URL and get the correct content to display. Without them, you would have to go to the contact profile page, then click on the tab to get to that content. There are pros and cons to both situations. Deciding between the two different implementations will really depend on the preference of the developers, team managers, and the stakeholders, and what behavior they are trying to achieve.

There is something that we have to watch out for when setting up nested routes. We need to know when to use the `exact` attribute on the involved routes. If you noticed, in `app.js` from above, we didn’t use `exact` in the contact route.

    <Route path="/contact/:id" component={ContactPage} />

That’s because if we had, we would not have an exact match to the path when routing to “/contact/:id/activity”, and `ContactPage` would not render. The `<Route />` component would simply render `null`. Well, if `ContactPage` is not rendered, then we would never even reach our nested routes. We want `ContactPage` to render even if we are at a path like “/contact/:id/documents”, so we can’t use `exact` on that route. This also means we can’t ever have another “parent” route that starts with “/contact/:id”, so it’s something we need to plan for from the beginning.

##### Follow Along

We’re going to continue building on our Avengers app here! Remember the data that we had for our list of Avengers? There were normal details for each avenger; then there was a list of movies that each avenger has been in. Let’s look at our `AvengerPage` component and add nested routes that will render either the details of the avenger or that avenger’s list of movies, depending on the URL that we are at.

First, we need to create some nested routes. Inside the `AvengerPage.js` import `Route` from `react-router-dom`. Next, add two routes at the end of the component:

    <Route path="/avengers/:id/details" render={() => <AvengerDetails avenger={avenger} />}>
    <Route path="/avengers/:id/movies" render={() => <AvengerMovies avenger={avenger} />}>

Now, create the two components that we’ve told React that we want to be rendered at each route - `AvengerDetais` and `AvengerMovies`. In the `movies` component, render the list of movies. In the `details` component, decide which details you want to move out of the `AvengerPage` component and into the new details component, then render those details there.

Now, we’ll need a way to navigate between each route. In the `AvengerPage` component, just above your nested routes, build-out two `Link` components that will let the user navigate between the two subroutes. Don’t forget to import `Link` from `react-router-dom`.

##### Challenge

Continue your work on your friends app. I’m going to leave this one up to you to flex those creative muscles and think up a way to add nested routes to your app!

------------------------------------------------------------------------

#### Learn to use the built in \`history\` object to programmatically navigate to other routes

In some instances we need to load different routes or components in response to events other than a user clicking on a link. An example is navigating to a new page after a promise has resolved and new data is available.

##### Overview

We can use the `history` prop that React Router passes to components in order to accomplish this.

Add a button with an `onClick` event handler. Inside the code for the button click handler add the following line to make the application navigate to the `/greet/Luke` route:

    function Home(props) {
      return (
        <div className="view">
          <h1>Home Component</h1>
          <p>This is the Home page.</p>
          <button onClick={greet}>Greet Luke</button>
        </div>
      );

      function greet() {
        props.history.push('/greet/Luke')
      }
    }

##### Follow Along

In the `AvengerList` component, you have rendered a list of Avengers, and you’re using the `Link` component to route to the `AvengerPage` route. Let’s change that to use the `history` object instead. Wherever you would like - on the wrapping div, or a button - add an `onClick` event handler that invokes a function called `routeToAvenger`. Then write the function so that it uses the `history` object to route to the avenger page.

    function routeToAvenger() {
      props.history.push(`/avengers/${avenger.id}`)
    }

##### Challenge

Add an `onClick` event handler to your `friends` app wherever it makes sense to do so.

------------------------------------------------------------------------

#### Learn to explain the difference between \`Link\` and \`NavLink\` and when to use which to navigate declaratively between routes

You’ll notice there are two ways include a React Router component that produces an anchor tag into your application, that will produce something like the element found below.

    <a href="www.somecoolurl.com">Anchor</a>

Learning the differences between the `Link` & `NavLink` components will help you gain an understanding of when to use one over the other. This will help you build your navigations and give you the ammo you need to produce a great routing experience for your apps.

##### Overview

### Link

The `Link` component renders an anchor tag with an `href` of the path we have specified on it.

### NavLink

The `NavLink` component is exactly like the `Link` component with one noticeable exception. It adds the class `active` to the anchor tag when the URL matches the path in the `NavLink` component. This is really awesome because we can now style our navbar based current route! You may be doing this by hand already, but now we are going to do this with React Routers built-in component.

    import { NavLink } from 'react-router-dom'

    <NavLink to="/">Home</NavLink>
    <NavLink to="/about">About</NavLink>

When we route the about page, the two above `NavLink`’s will render something like this.

<img src="https://tk-assets.lambdaschool.com/01e3ba3b-ae4c-4f1b-b675-9e2f755fc6e3_ScreenShot2018-10-08at4.35.40PM.png" width="800" />

See the `class="active"` added to the `About` anchor tag? Now you can use that class in your CSS to style the active link different from the other links.

Sometimes we may not want the class to be called `.active`. If that is the case we can use the `activeClassName` prop on the `NavLink` component. It would look like this:

    <NavLink to="/" activeClassName="activeNavButton">Home</NavLink>
    <NavLink to="/about" activeClassName="activeNavButton">About</NavLink>

and it would render like this:

<img src="https://tk-assets.lambdaschool.com/81431edf-2ea9-45bb-95f6-358b325dd0c6_ScreenShot2018-10-08at4.40.22PM.png" width="800" />

Now we have added the custom class `.activeNavButton` instead of the generic `.active` class.

##### Follow Along

Take a quick look at the documentation for `NavLink` to see what else you can do with the props you can use. Specifically, look at `isActive` and `activeStyle` [NavLink docs here](https://reacttraining.com/react-router/web/api/NavLink). Just look briefly and take note of these, so you know that they exist.

Then rebuild your navbar in the avenger’s app based on the active route. It might look something like this:

    <ul className="navbar">
      <li>
        <NavLink exact to="/" activeClassName="activeNavButton">
          Home
        </NavLink>
      </li>
      <li>
        <NavLink to="/avengers" activeClassName="activeNavButton">
          Avengers
        </NavLink>
      </li>
    </ul>

with your CSS that styles the active link a differently than the other links:

    .navbar {
      margin: 0;
      padding: 0;
      height: 64px;
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
      list-style: none;
      display: flex;
      justify-content: flex-start;
      align-items: center;
    }

    .navbar > li > a {
      color: #4285f4;
      text-decoration: none;
      padding: 24px;
      height: 16px;
    }

    .navbar > li > a.activeNavButton {
      background-color: #4285f4;
      color: white;
    }

##### Challenge

Use `NavLink`’s in your friends app, and style the navbar like we did the Avenger’s app.

------------------------------------------------------------------------

## <a href="#projects" id="projects" class="anchor"><span class="octicon octicon-link"></span></a>Projects

-   ##### [React-Router-Movies](https://github.com/LambdaSchool/React-Router-Movies)

    Create an app that renders a list of movies in one route, and a movie info page in another route.

-   ##### [React-Router-Apple-Nav STRETCH ASSIGNMENT](https://github.com/LambdaSchool/React-Router-Apple-Nav)

## <a href="#review" id="review" class="anchor"><span class="octicon octicon-link"></span></a>Review

### Class Recordings

You can use class recordings to help you master the material.

-   **[React Router II for Web28 w/ Christina Gorton](https://youtu.be/0w6GeUtS-eo)**

    Come learn React Router II with hooks.

-   [All previous recordings](/archive/FSW/module/recYkF1FDilIedmwX)

### Demonstrate Mastery

To demonstrate mastery of this module, you need to complete and pass a code review on each of the following:

-   Objective challenge:

    Now do the same with the `Friends` application.

-   Objective challenge:

    Continue your work on your friends app. I’m going to leave this one up to you to flex those creative muscles and think up a way to add nested routes to your app!

-   Objective challenge:

    Add an `onClick` event handler to your `friends` app wherever it makes sense to do so.

-   Objective challenge:

    Use `NavLink`’s in your friends app, and style the navbar like we did the Avenger’s app.

-   Project: React-Router-Movies
