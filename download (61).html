<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Intended as a home for Lambda School curriculum.">
<meta name="author" content="">
<meta name="generator" content="Jekyll v3.8.0">
<title>Java - Data Modeling and Auditing Fields with custom querying · Lambda School</title>

<link rel='stylesheet' integrity crossorigin='anonymous' href='https://d33wubrfki0l68.cloudfront.net/css/0f99ed215b3d52fa1bee44dc614ea3fa1d1bebc0/dist/css/bootstrap.min.css' />

<link href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" rel="stylesheet">
<link rel='stylesheet' href='https://d33wubrfki0l68.cloudfront.net/css/1bf8317b3d6d0c9d813c92505f052bf79ffdcdfe/assets/css/docs.min.css' />

<link rel='stylesheet' href='https://d33wubrfki0l68.cloudfront.net/css/f3626ab7ab84821f8b60ea92b4a5c6acf59991af/assets/css/main.css' />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-122016605-1', 'learn.lambdaschool.com');
  ga('send', 'pageview');
</script>



<link rel="apple-touch-icon" href="/assets/img/favicons/apple-touch-icon.png" sizes="180x180">
<link rel="icon" href="/assets/img/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
<link rel="icon" href="/assets/img/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
<link rel="manifest" href="/assets/img/favicons/manifest.json">
<link rel="mask-icon" href="/assets/img/favicons/safari-pinned-tab.svg" color="#a0001e">
<link rel="icon" href="/favicon.ico">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#a0001e">
</head>
<body>
<noscript>Please enable JavaScript to view this page.</noscript>
<div id="redirect-message" style="display: none;">
You must be logged in to view this page.
</div>
<div id="unauthorized-message" style="display: none;">
You must be a Lambda School student to view this page.
</div>
<div id="content-wrapper" style="visibility: hidden;">
<a id="skippy" class="sr-only sr-only-focusable" href="#content">
<div class="container">
<span class="skiplink-text">Skip to main content</span>
</div>
</a>
<div class="mobile-menu">
<div class="m-drop">
<div class="mobile-row">
<div class="header-row" style="padding: 3px 7px">
<a class="navbar-brand" href="/" aria-label="Lambda School"><svg xmlns="http://www.w3.org/2000/svg" width="33" height="35" viewBox="0 0 33 35" fill="none">
<path fill-rule="evenodd" clip-rule="evenodd" d="M0 0V16.0609C0 27.7335 9.08929 31.7843 15.7321 34.7513H15.75L16.2857 35C16.4107 34.9289 16.5357 34.8756 16.6786 34.8223C16.75 34.7868 16.8393 34.7513 16.9107 34.7157C23.5714 31.7665 32.6964 27.698 32.6964 16.0609V0H0ZM20.7071 23.4536L20.3571 22.5102L15.6071 10.0736C15.3214 10.802 14.6607 12.5609 13.9464 14.4442L11.2143 21.7817C11.0893 22.1371 11.1607 22.3147 11.25 22.4391C11.4464 22.6701 11.8768 22.6701 12.5554 22.6701H12.6786L12.6768 23.4518H7.56964V22.6701H7.9625C8.65893 22.6701 9.23036 22.368 9.65893 21.5152L10.1768 20.3426L14.9089 8.29696L14.0696 6.07614H18.4804L24.5696 22.0127L25.125 23.4536H20.7071Z" fill="#EC3944" />
</svg></a>
<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#mobile-course-menu" aria-controls="mobile-course-menu" aria-expanded="false" aria-label="Toggle navigation">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" width="30" height="30" focusable="false"><title>Menu</title><path stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" d="M4 7h22M4 15h22M4 23h22"></path></svg>
</button>
</div>
</div>
<div class="nav-row">
<div class="results-container">
<ul id="results-container" class="dropdown list-group"></ul>
</div>
<div id="mobile-course-menu" class="collapse nav-row">
<div class="docs-mobile-sidebar" id="bd-docs-nav-mobile">
<nav class="bd-links">
<div class="bd-toc-item">
<h4 class="bd-toc-link">Web API: Java</h4>
</div>

<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web4java/sprint/recnLDyTtONLTMiFJ">
1.&nbsp;&nbsp;Java Precourse Information
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/web4java/module/recfnUAvFbeyIAHib/">
Welcome to Java Spring
</a>
</li>
<li>
<a href="/web4java/module/recjH0lMflsFIVzDM/">
Java Spring Course Table of Contents
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web4java/sprint/recoJ4ZqNQWX3cy6E">
2.&nbsp;&nbsp;Java Fundamentals
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/web4java/module/recAGVTYNZyJbEFpu/">
Java - JDK and Java Classes
</a>
</li>
<li>
<a href="/web4java/module/rec6Hrk77HupYeoN5/">
Java Interfaces, Abstract Classes, Lambda Expression
</a>
</li>
<li>
<a href="/web4java/module/recyJ663TrxVgpqY9/">
Java - RDBMS and SQL Basics
</a>
</li>
<li>
<a href="/web4java/module/recqtftA9E98qpbak/">
Java - Intro to Maven, Spring, and Tomcat Using REST API
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web4java/sprint/recRVUSWQEtosl0Cz">
3.&nbsp;&nbsp;RDBMS and Intro to APIs
</a>
<ul class="nav bd-sidenav">

<li>
 <a href="/web4java/module/recb0OVmRrJzqhH4D/">
Java - Spring Database Creation Including Seed Data
</a>
</li>
<li>
<a href="/web4java/module/rec3THcdjv8BumGCt/">
Java - Read Data using CRUD Operations
</a>
</li>
<li>
<a href="/web4java/module/recJihkiNn2KH2nEW/">
Java - Inserting Deleting and Updating Data using CRUD Operations
</a>
</li>
<li class="active bd-sidenav-active">
<a href="/web4java/module/rec2oQCFWOVShtxIx/">
Java - Data Modeling and Auditing Fields with custom querying
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web4java/sprint/recSqm5AAEkJcIl3p">
4.&nbsp;&nbsp;Java Frameworks
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/web4java/module/rec3E1WYDyoiEF1e3/">
Java - Exception Handling
</a>
</li>
<li>
<a href="/web4java/module/rececDV2OMIUcY2eH/">
Java - User Authentication
</a>
</li>
<li>
<a href="/web4java/module/recDboXln5wm4aKJt/">
Java - Automated Testing
</a>
</li>
<li>
<a href="/web4java/module/rec7pCiBPzI4DkAJT/">
Java - Java Deployment and Best Practices
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web4java/sprint/recC5dhR9menaROwx">
5.&nbsp;&nbsp;WEB Unit 4 Java Build
</a>
<ul class="nav bd-sidenav">

</ul>
</div>
<hr>
</nav>
</div>
</div>
</div>
</div>
</div>
<div class="main-container">
<div class="sidebar-container bd-sidebar">
<div class="docs-sidebar">
<a class="navbar-brand" href="/" aria-label="Lambda School"><svg width="135" height="35" viewBox="0 0 756 197" fill="#ec3944"><g><path d="M292.9,126.6h-6.7c-9,0-12.6-1.9-12.6-9.5V48.5c0-7.7,1.6-8.6,11.4-9.7v-4.5h-41.3v4.5 c9.8,1.1,11.4,1.9,11.4,9.7v69.3c0,7.7-1.6,8.6-11.4,9.7v4.5h73.7l4.9-29.4h-4.4C308.5,119.6,303.9,126.6,292.9,126.6z"></path><path d="M385.5,121.1V79.3c0-15.8-9.4-22.4-26.6-22.4c-15,0-26.8,6.6-26.8,19.3c0,2.4,0.2,3.3,0.8,5h16.6 c-0.5-2-0.7-5-0.7-7.5c0-9.6,3.6-12.4,9.4-12.4c6.4,0,9.7,2,9.7,14.4v11.2l-20.8,7.7c-10.6,4.1-19.3,8.8-19.3,20.7 c0,10.9,7.5,17.8,18.6,17.8c9.9,0,17.4-6.2,21.9-12.1l0.1-0.1l0,0V132h26v-4.4C387.7,127.1,385.5,126.2,385.5,121.1z M368,117.8 c-4.4,3.3-7.6,5.3-12,5.4c-7.7,0-11.2-5.2-11.2-12.6c0-7.7,3.6-11.2,9.8-13.5l13.4-5.4V117.8L368,117.8z"></path><path d="M514.4,121V79.5c0-14.8-6-22.4-18.7-22.4c-11.5,0-19.4,6.6-25.5,13.9c-1.8-9.6-7.7-13.9-17.8-13.9 c-11.4,0-18.7,6.2-24.8,13.6V57h-2.3l-23.8,7.4v2.4l8.6,5v49.4c0,5-2.1,6.1-8.9,6.4v4.4h35.1v-4.4c-6.7-0.3-8.7-1.3-8.7-6.4v-47 c4.7-3.6,9.5-6.5,15.5-6.5c7.6,0,10.5,4.2,10.5,12.7v40.8c0,5-1.9,6.1-8.7,6.4v4.4l34.8,0v-4.4c-6.7-0.3-8.6-1.3-8.6-6.4v-47 c4.7-3.6,9.5-6.5,15.5-6.5c7.6,0,10.5,4.2,10.5,12.7l-0.1,40.5c0,5-1.8,6.4-8.6,6.7l0,4.4h35.1v-4.4 C516.7,127.4,514.4,126.1,514.4,121z"></path><path d="M573.2,57.3c-11,0-18.5,5.7-23.4,12.8V22.9h-2.7l-23.4,6.8v2.5l8.6,4.5V132h2.9l8-3.5c5.8,3.3,12.3,5,20.2,5 c20.8,0,37.4-15.8,37.4-42.6C600.9,69.9,590.4,57.3,573.2,57.3z M563.4,128.7c-5.4,0-10.3-2.4-13.7-7.9V73.6 c3.4-3.4,8.5-5.7,13.5-5.7c13.9,0,20,12.8,20,29.5C583.3,114.7,575.8,128.5,563.4,128.7z"></path><path d="M677,121.2V22.8h-2.6L651,29.6V32l8.6,4.5v25.7c-3.4-3.2-8.8-5.1-15.5-5.1c-19.9,0-35.2,15.3-35.2,41.3 c0,20.7,11.2,34.6,28.1,34.6c9.8,0,17-5.3,22.6-13.1v0.9V132h26.3l0-4.4C679.1,127.3,677,126.3,677,121.2z M659.6,117.1 L659.6,117.1c-3.4,3.4-8,5.1-13.2,5.1c-13.2,0-20.4-12.8-20.4-29.8c0-17.8,7.3-29.2,19.5-29.2c8.7,0,14.1,6.9,14.1,18.3 L659.6,117.1z"></path><path d="M747.1,121.1V79.3c0-15.8-9.4-22.4-26.6-22.4c-15,0-26.8,6.6-26.8,19.3c0,2.4,0.2,3.3,0.8,5h16.6 c-0.5-2-0.7-5-0.7-7.5c0-9.6,3.6-12.4,9.4-12.4c6.4,0,9.7,2,9.7,14.4v11.2l-20.8,7.7c-10.6,4.1-19.3,8.8-19.3,20.7 c0,10.9,7.5,17.8,18.6,17.8c9.9,0,17.4-6.2,21.9-12.1v-0.1h0.1l0,11.1l26,0.1v-4.5C749.3,127.1,747.1,126.2,747.1,121.1z M729.6,117.8c-4.4,3.3-7.6,5.3-12.1,5.4c-7.7,0-11.2-5.2-11.2-12.6c0-7.7,3.6-11.2,9.8-13.5l13.4-5.4L729.6,117.8L729.6,117.8z"></path></g><path d="M0,0v90.4c0,65.7,50.9,88.5,88.1,105.2h0.1l3,1.4c0.7-0.4,1.4-0.7,2.2-1c0.4-0.2,0.9-0.4,1.3-0.6 c37.3-16.6,88.4-39.5,88.4-105V0H0z M116,132l-2-5.3l-26.6-70c-1.6,4.1-5.3,14-9.3,24.6l-15.3,41.3c-0.7,2-0.3,3,0.2,3.7 c1.1,1.3,3.5,1.3,7.3,1.3H71l0,4.4H42.4l0-4.4h2.2c3.9,0,7.1-1.7,9.5-6.5l2.9-6.6l26.5-67.8l-4.7-12.5h24.7l34.1,89.7l3.1,8.1H116z"></path></svg></a>
<ul id="results-container" class="dropdown list-group"></ul>
<nav class="bd-links collapse" id="bd-docs-nav">
<div class="bd-toc-item">
<h4 class="bd-toc-link">Web API: Java</h4>
</div>

<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web4java/sprint/recnLDyTtONLTMiFJ">
1.&nbsp;&nbsp;Java Precourse Information
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/web4java/module/recfnUAvFbeyIAHib/">
Welcome to Java Spring
</a>
</li>
<li>
<a href="/web4java/module/recjH0lMflsFIVzDM/">
Java Spring Course Table of Contents
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web4java/sprint/recoJ4ZqNQWX3cy6E">
2.&nbsp;&nbsp;Java Fundamentals
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/web4java/module/recAGVTYNZyJbEFpu/">
Java - JDK and Java Classes
</a>
</li>
<li>
<a href="/web4java/module/rec6Hrk77HupYeoN5/">
Java Interfaces, Abstract Classes, Lambda Expression
</a>
</li>
<li>
<a href="/web4java/module/recyJ663TrxVgpqY9/">
Java - RDBMS and SQL Basics
</a>
</li>
<li>
<a href="/web4java/module/recqtftA9E98qpbak/">
Java - Intro to Maven, Spring, and Tomcat Using REST API
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web4java/sprint/recRVUSWQEtosl0Cz">
3.&nbsp;&nbsp;RDBMS and Intro to APIs
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/web4java/module/recb0OVmRrJzqhH4D/">
Java - Spring Database Creation Including Seed Data
</a>
</li>
<li>
<a href="/web4java/module/rec3THcdjv8BumGCt/">
Java - Read Data using CRUD Operations
</a>
</li>
<li>
<a href="/web4java/module/recJihkiNn2KH2nEW/">
Java - Inserting Deleting and Updating Data using CRUD Operations
</a>
</li>
<li class="active bd-sidenav-active">
<a href="/web4java/module/rec2oQCFWOVShtxIx/">
Java - Data Modeling and Auditing Fields with custom querying
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web4java/sprint/recSqm5AAEkJcIl3p">
4.&nbsp;&nbsp;Java Frameworks
</a>
<ul class="nav bd-sidenav">

<li>
<a href="/web4java/module/rec3E1WYDyoiEF1e3/">
Java - Exception Handling
</a>
</li>
<li>
<a href="/web4java/module/rececDV2OMIUcY2eH/">
Java - User Authentication
</a>
</li>
<li>
<a href="/web4java/module/recDboXln5wm4aKJt/">
Java - Automated Testing
</a>
</li>
<li>
<a href="/web4java/module/rec7pCiBPzI4DkAJT/">
Java - Java Deployment and Best Practices
</a>
</li>
</ul>
</div>
<div class="bd-toc-item ">
<a class="bd-toc-link" href="/web4java/sprint/recC5dhR9menaROwx">
5.&nbsp;&nbsp;WEB Unit 4 Java Build
</a>
<ul class="nav bd-sidenav">

</ul>
</div>
<hr>
</nav>
</div>
</div>
<main class="content-container flex-wrapper" role="main">
<div class="sticky-nav">
<div class="sprint-nav">
<ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#prepare">Prepare</a></li>
<li class="toc-entry toc-h2"><a href="#learn">Learn</a></li>
<li class="toc-entry toc-h2"><a href="#guided-project">Guided Project</a></li>
<li class="toc-entry toc-h2"><a href="#project">Project</a></li>
<li class="toc-entry toc-h2"><a href="#review">Review</a></li>
</ul>
</div>

</div>
<div class="wrapper limit-width">
<div class="flex-wrapper">
<div class="limit-width">
<div class="jumbotron">
 <h1 class="bd-title" id="content">Java - Data Modeling and Auditing Fields with custom querying</h1>
<span class="lead">
<p class="bd-lead"></p>
<style>
table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 100%;
}

td, th {
  border: 1px solid #dddddd;
  text-align: left;
  padding: 8px;
}

tr:nth-child(even) {
  background-color: #dddddd;
}
</style>
<p><a id="Data_Modeling_and_Auditing_Fields_with_Custom_Querying"></a></p>
</span>
<strong>At the end of this module, you should be able to:</strong>
<ul>
<li>add additional fields to a Many to Many Join Table</li>
<li>add standard auditing fields to each table</li>
<li>populate and display standard auditing fields</li>
<li>use SQL, JPA and Hibernate to perform custom data manipulation operations on a RDBMS through a Spring Application</li>
<li>implement default Swagger documentation</li>
<li>print the default Swagger documentation</li>
</ul>
</div>
<div class="alert alert-warning" role="alert">
<h4>Pro Tip</h4>
<p>Omit needless words.</p>
<footer class="blockquote-footer"><p>Strunk and White</p>
</footer>
</div>
<h2 class="display-4">
<a id="prepare" class="anchor" href="#prepare" aria-hidden="true"><span class="octicon octicon-link"></span></a>Prepare</h2>
<p class="lead">Review each preclass resource before class.</p>
<div class="preclass">
<ul class="list-group list-group-flush">
</ul>
</div>
<h2 class="display-4">
<a id="learn" class="anchor" href="#learn" aria-hidden="true"><span class="octicon octicon-link"></span></a>Learn</h2>
<h4 class="mark mb-3 p-2">Learn to add additional fields to a Many to Many Join Table</h4>
<p><a id="Additional_fields"></a></p>
<h5>Overview</h5>
<ul>
<li>See the Github Repository <a href="https://github.com/LambdaSchool/java-sampleemps.git">https://github.com/LambdaSchool/java-sampleemps.git/sampleemps_data_modeling</a> for the code used in the objective.</li>
</ul>
<h3 id="software-needed">Software Needed</h3>
<ul>
<li>Java Development Kit (JDK) - at least version 11</li>
<li>JetBrains IntelliJ IDEA IDE</li>
<li>Postman</li>
</ul>
<p>We have a new business rule. When an employee is added to a Job Title, we need to add the name of their manager for that Job Title. In other words, our Join Table needs an additional attribute, column. This is a very common situation so let’s do it!</p>
<p>First, we need to know that our <code class="highlighter-rouge">@ManyToMany</code> annotation does not allow us to add additional fields to the join table. If you look at the database diagram, you can see that our Many to Many relationship gets implemented using two One to Many relations.</p>
<p><img src="https://lambdaschool.github.io/java-curriculum-assets/Sprint%2011%20-%20Java%20with%20RDBMS%20and%20API%20Intros/Module%204%20-%20JX%20Java%20-%20Data%20Modeling%20and%20Auditing%20Fields%20with%20custom%20querying/assets/JX-SP11-M4-01.png" alt="Sample Employee Database"></p>
<ul>
<li>One Employee to Many employee, job titles combinations</li>
<li>One Job title to Many employee, job titles combinations</li>
</ul>
<p>We will make use of this construct to add our manager column.</p>
<p>The idea is to make changes to our database, allowing us to add this column. In making those changes, we want to impact our users, clients, as little as possible. So, we will keep our controllers the same. The data being sent to and from our application will have to change slightly to accommodate the new field. This is a great time to use the file comparison tool in IntelliJ (See the objective on IntelliJ Tips and Tricks from a previous module) -&gt; comparing the these two applications</p>
<ul>
<li><a href="https://github.com/LambdaSchool/java-sampleemps/tree/master/sampleemps_create_delete_update">https://github.com/LambdaSchool/java-sampleemps/tree/master/sampleemps_create_delete_update</a></li>
<li><a href="https://github.com/LambdaSchool/java-sampleemps/tree/master/sampleemps_data_modeling">https://github.com/LambdaSchool/java-sampleemps/tree/master/sampleemps_data_modeling</a></li>
</ul>
<p>do note that the second application has code from several different objectives for this module!</p>
<h5>Follow Along</h5>
<p>Let’s take the repo <a href="https://github.com/LambdaSchool/java-sampleemps.git">https://github.com/LambdaSchool/java-sampleemps.git/sampleemps_create_delete_update</a>t and transform it into the repo <a href="https://github.com/LambdaSchool/java-sampleemps.git">https://github.com/LambdaSchool/java-sampleemps.git/sampleemps_data_modeling</a>t step by step!</p>
<ul>
<li>Create the join table class <code class="highlighter-rouge">models.Employeetitles</code> with the extra manager column.</li>
<li>This is a brand new class. Much of the code is straightforward and commented below.</li>
<li>However, we do have a new issue, a compound primary key. This is where more than 2 or more fields are combined to make the primary key. In our case, we are combining <code class="highlighter-rouge">employeeid</code> and <code class="highlighter-rouge">jobtitleid</code>.
<ul>
<li>Notice that each field has the @Id annotation signifying they are part of the primary key.</li>
<li>Since we have a compound primary key, we must implement the interface <code class="highlighter-rouge">Serializable</code> to aid in generating JSON Objects of this class.
<ul>
<li>When you implement Serializable, you also have to implement equals and hashCode</li>
<li>This is done in a method similar to adding Getters and Setters
<ul>
<li>Right click in the class where you want to add the new code.</li>
<li>Select <code class="highlighter-rouge">Generate...</code> -&gt; <code class="highlighter-rouge">equals() and hashCode()</code>
</li>
<li>In the dialog box,
<ul>
<li>make sure <code class="highlighter-rouge">Use getters during code generation</code> is checked</li>
<li>make sure <code class="highlighter-rouge">Accept subclasses as parameters to equals()</code> method is NOT checked</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="https://lambdaschool.github.io/java-curriculum-assets/Sprint%2011%20-%20Java%20with%20RDBMS%20and%20API%20Intros/Module%204%20-%20JX%20Java%20-%20Data%20Modeling%20and%20Auditing%20Fields%20with%20custom%20querying/assets/JX-SP11-M4-02.png" alt="getters screen"></p>
<ul>
<li>In the next dialog box, check that all fields are included in the <code class="highlighter-rouge">equals()</code> method. This is the norm.</li>
</ul>
<p><img src="https://lambdaschool.github.io/java-curriculum-assets/Sprint%2011%20-%20Java%20with%20RDBMS%20and%20API%20Intros/Module%204%20-%20JX%20Java%20-%20Data%20Modeling%20and%20Auditing%20Fields%20with%20custom%20querying/assets/JX-SP11-M4-03.png" alt="equals screen"></p>
<ul>
<li>In the next dialog box, check that all fields are included in the <code class="highlighter-rouge">hashCode()</code> method. This is the norm.</li>
</ul>
<p><img src="https://lambdaschool.github.io/java-curriculum-assets/Sprint%2011%20-%20Java%20with%20RDBMS%20and%20API%20Intros/Module%204%20-%20JX%20Java%20-%20Data%20Modeling%20and%20Auditing%20Fields%20with%20custom%20querying/assets/JX-SP11-M4-04.png" alt="hashCode screen"></p>
<ul>
<li>The next dialog box requires some thought. You want to check all the fields that cannot be NULL. In our code, none of the fields can be NULL so I have checked all fields.</li>
</ul>
<p><img src="https://lambdaschool.github.io/java-curriculum-assets/Sprint%2011%20-%20Java%20with%20RDBMS%20and%20API%20Intros/Module%204%20-%20JX%20Java%20-%20Data%20Modeling%20and%20Auditing%20Fields%20with%20custom%20querying/assets/JX-SP11-M4-05.png" alt="Null screen"></p>
<ul>
<li>Now click finished and see the code get generated for you!</li>
</ul>
<details>
<summary>Expand to see the code for models.EmployeeTitles</summary>
<pre><code class="language-JAVA">
package com.lambdaschool.sampleemps.models;

import com.fasterxml.jackson.annotation.JsonIgnoreProperties;

import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.Id;
import javax.persistence.JoinColumn;
import javax.persistence.ManyToOne;
import javax.persistence.Table;
import java.io.Serializable;
import java.util.Objects;

@Entity
@Table(name = "employeetitles")
/*
 * When you have a compound primary key, you must implement Serializable for Hibernate
 * When you implement Serializable you must implement equals and hash code
 */
public class EmployeeTitles implements Serializable
{
    /*
     * 1/2 of the primary key (long) for employeetitles.
     * Also is a foreign key into the Employee table
     */
    @Id
    @ManyToOne
    /*
     * Many of these records can point to a single Employee. In other words, an employee can have multiple job titles
     */
    @JoinColumn(name = "employeeid")
    @JsonIgnoreProperties(value = "jobnames",
        allowSetters = true)
    private Employee emp;

    /*
     * 1/2 of the primary key (long) for employeetitles.
     * Also is a foreign key into the JobTitle table
     */
    @Id
    /*
     * Many of these records can point to a single JobTitle. In other words, multiple employees can have the same job title
     */
    @ManyToOne
    @JoinColumn(name = "jobtitleid")
    @JsonIgnoreProperties(value = "empnames",
        allowSetters = true)
    private JobTitle jobname;

    /*
     * Our extra field - why we are going all this hassle!
     */
    @Column(nullable = false)
    private String manager;

    /*
     * JPA requires the default constructor
     */
    public EmployeeTitles()
    {
    }

    /*
     * Allows us to easily create a record given all the data
     */
    public EmployeeTitles(
        Employee emp,
        JobTitle jobname,
        String manager)
    {
        this.emp = emp;
        this.jobname = jobname;
        this.manager = manager;
    }

    /*
     * Our standard getters and setters
     */
    public Employee getEmp()
    {
        return emp;
    }

    public void setEmp(Employee emp)
    {
        this.emp = emp;
    }

    public JobTitle getJobname()
    {
        return jobname;
    }

    public void setJobname(JobTitle jobname)
    {
        this.jobname = jobname;
    }

    public String getManager()
    {
        return manager;
    }

    public void setManager(String manager)
    {
        this.manager = manager;
    }

    /*
     * Since we have implemented Serializable - required for the compound primary key,
     * We have also Override equals and hashCode. This is done through the same menu system
     * as generating getters and setters. We pick equals() and hashCode() from that context menu
     * and generate them.
     */
    @Override
    public boolean equals(Object o)
    {
        if (this == o)
        {
            return true;
        }
        if (o == null || getClass() != o.getClass())
        {
            return false;
        }
        EmployeeTitles that = (EmployeeTitles) o;
        return getEmp().equals(that.getEmp()) &amp;&amp;
            getJobname().equals(that.getJobname()) &amp;&amp;
            manager.equals(that.manager);
    }

    @Override
    public int hashCode()
    {
        return Objects.hash(getEmp(),
            getJobname(),
            manager);
    }
}
</code></pre>
</details>
<p>Now we need to update equals and hashCode to work with the ids. An EmployeeTitle object is considered equal to another object when their jobtileids and employeeids are equal. So, we write our equals method to reflect this.</p>
<details>
<summary>Expand to see the new equals and hashcode methods</summary>
<pre><code class="language-JAVA">
    /*
     * Since we have implemented Serializable - required for the compound primary key,
     * We have also Override equals and hashCode. This is done through the same menu system
     * as generating getters and setters. We pick equals() and hashCode() from that context menu
     * and generate them.
     */
    @Override
    public boolean equals(Object o)
    {
        // if the one we are comparing an object to itself, just return true
        if (this == o)
        {
            return true;
        }

        // make sure that we are comparing this object to one of the same class
        // if not return false
        if (!(o instanceof EmployeeTitles))
        {
            return false;
        }

        // check to see if the ids are equal.
        // if one of the objects happens to have a null for one of the fields
        // set the id to 0
        EmployeeTitles that = (EmployeeTitles) o;
        return ((emp == null) ? 0 : emp.getEmployeeid()) == ((that.emp == null) ? 0 : that.emp.getEmployeeid()) &amp;&amp;
                ((jobname == null) ? 0 : jobname.getJobtitleid()) == ((that.jobname == null) ? 0 : that.jobname.getJobtitleid());
    }

    @Override
    public int hashCode()
    {
//        return Objects.hash(getEmp(),
//                            getJobname(),
//                            manager);
        return 34;
    }
</code></pre>
</details>
<p>The Many To Many attributes in the Employee and JobTitle have to be replaced with One To Many relationships. Since we are changing the fields of the class, the Getters and Setters have to change. These changes are documented below.</p>
<details>
<summary>Expand to see the code changes for models.Employee</summary>
<p>Replace the following ManyToMany Relationship</p>
<pre><code class="language-JAVA">
    @ManyToMany()
    /*
     * Note: JoinTable is the name of a table that will get created in the database combining the two primary keys making up this relationship
     *       joinColumn is the primary key of the main, driving, table
     *       inverseJoinColumns is the primary key of the other table in the relationship
     */
    @JoinTable(name = "employeetitles",
        joinColumns = @JoinColumn(name = "employeeid"),
        inverseJoinColumns = @JoinColumn(name = "jobtitleid"))
    @JsonIgnoreProperties(value = "employees",
        allowSetters = true)
    List<jobtitle> jobtitles = new ArrayList&lt;&gt;();
&lt;/code&gt;&lt;/pre&gt;

<p>With the OneToMany Relationship</p>

<pre><code class="language-JAVA">
    /*
     * emp is the field from EmployeeTitles
     * CascadeType.ALL says that when we add, update, delete an Employee record, have that affect emp in EmployeeTitle.
     * Notice that in EmployeeTitle there is no cascade option. This way manipulating an Employee record only affects
     * the EmployeeTitle join table but does not affect the JobTitle table.
     */
    @OneToMany(mappedBy = "emp",
        cascade = CascadeType.ALL)
    /*
     * When displaying EmployeeTitles from the Employee class, do not display the employee again.
     * However do allow for data to be added to the emp field in EmployeeTitles
     */
    @JsonIgnoreProperties(value = "emp",
        allowSetters = true)
    /*
     * We know all of this works with EmployeeTitles because that is the class of the field name that making the One To Many relationship!
     * This array contains the list of EmployeeTitles assigned to this Employee
     */
    private Set<employeetitles> jobnames = new HashSet&lt;&gt;();
&lt;/code&gt;&lt;/pre&gt;

<p>Add this constructor to better work with Seed Data</p>

<pre><code class="language-JAVA">
    public Employee(
        String name,
        double salary)
    {
        this.name = name;
        this.salary = salary;
    }
</code></pre>

<p>Replace these Getters and Setters/p&gt;

</p>
<pre><code class="language-JAVA">
    public Set<jobtitle> getJobtitles()
    {
        return jobtitles;
    }

    public void setJobtitles(Set<jobtitle> jobtitles)
    {
        this.jobtitles = jobtitles;
    }
&lt;/code&gt;&lt;/pre&gt;

<p>With ones that work with the new fields</p>

<pre><code class="language-JAVA">
    public Set<employeetitles> getJobnames()
    {
        return jobnames;
    }

    public void setJobnames(Set<employeetitles> jobnames)
    {
        this.jobnames = jobnames;
    }
&lt;/code&gt;&lt;/pre&gt;

&lt;/details&gt;

<details>
<summary>Expand to see the full models.Employee class incorporating all changes</summary>

<pre><code class="language-JAVA">
package com.lambdaschool.sampleemps.models;

import com.fasterxml.jackson.annotation.JsonIgnoreProperties;

import javax.persistence.CascadeType;
import javax.persistence.Column;
import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Id;
import javax.persistence.JoinColumn;
import javax.persistence.JoinTable;
import javax.persistence.ManyToMany;
import javax.persistence.OneToMany;
import javax.persistence.Table;
import javax.persistence.Transient;
import java.util.ArrayList;
import java.util.HashSet;
import java.util.List;
import java.util.Set;

@Entity
@Table(name = "employees")
public class Employee
{
    @Id // The primary key
    @GeneratedValue(strategy = GenerationType.AUTO) // We will let the database decide how to generate it
    private long employeeid; // long so we can have many rows

    @Column(nullable = false,
            unique = true)
    private String name;

    @Transient
    public boolean hasvalueforsalary = false;
    private double salary;

    /*
     * emp is the field from EmployeeTitles
     * CascadeType.ALL says that when we add, update, delete an Employee record, have that affect emp in EmployeeTitle.
     * Notice that in EmployeeTitle there is no cascade option. This way manipulating an Employee record only affects
     * the EmployeeTitle join table but does not affect the JobTitle table.
     */
    @OneToMany(mappedBy = "emp",
            cascade = CascadeType.ALL)
    /*
     * When displaying EmployeeTitles from the Employee class, do not display the employee again.
     * However do allow for data to be added to the emp field in EmployeeTitles
     */
    @JsonIgnoreProperties(value = "emp",
            allowSetters = true)
    /*
     * We know all of this works with EmployeeTitles because that is the class of the field name that making the One To Many relationship!
     * This array contains the list of EmployeeTitles assigned to this Employee
     */
    private Set<employeetitles> jobnames = new HashSet&lt;&gt;();

    @OneToMany(mappedBy = "employee",
            cascade = CascadeType.ALL,
            // when adding, reading, updating, and delete, the operations should affect the emails table as well)
            orphanRemoval = true)
    // if we find a email that has a reference to an employee that does not exist, delete that email record
    // we want to ignore, not display, the employee object found in Email
    @JsonIgnoreProperties(value = "employee")
    private List<email> emails = new ArrayList&lt;&gt;();

    public Employee()
    {
        // the default constructor is required by the JPA
    }

    public Employee(
            String name,
            double salary)
    {
        this.name = name;
        this.salary = salary;
    }

    public long getEmployeeid()
    {
        return employeeid;
    }

    public void setEmployeeid(long employeeid)
    {
        this.employeeid = employeeid;
    }

    public String getName()
    {
        return name;
    }

    public void setName(String name)
    {
        this.name = name;
    }

    public double getSalary()
    {
        return salary;
    }

    public void setSalary(double salary)
    {
        hasvalueforsalary = true;
        this.salary = salary;
    }

    public List<email> getEmails()
    {
        return emails;
    }

    public void setEmails(List<email> emails)
    {
        this.emails = emails;
    }

    public Set<employeetitles> getJobnames()
    {
        return jobnames;
    }

    public void setJobnames(Set<employeetitles> jobnames)
    {
        this.jobnames = jobnames;
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;/details&gt;

We finished our work with the Employee model. Now to work with the other side, Job Titles. Since we have declared Employees to be our driving table, JobTitles is much easier

<details>
<summary>Expand to see the code changes for models.JobTitle</summary>

<p>Replace the following ManyToMany Relationship</p>

<pre><code class="language-JAVA">
    @ManyToMany(mappedBy = "jobtitles")
    @JsonIgnoreProperties(value = "jobtitles",
        allowSetters = true)
    private List<employee> employees = new ArrayList&lt;&gt;();
&lt;/code&gt;&lt;/pre&gt;

<p>With the OneToMany Relationship</p>

<pre><code class="language-JAVA">
    /*
     * jobname is the field from EmployeeTitles
     * CascadeType.ALL says that when we add, update, delete an Job Title record, have that affect jobname in EmployeeTitle.
     * Notice that in EmployeeTitle there is no cascade option. This way manipulating an JobTitle record only affects
     * the EmployeeTitle join table but does not affect the Employee table.
     */
    @OneToMany(mappedBy = "jobname",
        cascade = CascadeType.ALL)
    /*
     * When displaying EmployeeTitles from the JobTitle class, do not display the Job Title again.
     * However do allow for data to be added to the jobname field in EmployeeTitles
     */
    @JsonIgnoreProperties(value = "jobname",
        allowSetters = true)
    /*
     * We know all of this works with EmployeeTitles because that is the class of the field name that making the One To Many relationship!
     * This array contains the list of EmployeeTitles assigned to this Job Title
     */
    private Set<employeetitles> empnames = new HashSet&lt;&gt;();
&lt;/code&gt;&lt;/pre&gt;

<p>Replace these Getters and Setters</p>

<pre><code class="language-JAVA">
    public List<employee> getEmployees()
    {
        return employees;
    }

    public void setEmployees(List<employee> employees)
    {
        this.employees = employees;
    }
&lt;/code&gt;&lt;/pre&gt;

<p>With ones that work with the new fields</p>

<pre><code class="language-JAVA">
    public Set<employeetitles> getEmpnames()
    {
        return empnames;
    }

    public void setEmpnames(Set<employeetitles> empnames)
    {
        this.empnames = empnames;
    }
&lt;/code&gt;&lt;/pre&gt;

&lt;/details&gt;

<details>
<summary>Expand to see the full models.JobTitles class incorporating all changes</summary>

<pre><code class="language-JAVA">
package com.lambdaschool.sampleemps.models;

import com.fasterxml.jackson.annotation.JsonIgnoreProperties;

import javax.persistence.CascadeType;
import javax.persistence.Entity;
import javax.persistence.GeneratedValue;
import javax.persistence.GenerationType;
import javax.persistence.Id;
import javax.persistence.ManyToMany;
import javax.persistence.OneToMany;
import javax.persistence.Table;
import java.util.HashSet;
import java.util.Set;

@Entity
@Table(name = "jobtitles")
public class JobTitle
{
    @Id // The primary key
    @GeneratedValue(strategy = GenerationType.AUTO) // We will let the database decide how to generate it
    private long jobtitleid; // long so we can have many rows

    private String title;

    /*
     * jobname is the field from EmployeeTitles
     * CascadeType.ALL says that when we add, update, delete an Job Title record, have that affect jobname in EmployeeTitle.
     * Notice that in EmployeeTitle there is no cascade option. This way manipulating an JobTitle record only affects
     * the EmployeeTitle join table but does not affect the Employee table.
     */
    @OneToMany(mappedBy = "jobname",
            cascade = CascadeType.ALL)
    /*
     * When displaying EmployeeTitles from the JobTitle class, do not display the Job Title again.
     * However do allow for data to be added to the jobname field in EmployeeTitles
     */
    @JsonIgnoreProperties(value = "jobname",
            allowSetters = true)
    /*
     * We know all of this works with EmployeeTitles because that is the class of the field name that making the One To Many relationship!
     * This array contains the list of EmployeeTitles assigned to this Job Title
     */
    private Set<employeetitles> empnames = new HashSet&lt;&gt;();

    public JobTitle()
    {
        // the default constructor is required by the JPA
    }

    public long getJobtitleid()
    {
        return jobtitleid;
    }

    public void setJobtitleid(long jobtitleid)
    {
        this.jobtitleid = jobtitleid;
    }

    public String getTitle()
    {
        return title;
    }

    public void setTitle(String title)
    {
        this.title = title;
    }

    public Set<employeetitles> getEmpnames()
    {
        return empnames;
    }

    public void setEmpnames(Set<employeetitles> empnames)
    {
        this.empnames = empnames;
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;/details&gt;

We also have to make some changes to the `EmployeeServiceImpl`. See code below. Comments describe changes.

<details>
<summary>Expand to see the the updated methods code for services.EmployeeServiceImpl</summary>

<pre><code class="language-JAVA">
    /******* THE SAVE METHOD ******/
    @Transactional
    @Override
    public Employee save(Employee employee)
    {
        Employee newEmployee = new Employee();

        if (employee.getEmployeeid() != 0)
        {
            employeerepos.findById(employee.getEmployeeid())
                    .orElseThrow(() -&gt; new EntityNotFoundException("Employee " + employee.getEmployeeid() + " Not Found"));

            newEmployee.setEmployeeid(employee.getEmployeeid());
        }

        newEmployee.setName(employee.getName());
        newEmployee.setSalary(employee.getSalary());

        // ***** changing this code to adjust to the new model
        newEmployee.getJobnames()
                .clear();
        for (EmployeeTitles jt : employee.getJobnames())
        {
            JobTitle newJT = jtrepos.findById(jt.getJobname()
                                                      .getJobtitleid())
                    .orElseThrow(() -&gt; new EntityNotFoundException("JobTitle " + jt.getJobname()
                            .getJobtitleid() + " Not Found"));

            // yes I just hard coded a manager!
            newEmployee.getJobnames()
                    .add(new EmployeeTitles(newEmployee, newJT, "Stumps"));
        }
        // ***** changing the above code to adjust to the new model

        newEmployee.getEmails()
                .clear();
        for (Email e : employee.getEmails())
        {
            Email newEmail = new Email();
            newEmail.setEmail(e.getEmail());
            newEmail.setEmployee(newEmployee);

            newEmployee.getEmails()
                    .add(newEmail);
        }
        return employeerepos.save(newEmployee);
    }
</code></pre>

<pre><code class="language-JAVA">
    /******* THE UPDATE METHOD *******/
    @Transactional
    @Override
    public Employee update(
            Employee employee,
            long employeeid)
    {
        Employee currentEmployee = employeerepos.findById(employeeid)
                .orElseThrow(() -&gt; new EntityNotFoundException("Employee " + employeeid + " Not Found"));

        if (employee.getName() != null)
        {
            currentEmployee.setName(employee.getName());
        }

        if (employee.hasvalueforsalary)
        {
            currentEmployee.setSalary(employee.getSalary());
        }

        // changing this code to adjust to the new model
        currentEmployee.getJobnames()
                .clear();
        for (EmployeeTitles jt : employee.getJobnames())
        {
            JobTitle newJT = jtrepos.findById(jt.getJobname()
                                                      .getJobtitleid())
                    .orElseThrow(() -&gt; new EntityNotFoundException("JobTitle " + jt.getJobname()
                            .getJobtitleid() + " Not Found"));

            // yes I just hard coded a manager!
            currentEmployee.getJobnames()
                    .add(new EmployeeTitles(currentEmployee, newJT, "Stumps"));
        }
        // changing the above code to adjust to the new model

        if (employee.getEmails()
                .size() &gt; 0)
        {
            currentEmployee.getEmails()
                    .clear();
            for (Email e : employee.getEmails())
            {
                Email newEmail = new Email();
                newEmail.setEmail(e.getEmail());
                newEmail.setEmployee(currentEmployee);

                currentEmployee.getEmails()
                        .add(newEmail);
            }
        }

        return employeerepos.save(currentEmployee);
    }
</code></pre>

</details>

Remember the controllers do NOT change!!!
</employeetitles></employeetitles></employeetitles></code></pre></details></employeetitles></employeetitles></code></pre></employee></employee></code></pre></employeetitles></code></pre></employee></code></pre></details></employeetitles></employeetitles></email></email></email></employeetitles></code></pre></details></employeetitles></employeetitles></code></pre></jobtitle></jobtitle></code></pre></employeetitles></code></pre></jobtitle></code></pre></details>
<h5>Dig Deeper</h5>
<ul>
<li>
<a href="https://vladmihalcea.com/the-best-way-to-map-a-many-to-many-association-with-extra-columns-when-using-jpa-and-hibernate/" target="blank_">Many-to-Many Association</a><br> The best way to map a many-to-many association with extra columns when using JPA and Hibernate</li>
<li>
<a href="https://hellokoding.com/jpa-many-to-many-extra-columns-relationship-mapping-example-with-spring-boot-maven-and-mysql/" target="blank_">Many To Many Extra Columns Relationship</a><br> JPA and Hibernate Many To Many Extra Columns Relationship Mapping Example with Spring Boot and MySQL</li>
</ul>
<hr>
<h4 class="mark mb-3 p-2">Learn to add standard auditing fields to each table</h4>
<p><a id="Adding_Audit_Fields"></a></p>
<h5>Overview</h5>
<ul>
<li>See the Github Repository <a href="https://github.com/LambdaSchool/java-sampleemps.git">https://github.com/LambdaSchool/java-sampleemps.git/sampleemps_data_modeling</a>t for the code used in the objective.</li>
</ul>
<h3 id="software-needed">Software Needed</h3>
<ul>
<li>Java Development Kit (JDK) - at least version 11</li>
<li>JetBrains IntelliJ IDEA IDE</li>
<li>Postman</li>
</ul>
<p>A very common extra set of columns that are added to tables are auditing columns.</p>
<ul>
<li>Who created the row</li>
<li>When was the row created</li>
<li>Who last modified the row</li>
<li>When was the row last modified</li>
</ul>
<p>These are so common that the Spring Framework provides us with JPA Auditing Annotations. We just need to implement them as we desire. Here is the common approach:</p>
<p>A note on the fields</p>
<ul>
<li>The When fields, data and time, will be read from the system date and time</li>
<li>The Who fields, username, for now will default to something. We will be adding user authentication in the future and that is when these fields will really show their worth!</li>
</ul>
<h5>Follow Along</h5>
<p>Let’s continue taking the repo <a href="https://github.com/LambdaSchool/java-sampleemps.git">https://github.com/LambdaSchool/java-sampleemps.git/sampleemps_create_delete_update</a>t and transforming it into the repo <a href="https://github.com/LambdaSchool/java-sampleemps.git">https://github.com/LambdaSchool/java-sampleemps.git/sampleemps_data_modeling</a>t step by step!</p>
<p>We are going to add these auditing fields to each table. Let’s first create a new Abstract Class that contains these audit fields. Take special notice of the comments around the annotations. This is boilerplate code. This abstract class can normally be added as is to any Java Spring application where you wish to implement audit fields.</p>
<details>
<summary>Expand to see the new abstract class models.Auditable</summary>
<pre><code class="language-JAVA">

import org.springframework.data.annotation.CreatedBy;
import org.springframework.data.annotation.CreatedDate;
import org.springframework.data.annotation.LastModifiedBy;
import org.springframework.data.annotation.LastModifiedDate;
import org.springframework.data.jpa.domain.support.AuditingEntityListener;

import javax.persistence.EntityListeners;
import javax.persistence.MappedSuperclass;
import javax.persistence.Temporal;
import java.util.Date;

import static javax.persistence.TemporalType.TIMESTAMP;

/**
 * Abstract class that adds standard auditing fields to tables that extend it
 *
 * @MappedSuperclass - Since relational databases do not support inheritance,
 * Spring Boot provides a way to say that this class is a "parent" class whose fields will be included in the child class.
 * The child class is the one that forms the entity for the database.
 * @EntityListeners - When an entity is accessed by the Spring Framework, the argument of the Entity Listener annotation is fired.
 * Thus this annotation is "listening" for when an entity is accessed and then performs its argument.
 * AuditingEntityListener.class - The class that captures the data for and updates the annotations used in auditing -
 * CreatedBy, CreatedDate, ModifiedBy, ModifiedDate
 */
@MappedSuperclass
@EntityListeners(AuditingEntityListener.class)
abstract class Auditable
{
    /**
     * String field containing the username of who created this row
     */
    @CreatedBy
    protected String createdBy;

    /**
     * Date field containing the date and time when the row was created
     * <p>
     * Temporal(TIMESTAMP) - Sets the precision of the date being saved. In this case Date and Time
     */
    @CreatedDate
    @Temporal(TIMESTAMP)
    protected Date createdDate;

    /**
     * String field containing the username of who last modified this row
     */
    @LastModifiedBy
    protected String lastModifiedBy;

    /**
     * Date field containing the data and time when the row was last modified
     * </p>
<p>
     * Temporal(TIMESTAMP) - Sets the precision of the date being saved. In this case Date and Time
     */
    @LastModifiedDate
    @Temporal(TIMESTAMP)
    protected Date lastModifiedDate;
}

&lt;/code&gt;&lt;/pre&gt;

&lt;/details&gt;

For each table where we want auditing fields, we just have its class extend the class Auditable and we have auditing fields! So for example the class header for the Employee class becomes

```JAVA
public class Employee extends Auditable
```

And yes you can implement an interface and extend an abstract class in the same header. So, the class header for EmployeeTitles becomes

```JAVA
public class EmployeeTitles extends Auditable implements Serializable
```

Note that order matters. You do have to extend the abstract class BEFORE implementing the interfaces.

We need to make sure we extends Auditable for all of the modules.

We still have a couple of more steps. First, we need to tell the auditing function where to find the username. We do this by implementing the interface `AuditorAware` - so the auditing functions is aware of the username! Create a new class in `Services` called `UserAuditing`. Remember for now we are simply defaulting the username to something, in our case ***SYSTEM***. Later we will be adding authenticated users to our applications. Then this will make more sense! And again this is boilerplate code that can be used without modification in most Java Spring applications!

<details>
<summary>Expand to see the new services.UserAuditing</summary>

<pre><code class="language-JAVA">

package com.lambdaschool.usermodel.services;

import org.springframework.data.domain.AuditorAware;
import org.springframework.stereotype.Component;

import java.util.Optional;

/**
 * Spring Boot needs to know what username to use for the auditing fields CreatedBy and ModifiedBy
 * For now, a default name will be used
 */
@Component
public class UserAuditing implements AuditorAware<string>
{
    /**
     * The current user
     *
     * @return Optional(String) of current user
     */
    @Override
    public Optional<string> getCurrentAuditor()
    {
        String uname;
        uname = "SYSTEM";
        return Optional.of(uname);
    }
}

&lt;/code&gt;&lt;/pre&gt;

&lt;/details&gt;

And finally the step most people forget! We did all this work and now we need to "turn on" the auditing function! Add the annotation `@EnableJpaAuditing` to our main class. So our class `SampleempsApplication` now looks like the following

<details>
<summary>Expand to see the finished main class SampleempsApplication</summary>

<pre><code class="language-JAVA">

package com.lambdaschool.sampleemps;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.data.jpa.repository.config.EnableJpaAuditing;

@EnableJpaAuditing
@SpringBootApplication
public class SampleempsApplication
{

    public static void main(String[] args)
    {
        SpringApplication.run(SampleempsApplication.class,
            args);
    }

}

</code></pre>

</details>
</string></string></code></pre></details></p></code></pre></details>
<h5>Dig Deeper</h5>
<ul>
<li>
<a href="https://medium.com/@manika09singh/enable-auditing-using-spring-data-jpa-2f62587ccb23" target="blank_">Enable auditing</a><br> Enable auditing using Spring Data JPA</li>
<li>
<a href="https://dzone.com/articles/spring-data-jpa-auditing-automatically-the-good-stuff" target="blank_">Spring Data JPA Auditing</a><br> Spring Data JPA Auditing: Automatically Saving the Good Stuff. Most closely follows our plan</li>
<li>
<a href="https://www.baeldung.com/database-auditing-jpa" target="blank_">Baeldung</a><br> Baeldung - Auditing with JPA, Hibernate, and Spring Data JPA</li>

<li>
<a href="https://www.baeldung.com/hibernate-inheritance" target="blank_">Baeldung</a><br> Baeldung - MappedSuperclass</li>
</ul>
<hr>
<h4 class="mark mb-3 p-2">Learn to populate and display standard auditing fields</h4>
<p><a id="Using_Audit_Fields"></a></p>
<h5>Overview</h5>
<ul>
<li>See the Github Repository <a href="https://github.com/LambdaSchool/java-sampleemps.git">https://github.com/LambdaSchool/java-sampleemps.git/sampleemps_data_modeling</a> for the code used in the objective.</li>
</ul>
<h3 id="software-needed">Software Needed</h3>
<ul>
<li>Java Development Kit (JDK) - at least version 11</li>
<li>JetBrains IntelliJ IDEA IDE</li>
<li>Postman</li>
</ul>
<p>We are using Spring Data and JPA to populate our SeedData. We have extended Auditable for all our tables. We have enabled JPA Auditing in our main class. We run our application and get the following</p>
<details>
<summary>Expand to see http://localhost:2019/employees/employees</summary>
<pre><code class="language-JSON">

[
    {
        "employeeid": 3,
        "name": "CINNAMON",
        "salary": 80000.0,
        "jobnames": [
            {
                "jobname": {
                    "jobtitleid": 1,
                    "title": "Big Boss"
                },
                "manager": "MOJO"
            },
            {
                "jobname": {
                    "jobtitleid": 2,
                    "title": "Wizard"
                },
                "manager": "STUBS"
            }
        ],
        "emails": [
            {
                "emailid": 4,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="492126393a0925262a2825672a2624">[email&#160;protected]</a>"
            },
            {
                "emailid": 5,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="cba9bea5a5b28ba3a4bbbba2a5e5a7a4a8aaa7">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "employeeid": 6,
        "name": "BARNBARN",
        "salary": 80000.0,
        "jobnames": [
            {
                "jobname": {
                    "jobtitleid": 1,
                    "title": "Big Boss"
                },
                "manager": "STUBS"
            }
        ],
        "emails": [
            {
                "emailid": 7,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="7d1f1c0f131f1c0f133d11121e1c11531e1210">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "employeeid": 8,
        "name": "JOHN",
        "salary": 75000.0,
        "jobnames": [
            {
                "jobname": {
                    "jobtitleid": 1,
                    "title": "Big Boss"
                },
                "manager": "MOJO"
            }
        ],
        "emails": []
    },
    {
        "employeeid": 9,
        "name": "Detra Nolan",
        "salary": 144432.77313869854,
        "jobnames": [],
        "emails": [
            {
                "emailid": 10,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="fa909b9793d4899992949f939e9f88ba9d979b9396d4999597">[email&#160;protected]</a>"
            },
            {
                "emailid": 11,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="a6c1d3cfcacac3d4cbc988d5cbcfd2cec7cbe6c1cbc7cfca88c5c9cb">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "employeeid": 12,
        "name": "Miss Barrie Lockman",
        "salary": 129601.33401646325,
        "jobnames": [],
        "emails": [
            {
                "emailid": 13,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="a3d7cbc2c78dc0c2d0d3c6d1e3c4cec2cacf8dc0ccce">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "employeeid": 14,
        "name": "Lonna Larson",
        "salary": 140194.20054205784,
        "jobnames": [],
        "emails": [
            {
                "emailid": 15,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="c3a2ada4a6afedb1a6aaa0aba6b1b783a4aea2aaafeda0acae">[email&#160;protected]</a>"
            },
            {
                "emailid": 16,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="3d565c4f52514453135f4f4858537d445c555252135e5250">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "employeeid": 17,
        "name": "Parker Marquardt",
        "salary": 85592.60933164599,
        "jobnames": [],
        "emails": [
            {
                "emailid": 18,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="a1c9cec3c4d3d58fccc0d8c4d3e1d8c0c9cece8fc2cecc">[email&#160;protected]</a>"
            },
            {
                "emailid": 19,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="6f1d0a060b411d1a1b070a1d09001d0b2f08020e0603410c0002">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "employeeid": 20,
        "name": "Nicolle Zemlak",
        "salary": 133865.34843281,
        "jobnames": [],
        "emails": [
            {
                "emailid": 21,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="aadbdfd3cfc484c5c4ced8c3c9c1cbead3cbc2c5c584c9c5c7">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "employeeid": 22,
        "name": "Mrs. Man Skiles",
        "salary": 137968.11706319422,
        "jobnames": [],
        "emails": []
    },
    {
        "employeeid": 23,
        "name": "Maryam Gorczany",
        "salary": 131355.17892474588,
        "jobnames": [],
        "emails": [
            {
                "emailid": 24,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="0d667f647e7964236f626a6c634d6a606c6461236e6260">[email&#160;protected]</a>"
            },
            {
                "emailid": 25,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="d3beb2a1babfb6b6fda3b2b7b1b6a1b493aab2bbbcbcfdb0bcbe">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "employeeid": 26,
        "name": "Mrs. Otha Wolff",
        "salary": 72941.15016509876,
        "jobnames": [],
        "emails": [
            {
                "emailid": 27,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="ceafbca7aba2e0afbca3bdbabca1a0a98eb7afa6a1a1e0ada1a3">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "employeeid": 28,
        "name": "Derek Goodwin",
        "salary": 54903.90938516596,
        "jobnames": [],
        "emails": [
            {
                "emailid": 29,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="681a071b1b46000d09060d11281109000707460b0705">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "employeeid": 30,
        "name": "Elvie Bruen DDS",
        "salary": 64201.385303591815,
        "jobnames": [],
        "emails": [
            {
                "emailid": 31,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b9dbdcd7dcddd0dacd97d2d0d1d7f9ded4d8d0d597dad6d4">[email&#160;protected]</a>"
            },
            {
                "emailid": 32,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="ddbfafb8bcb3b3bcf3aea9bcb0b09dbab0bcb4b1f3beb2b0">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "employeeid": 33,
        "name": "Merry Towne",
        "salary": 131025.27828143144,
        "jobnames": [],
        "emails": [
            {
                "emailid": 34,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="d3b9b6a1b6fdbfb6a0b0bb93aab2bbbcbcfdb0bcbe">[email&#160;protected]</a>"
            },
            {
                "emailid": 35,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="d9bab8b7bdb0babcf7b3b6b7bcaa99a0b8b1b6b6f7bab6b4">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "employeeid": 36,
        "name": "Candie Boehm",
        "salary": 120093.44263973452,
        "jobnames": [],
        "emails": []
    },
    {
        "employeeid": 37,
        "name": "Jacinto Kling",
        "salary": 53328.48647559756,
        "jobnames": [],
        "emails": [
            {
                "emailid": 38,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="0b796a72667e656f64256c7962666e784b6c666a626725686466">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "employeeid": 39,
        "name": "Dr. Sabina Schinner",
        "salary": 75510.48275117637,
        "jobnames": [],
        "emails": [
            {
                "emailid": 40,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="6d0c03030c431d020101040e052d140c050202430e0200">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "employeeid": 41,
        "name": "Windy Brakus",
        "salary": 104716.05351840358,
        "jobnames": [],
        "emails": [
            {
                "emailid": 42,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="314245505254481f455443434871595e455c50585d1f525e5c">[email&#160;protected]</a>"
            },
            {
                "emailid": 43,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="553b3c363a39347b323a2c30212130153d3a2138343c397b363a38">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "employeeid": 44,
        "name": "Emanuel Daugherty",
        "salary": 99774.54071602612,
        "jobnames": [],
        "emails": [
            {
                "emailid": 45,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="caa8b8afa4bea5a4e4adbfbea1a5bdb9a1a38aa2a5bea7aba3a6e4a9a5a7">[email&#160;protected]</a>"
            },
            {
                "emailid": 46,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="87f5eee4eca9e8efe6f5e6c7fee6efe8e8a9e4e8ea">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "employeeid": 47,
        "name": "Lorrie Swaniawski",
        "salary": 67203.81626286106,
        "jobnames": [],
        "emails": [
            {
                "emailid": 48,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="771105121312051e141659051813051e1002120d371f18031a161e1b5914181a">[email&#160;protected]</a>"
            },
            {
                "emailid": 49,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="543a353a7a2735213126143c3b2039353d387a373b39">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "employeeid": 50,
        "name": "Randolph Schmeler",
        "salary": 115544.93884702613,
        "jobnames": [],
        "emails": []
    },
    {
        "employeeid": 51,
        "name": "Collen Gerhold",
        "salary": 79692.67702221699,
        "jobnames": [],
        "emails": [
            {
                "emailid": 52,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="f3909b9c9d94dd9f968680909b9896b39b9c879e929a9fdd909c9e">[email&#160;protected]</a>"
            },
            {
                "emailid": 53,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="c1aca0b3a8b2a4ada0efa9aeb6a4adad81a6aca0a8adefa2aeac">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "employeeid": 54,
        "name": "Maris Kertzmann",
        "salary": 98830.45420054544,
        "jobnames": [],
        "emails": []
    },
    {
        "employeeid": 55,
        "name": "Josh Veum",
        "salary": 142356.39293671085,
        "jobnames": [],
        "emails": [
            {
                "emailid": 56,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="700415151e115e12021f071e30181f041d11191c5e131f1d">[email&#160;protected]</a>"
            },
            {
                "emailid": 57,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="4c3823286226293e28290c242338212d2520622f2321">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "employeeid": 58,
        "name": "Miss Myles Rogahn",
        "salary": 71239.88988749337,
        "jobnames": [],
        "emails": [
            {
                "emailid": 59,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="0a6e6b78786f6624786b7e624a6d676b636624696567">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "employeeid": 60,
        "name": "Olympia Price DVM",
        "salary": 138789.6295924195,
        "jobnames": [],
        "emails": [
            {
                "emailid": 61,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="3b5952575715534e5e577b53544f565a525715585456">[email&#160;protected]</a>"
            },
            {
                "emailid": 62,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="c9a1a8bbbfacb0e7a7a0a2a6a5a8bcba89aea4a8a0a5e7aaa6a4">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "employeeid": 63,
        "name": "Tobie Wiza DDS",
        "salary": 50346.56949114981,
        "jobnames": [],
        "emails": [
            {
                "emailid": 64,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="04696576706c652a666b766176446369656d682a676b69">[email&#160;protected]</a>"
            },
            {
                "emailid": 65,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e1898e8d8d8892cf8e9384888d8d98a1898e958c80888dcf828e8c">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "employeeid": 66,
        "name": "Raymond Zboncak",
        "salary": 85188.22224334985,
        "jobnames": [],
        "emails": [
            {
                "emailid": 67,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="6c0f040d1e000d420403090b091e2c0b010d0500420f0301">[email&#160;protected]</a>"
            }
        ]
    }
]

</code></pre>
</details>
<p>So where are the auditing fields??? We have not set up Getters for them so they do not appear in the JSON! If that is what we want, and often it is, then we are fine. As you see below the auditing fields are still in the database but do not crowd out the rest of the data in the JSON.</p>
<p><img src="https://lambdaschool.github.io/java-curriculum-assets/Sprint%2011%20-%20Java%20with%20RDBMS%20and%20API%20Intros/Module%204%20-%20JX%20Java%20-%20Data%20Modeling%20and%20Auditing%20Fields%20with%20custom%20querying/assets/JX-SP11-M4-06.png" alt="Auditing Fields"></p>
<p>Let’s say we do want to have the auditing fields appear in the JSON. This is simple a matter of adding the right Getters to the right spot!</p>
<h3 id="displaying-auditing-fields-for-all-tables">Displaying Auditing fields for all tables</h3>
<p>Let’s say you want auditing data on all the tables. Simply add Getters to your abstract class. No need to add setters. They are never used. JPA Auditing does its own thing. With the Getters added to your abstract class, your new output is</p>
<details>
<summary>Expand to see http://localhost:2019/employees/employees with auditing data</summary>
<pre><code class="language-JSON">

[
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-20T22:17:25.478+0000",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-20T22:17:25.478+0000",
        "employeeid": 3,
        "name": "CINNAMON",
        "salary": 80000.0,
        "jobnames": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:25.485+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:25.485+0000",
                "jobname": {
                    "createdBy": "SYSTEM",
                    "createdDate": "2020-03-20T22:17:25.453+0000",
                    "lastModifiedBy": "SYSTEM",
                    "lastModifiedDate": "2020-03-20T22:17:25.453+0000",
                    "jobtitleid": 1,
                    "title": "Big Boss"
                },
                "manager": "MOJO"
            },
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:25.486+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:25.486+0000",
                "jobname": {
                    "createdBy": "SYSTEM",
                    "createdDate": "2020-03-20T22:17:25.472+0000",
                    "lastModifiedBy": "SYSTEM",
                    "lastModifiedDate": "2020-03-20T22:17:25.472+0000",
                    "jobtitleid": 2,
                    "title": "Wizard"
                },
                "manager": "STUBS"
            }
        ],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:25.482+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:25.482+0000",
                "emailid": 4,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="c7afa8b7b487aba8a4a6abe9a4a8aa">[email&#160;protected]</a>"
            },
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:25.483+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:25.483+0000",
                "emailid": 5,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="1e7c6b7070675e76716e6e77703072717d7f72">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-20T22:17:25.487+0000",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-20T22:17:25.487+0000",
        "employeeid": 6,
        "name": "BARNBARN",
        "salary": 80000.0,
        "jobnames": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:25.488+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:25.488+0000",
                "jobname": {
                    "createdBy": "SYSTEM",
                    "createdDate": "2020-03-20T22:17:25.453+0000",
                    "lastModifiedBy": "SYSTEM",
                    "lastModifiedDate": "2020-03-20T22:17:25.453+0000",
                    "jobtitleid": 1,
                    "title": "Big Boss"
                },
                "manager": "STUBS"
            }
        ],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:25.487+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:25.487+0000",
                "emailid": 7,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="0d6f6c7f636f6c7f634d61626e6c61236e6260">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-20T22:17:25.489+0000",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-20T22:17:25.489+0000",
        "employeeid": 8,
        "name": "JOHN",
        "salary": 75000.0,
        "jobnames": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:25.489+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:25.489+0000",
                "jobname": {
                    "createdBy": "SYSTEM",
                    "createdDate": "2020-03-20T22:17:25.453+0000",
                    "lastModifiedBy": "SYSTEM",
                    "lastModifiedDate": "2020-03-20T22:17:25.453+0000",
                    "jobtitleid": 1,
                    "title": "Big Boss"
                },
                "manager": "MOJO"
            }
        ],
        "emails": []
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-20T22:17:26.150+0000",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-20T22:17:26.150+0000",
        "employeeid": 9,
        "name": "Morgan Padberg",
        "salary": 59651.38167324421,
        "jobnames": [],
        "emails": []
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-20T22:17:26.163+0000",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-20T22:17:26.163+0000",
        "employeeid": 10,
        "name": "Otilia Hermann",
        "salary": 146191.82553753187,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:26.164+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:26.164+0000",
                "emailid": 11,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="365754544f185b5945555f455d5f764f575e59591855595b">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-20T22:17:26.164+0000",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-20T22:17:26.164+0000",
        "employeeid": 12,
        "name": "Ivana Reilly",
        "salary": 90785.68084079534,
        "jobnames": [],
        "emails": []
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-20T22:17:26.165+0000",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-20T22:17:26.165+0000",
        "employeeid": 13,
        "name": "Miss Malcolm Ebert",
        "salary": 112739.41455363025,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:26.166+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:26.166+0000",
                "emailid": 14,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="c8aba9b8baa1abade6a4a9a6af88b1a9a0a7a7e6aba7a5">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-20T22:17:26.167+0000",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-20T22:17:26.167+0000",
        "employeeid": 15,
        "name": "Ryan Powlowski",
        "salary": 99280.17831156368,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:26.167+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:26.167+0000",
                "emailid": 16,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="1b69727870356b697e7f746d72785b627a73747435787476">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-20T22:17:26.168+0000",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-20T22:17:26.168+0000",
        "employeeid": 17,
        "name": "Hayden Ziemann",
        "salary": 127429.51939176352,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:26.169+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:26.169+0000",
                "emailid": 18,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="0a6b646e786f7924676b6d6d63654a736b62656524696567">[email&#160;protected]</a>"
            },
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:26.169+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:26.169+0000",
                "emailid": 19,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="97fdf8e4f2b9fcf2f2fbfef9f0d7eef6fff8f8b9f4f8fa">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-20T22:17:26.170+0000",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-20T22:17:26.170+0000",
        "employeeid": 20,
        "name": "Whitney Corwin",
        "salary": 112279.40911064125,
        "jobnames": [],
        "emails": []
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-20T22:17:26.170+0000",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-20T22:17:26.170+0000",
        "employeeid": 21,
        "name": "Ms. Brigette Lang",
        "salary": 50357.87636437282,
        "jobnames": [],
        "emails": []
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-20T22:17:26.171+0000",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-20T22:17:26.171+0000",
        "employeeid": 22,
        "name": "Terry Dietrich",
        "salary": 143174.4005789744,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:26.172+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:26.172+0000",
                "emailid": 23,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="83e7ecf6e4efe2f0ade8f6edf9e6c3ebecf7eee2eaefade0ecee">[email&#160;protected]</a>"
            },
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:26.172+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:26.172+0000",
                "emailid": 24,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="c3a0aba2a6eda7acacafa6ba83baa2abacaceda0acae">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-20T22:17:26.173+0000",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-20T22:17:26.173+0000",
        "employeeid": 25,
        "name": "Raul Hegmann",
        "salary": 103192.60933759664,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:26.174+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:26.174+0000",
                "emailid": 26,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="74071c1118101b1a5a191b1a151c151a341c1b0019151d185a171b19">[email&#160;protected]</a>"
            },
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:26.174+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:26.174+0000",
                "emailid": 27,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="562f333a333837783b37243d25162f373e39397835393b">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-20T22:17:26.175+0000",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-20T22:17:26.175+0000",
        "employeeid": 28,
        "name": "Dell Schumm",
        "salary": 85938.60881723888,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:26.176+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:26.176+0000",
                "emailid": 29,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="9df9fcf3f3f4f8f1f1f8b3eff8f4fef5f8efe9ddf5f2e9f0fcf4f1b3fef2f0">[email&#160;protected]</a>"
            },
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:26.176+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:26.176+0000",
                "emailid": 30,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="80f4f2eff9aeece9eee4e7f2e5eec0f9e1e8efefaee3efed">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-20T22:17:26.177+0000",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-20T22:17:26.177+0000",
        "employeeid": 31,
        "name": "Miguel Rutherford",
        "salary": 134800.26159867534,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:26.178+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:26.178+0000",
                "emailid": 32,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="c3b4aaafa1a6b1eda0b1acadaaad83a4aea2aaafeda0acae">[email&#160;protected]</a>"
            },
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:26.178+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:26.178+0000",
                "emailid": 33,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="ceada1bca7a0afe0adbba3a3a7a0a9bd8eb7afa6a1a1e0ada1a3">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-20T22:17:26.179+0000",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-20T22:17:26.179+0000",
        "employeeid": 34,
        "name": "Shaunna Gaylord",
        "salary": 112681.8879417092,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:26.180+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:26.180+0000",
                "emailid": 35,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="d5bfbabdbbbcb0fbbea0a1b6bd95acb4bdbabafbb6bab8">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-20T22:17:26.181+0000",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-20T22:17:26.181+0000",
        "employeeid": 36,
        "name": "Miss Rosalia Ratke",
        "salary": 75228.13952859116,
        "jobnames": [],
        "emails": []
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-20T22:17:26.181+0000",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-20T22:17:26.181+0000",
        "employeeid": 37,
        "name": "Eli Wehner Sr.",
        "salary": 129611.27744208522,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:26.182+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:26.182+0000",
                "emailid": 38,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="8de0e8e1e1e4e8a3e5e2e8eae8ffcdeae0ece4e1a3eee2e0">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-20T22:17:26.182+0000",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-20T22:17:26.182+0000",
        "employeeid": 39,
        "name": "Paul Torphy",
        "salary": 97857.13607443846,
        "jobnames": [],
        "emails": []
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-20T22:17:26.183+0000",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-20T22:17:26.183+0000",
        "employeeid": 40,
        "name": "Perry Quigley",
        "salary": 79194.7193774427,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:26.184+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:26.184+0000",
                "emailid": 41,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="55223c393830277b3327343b30363e3c152c343d3a3a7b363a38">[email&#160;protected]</a>"
            },
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:26.184+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:26.184+0000",
                "emailid": 42,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="4c2d20623f2d222a233e280c352d242323622f2321">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-20T22:17:26.185+0000",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-20T22:17:26.185+0000",
        "employeeid": 43,
        "name": "Kristal Mertz",
        "salary": 144056.7071816315,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:26.185+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:26.185+0000",
                "emailid": 44,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e1828d888f958e8fcf96888486808f85a1868c80888dcf828e8c">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-20T22:17:26.186+0000",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-20T22:17:26.186+0000",
        "employeeid": 45,
        "name": "Dustin Goldner MD",
        "salary": 82475.25067220436,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:26.187+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:26.187+0000",
                "emailid": 46,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="482b24293a212b2d662c3d2a3d393d2d083129202727662b2725">[email&#160;protected]</a>"
            },
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:26.187+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:26.187+0000",
                "emailid": 47,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="0d6c6168636c2361626e66606c634d656279606c6461236e6260">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-20T22:17:26.188+0000",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-20T22:17:26.188+0000",
        "employeeid": 48,
        "name": "Max Conn",
        "salary": 128022.53291654705,
        "jobnames": [],
        "emails": []
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-20T22:17:26.188+0000",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-20T22:17:26.188+0000",
        "employeeid": 49,
        "name": "Cruz West",
        "salary": 112855.3673227873,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:26.189+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:26.189+0000",
                "emailid": 50,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="5233203c3d3e363d7c3a333e243d20213d3c123a3d263f333b3e7c313d3f">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-20T22:17:26.189+0000",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-20T22:17:26.189+0000",
        "employeeid": 51,
        "name": "Evelynn Hoeger MD",
        "salary": 67486.15658064265,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:26.190+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:26.190+0000",
                "emailid": 52,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="94e0fbf6edbafffdf1fcfad4fc">[email&#160;protected]</a>otmail.com"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-20T22:17:26.190+0000",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-20T22:17:26.190+0000",
        "employeeid": 53,
        "name": "Eva Koch V",
        "salary": 59287.72498842635,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-20T22:17:26.191+0000",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-20T22:17:26.191+0000",
                "emailid": 54,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="177b6e7376397d767478757e577f78637a767e7b3974787a">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-20T22:17:26.191+0000",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-20T22:17:26.191+0000",
        "employeeid": 55,
        "name": "Geneva Rosenbaum",
        "salary": 146019.0742355405,
        "jobnames": [],
        "emails": []
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-20T22:17:26.192+0000",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-20T22:17:26.192+0000",
        "employeeid": 56,
        "name": "Shawnda Haag",
        "salary": 114196.72669851984,
        "jobnames": [],
        "emails": []
    }
]

</code></pre>
</details>
<p>And the new Auditable class looks like</p>
<details>
<summary>Expand to see models.Auditable with Getters</summary>
<pre><code class="language-JAVA">

package com.lambdaschool.sampleemps.models;

import org.springframework.data.annotation.CreatedBy;
import org.springframework.data.annotation.CreatedDate;
import org.springframework.data.annotation.LastModifiedBy;
import org.springframework.data.annotation.LastModifiedDate;
import org.springframework.data.jpa.domain.support.AuditingEntityListener;

import javax.persistence.EntityListeners;
import javax.persistence.MappedSuperclass;
import javax.persistence.Temporal;
import java.util.Date;

import static javax.persistence.TemporalType.TIMESTAMP;

/**
 * Abstract class that adds standard auditing fields to tables that extend it
 *
 * @MappedSuperclass - Since relational databases do not support inheritance,
 * Spring Boot provides a way to say that this class is a "parent" class whose fields will be included in the child class.
 * The child class is the one that forms the entity for the database.
 * @EntityListeners - When an entity is accessed by the Spring Framework, the argument of the Entity Listener annotation is fired.
 * Thus this annotiation is "listening" for when an entity is accessed and then performs its argument.
 * AuditingEntityListener.class - The class that captures the data for and updates the annotations used in auditing -
 * CreatedBy, CreatedDate, ModifiedBy, ModifiedDate
 */
@MappedSuperclass
@EntityListeners(AuditingEntityListener.class)
abstract class Auditable
{
    /**
     * String field containing the username of who created this row
     */
    @CreatedBy
    protected String createdBy;

    /**
     * Date field containing the date and time when the row was created
     * <p>
     * Temporal(TIMESTAMP) - Sets the precision of the date being saved. In this case Date and Time
     */
    @CreatedDate
    @Temporal(TIMESTAMP)
    protected Date createdDate;

    /**
     * String field containing the username of who last modified this row
     */
    @LastModifiedBy
    protected String lastModifiedBy;

    /**
     * Date field containing the data and time when the row was last modified
     * </p>
<p>
     * Temporal(TIMESTAMP) - Sets the precision of the date being saved. In this case Date and Time
     */
    @LastModifiedDate
    @Temporal(TIMESTAMP)
    protected Date lastModifiedDate;

    public String getCreatedBy()
    {
        return createdBy;
    }

    public Date getCreatedDate()
    {
        return createdDate;
    }

    public String getLastModifiedBy()
    {
        return lastModifiedBy;
    }

    public Date getLastModifiedDate()
    {
        return lastModifiedDate;
    }
}

&lt;/code&gt;&lt;/pre&gt;

&lt;/details&gt;

### Displaying only specific auditing fields

Let's say you want to display when an employee was added to the database. You do not wish to display any other audit fields. This is a very common business practice. To do this

- DO NOT ADD GETTERS TO AUDITABLE
- Just add the getter you want to the table where you want it to be displayed
- You will have to manually enter the code. IntelliJ does not offer generating getters for fields inherited from abstract classes

So in our example, add the following getter to models.Employee.

```JAVA
    public Date getCreatedDate()
    {
        return createdDate;
    }
```

And now you get the following data displaying only the creation date of the employee from the list of audit fields.

<details>
<summary>Expand to see http://localhost:2019/employees/employees with specific auditing data</summary>

<pre><code class="language-JSON">

[
    {
        "createdDate": "2020-03-20T21:29:45.786+0000",
        "employeeid": 3,
        "name": "CINNAMON",
        "salary": 80000.0,
        "jobnames": [
            {
                "jobname": {
                    "jobtitleid": 1,
                    "title": "Big Boss"
                },
                "manager": "MOJO"
            },
            {
                "jobname": {
                    "jobtitleid": 2,
                    "title": "Wizard"
                },
                "manager": "STUBS"
            }
        ],
        "emails": [
            {
                "emailid": 4,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="8de5e2fdfecde1e2eeece1a3eee2e0">[email&#160;protected]</a>"
            },
            {
                "emailid": 5,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="5d3f283333241d35322d2d34337331323e3c31">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdDate": "2020-03-20T21:29:45.794+0000",
        "employeeid": 6,
        "name": "BARNBARN",
        "salary": 80000.0,
        "jobnames": [
            {
                "jobname": {
                    "jobtitleid": 1,
                    "title": "Big Boss"
                },
                "manager": "STUBS"
            }
        ],
        "emails": [
            {
                "emailid": 7,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="1c7e7d6e727e7d6e725c70737f7d70327f7371">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdDate": "2020-03-20T21:29:45.796+0000",
        "employeeid": 8,
        "name": "JOHN",
        "salary": 75000.0,
        "jobnames": [
            {
                "jobname": {
                    "jobtitleid": 1,
                    "title": "Big Boss"
                },
                "manager": "MOJO"
            }
        ],
        "emails": []
    },
    {
        "createdDate": "2020-03-20T21:29:46.506+0000",
        "employeeid": 9,
        "name": "Rubin Pagac",
        "salary": 79515.58894383968,
        "jobnames": [],
        "emails": [
            {
                "emailid": 10,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="6f0e030d0a1d1b41070a060b0a011d0a060c072f07001b020e0603410c0002">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdDate": "2020-03-20T21:29:46.507+0000",
        "employeeid": 11,
        "name": "Michale Rolfson Sr.",
        "salary": 57586.73563954353,
        "jobnames": [],
        "emails": []
    },
    {
        "createdDate": "2020-03-20T21:29:46.508+0000",
        "employeeid": 12,
        "name": "Waylon Dietrich",
        "salary": 63661.47659095831,
        "jobnames": [],
        "emails": [
            {
                "emailid": 13,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="c9babdacafa8a7a0a8e7afbba0bdbaaaa189aea4a8a0a5e7aaa6a4">[email&#160;protected]</a>"
            },
            {
                "emailid": 14,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e3808b82918f869acd918c90868d8182968ea38b8c978e828a8fcd808c8e">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdDate": "2020-03-20T21:29:46.509+0000",
        "employeeid": 15,
        "name": "Miss Lourie Lesch",
        "salary": 98282.89816430255,
        "jobnames": [],
        "emails": [
            {
                "emailid": 16,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="8de1e8e0f8e8e1a3fff8e8eee6e8ffcde5e2f9e0ece4e1a3eee2e0">[email&#160;protected]</a>"
            },
            {
                "emailid": 17,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="d7b2a5beb4bcf9babebbbbb2a597bfb8a3bab6bebbf9b4b8ba">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdDate": "2020-03-20T21:29:46.511+0000",
        "employeeid": 18,
        "name": "Mahalia Lueilwitz",
        "salary": 55116.17813966383,
        "jobnames": [],
        "emails": [
            {
                "emailid": 19,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="1a767f68756334787f79717f685a7d777b737634797577">[email&#160;protected]</a>"
            },
            {
                "emailid": 20,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="56373838373b37243f3378242338393a3025323922223f24163e39223b373f3a7835393b">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdDate": "2020-03-20T21:29:46.512+0000",
        "employeeid": 21,
        "name": "Opal Bergstrom",
        "salary": 83090.46372685424,
        "jobnames": [],
        "emails": []
    },
    {
        "createdDate": "2020-03-20T21:29:46.513+0000",
        "employeeid": 22,
        "name": "Robbie Yundt",
        "salary": 89382.48633333342,
        "jobnames": [],
        "emails": [
            {
                "emailid": 23,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="f296979e829a93dc9a9d8597b28b939a9d9ddc919d9f">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdDate": "2020-03-20T21:29:46.514+0000",
        "employeeid": 24,
        "name": "Maple MacGyver",
        "salary": 66020.85602743662,
        "jobnames": [],
        "emails": [
            {
                "emailid": 25,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="24574c4d484b4c0a57544b564156645d454c4b4b0a474b49">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdDate": "2020-03-20T21:29:46.515+0000",
        "employeeid": 26,
        "name": "Mr. Dena Schroeder",
        "salary": 126452.21728807941,
        "jobnames": [],
        "emails": [
            {
                "emailid": 27,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="ed8c9f848c8388c39f989e9e8881ad858299808c8481c38e8280">[email&#160;protected]</a>"
            },
            {
                "emailid": 28,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="7517071a1110071c161e5b061d141b141d141b351218141c195b161a18">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdDate": "2020-03-20T21:29:46.516+0000",
        "employeeid": 29,
        "name": "Mathew Cummerata",
        "salary": 62970.104425578524,
        "jobnames": [],
        "emails": []
    },
    {
        "createdDate": "2020-03-20T21:29:46.517+0000",
        "employeeid": 30,
        "name": "Claude Mertz Jr.",
        "salary": 141578.37885451617,
        "jobnames": [],
        "emails": []
    },
    {
        "createdDate": "2020-03-20T21:29:46.518+0000",
        "employeeid": 31,
        "name": "Lisabeth Rice",
        "salary": 86891.12981394364,
        "jobnames": [],
        "emails": [
            {
                "emailid": 32,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e79e91888982c98a8695969286958393a78f88938a868e8bc984888a">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdDate": "2020-03-20T21:29:46.519+0000",
        "employeeid": 33,
        "name": "Keisha Wilderman",
        "salary": 60928.73309534274,
        "jobnames": [],
        "emails": []
    },
    {
        "createdDate": "2020-03-20T21:29:46.520+0000",
        "employeeid": 34,
        "name": "Roberto Cole",
        "salary": 98060.39780158934,
        "jobnames": [],
        "emails": []
    },
    {
        "createdDate": "2020-03-20T21:29:46.521+0000",
        "employeeid": 35,
        "name": "Mickey Prosacco",
        "salary": 76453.32280357803,
        "jobnames": [],
        "emails": []
    },
    {
        "createdDate": "2020-03-20T21:29:46.521+0000",
        "employeeid": 36,
        "name": "Miss Weston Boyle",
        "salary": 109800.98700507148,
        "jobnames": [],
        "emails": [
            {
                "emailid": 37,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="61120e0f0513004f020e0f120805080f0421060c00080d4f020e0c">[email&#160;protected]</a>"
            },
            {
                "emailid": 38,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="cba7a2aaa5aae5bebbbfa4a58ba3a4bfa6aaa2a7e5a8a4a6">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdDate": "2020-03-20T21:29:46.523+0000",
        "employeeid": 39,
        "name": "Jarod Friesen",
        "salary": 132743.16918268875,
        "jobnames": [],
        "emails": [
            {
                "emailid": 40,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="84efe5f7e1fdaae0e1e7efebf3c4e3e9e5ede8aae7ebe9">[email&#160;protected]</a>"
            },
            {
                "emailid": 41,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e1828d888f958e8fcf8e8384938393948f8f8493a1868c80888dcf828e8c">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdDate": "2020-03-20T21:29:46.523+0000",
        "employeeid": 42,
        "name": "Ali Robel",
        "salary": 90007.92665890715,
        "jobnames": [],
        "emails": []
    },
    {
        "createdDate": "2020-03-20T21:29:46.524+0000",
        "employeeid": 43,
        "name": "Mariann Kulas",
        "salary": 63297.8959611414,
        "jobnames": [],
        "emails": [
            {
                "emailid": 44,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="8fe5eae9e9fdeaf6a1fdeae1e1eafdcfe8e2eee6e3a1ece0e2">[email&#160;protected]</a>"
            },
            {
                "emailid": 45,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="5321322a353c21377d3b3c24363f3f133b3c273e323a3f7d303c3e">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdDate": "2020-03-20T21:29:46.525+0000",
        "employeeid": 46,
        "name": "Dortha Jones",
        "salary": 121362.46697960931,
        "jobnames": [],
        "emails": [
            {
                "emailid": 47,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b6dedfdad7c4dfd998c5dbdfc2def6d1dbd7dfda98d5d9db">[email&#160;protected]</a>"
            },
            {
                "emailid": 48,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="1c717d6e75707979326f687d71715c7b717d7570327f7371">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdDate": "2020-03-20T21:29:46.526+0000",
        "employeeid": 49,
        "name": "Mr. Carey Heathcote",
        "salary": 136114.63937627617,
        "jobnames": [],
        "emails": []
    },
    {
        "createdDate": "2020-03-20T21:29:46.527+0000",
        "employeeid": 50,
        "name": "Mr. Gregory Douglas",
        "salary": 124594.46641271688,
        "jobnames": [],
        "emails": [
            {
                "emailid": 51,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="a8c3cdc6ccdac1cbc386c3dac9c2cbc1c3e8cfc5c9c1c486cbc7c5">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdDate": "2020-03-20T21:29:46.528+0000",
        "employeeid": 52,
        "name": "Yaeko O'Kon",
        "salary": 147448.16455677926,
        "jobnames": [],
        "emails": [
            {
                "emailid": 53,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="037066626d2d6b6c66646671437a626b6c6c2d606c6e">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdDate": "2020-03-20T21:29:46.529+0000",
        "employeeid": 54,
        "name": "Ava Fay",
        "salary": 70285.61953920404,
        "jobnames": [],
        "emails": []
    },
    {
        "createdDate": "2020-03-20T21:29:46.529+0000",
        "employeeid": 55,
        "name": "Jason Reynolds",
        "salary": 86482.25152372931,
        "jobnames": [],
        "emails": []
    }
]

</code></pre>

</details>

But what if we don't like the date format. We can change that by adding these two lines to our `application.properties` file

```TEXT
spring.jackson.date-format=yyyy-MM-dd HH:mm:ss
spring.jackson.time-zone=America/Los_Angeles
```

Of course we change the pattern using standard date formatting. See [https://docs.oracle.com/javase/tutorial/i18n/format/simpleDateFormat.html](https://docs.oracle.com/javase/tutorial/i18n/format/simpleDateFormat.html) for more information on date formatting!

Now when we run our application, our date format is updated for all our dates!

<details>
<summary>Expand to see http://localhost:2019/employees/employees with updated date format</summary>

<pre><code class="language-JSON">

[
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-21 10:44:07",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-21 10:44:07",
        "employeeid": 3,
        "name": "CINNAMON",
        "salary": 80000.0,
        "jobnames": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:07",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:07",
                "jobname": {
                    "createdBy": "SYSTEM",
                    "createdDate": "2020-03-21 10:44:07",
                    "lastModifiedBy": "SYSTEM",
                    "lastModifiedDate": "2020-03-21 10:44:07",
                    "jobtitleid": 1,
                    "title": "Big Boss"
                },
                "manager": "MOJO"
            },
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:07",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:07",
                "jobname": {
                    "createdBy": "SYSTEM",
                    "createdDate": "2020-03-21 10:44:07",
                    "lastModifiedBy": "SYSTEM",
                    "lastModifiedDate": "2020-03-21 10:44:07",
                    "jobtitleid": 2,
                    "title": "Wizard"
                },
                "manager": "STUBS"
            }
        ],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:07",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:07",
                "emailid": 4,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="fe96918e8dbe92919d9f92d09d9193">[email&#160;protected]</a>"
            },
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:07",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:07",
                "emailid": 5,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="f193849f9f88b1999e8181989fdf9d9e92909d">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-21 10:44:07",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-21 10:44:07",
        "employeeid": 6,
        "name": "BARNBARN",
        "salary": 80000.0,
        "jobnames": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:07",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:07",
                "jobname": {
                    "createdBy": "SYSTEM",
                    "createdDate": "2020-03-21 10:44:07",
                    "lastModifiedBy": "SYSTEM",
                    "lastModifiedDate": "2020-03-21 10:44:07",
                    "jobtitleid": 1,
                    "title": "Big Boss"
                },
                "manager": "STUBS"
            }
        ],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:07",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:07",
                "emailid": 7,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="107271627e7271627e507c7f73717c3e737f7d">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-21 10:44:07",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-21 10:44:07",
        "employeeid": 8,
        "name": "JOHN",
        "salary": 75000.0,
        "jobnames": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:07",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:07",
                "jobname": {
                    "createdBy": "SYSTEM",
                    "createdDate": "2020-03-21 10:44:07",
                    "lastModifiedBy": "SYSTEM",
                    "lastModifiedDate": "2020-03-21 10:44:07",
                    "jobtitleid": 1,
                    "title": "Big Boss"
                },
                "manager": "MOJO"
            }
        ],
        "emails": []
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-21 10:44:08",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-21 10:44:08",
        "employeeid": 9,
        "name": "Foster Franecki",
        "salary": 59869.53985146481,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:08",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:08",
                "emailid": 10,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="502239263b317e3231253d3231333810373d31393c7e333f3d">[email&#160;protected]</a>"
            },
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:08",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:08",
                "emailid": 11,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="85e8e4ebece0abe6eaebebe0e9e9fcc5e2e8e4ece9abe6eae8">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-21 10:44:08",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-21 10:44:08",
        "employeeid": 12,
        "name": "Eldridge Bashirian Jr.",
        "salary": 112315.41731225738,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:08",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:08",
                "emailid": 13,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="284249454d064449464f5f475a5c40685149404747064b4745">[email&#160;protected]</a>"
            },
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:08",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:08",
                "emailid": 14,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="ddb4b1bcb3bcf3bfbcafa9b2b1b8a9a9b49dbab0bcb4b1f3beb2b0">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-21 10:44:08",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-21 10:44:08",
        "employeeid": 15,
        "name": "Alexis Padberg PhD",
        "salary": 76223.26607275958,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:08",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:08",
                "emailid": 16,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="e38d8c8e82cd808291978691a39a828b8c8ccd808c8e">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-21 10:44:08",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-21 10:44:08",
        "employeeid": 17,
        "name": "Dr. Bethanie Romaguera",
        "salary": 63478.77682909907,
        "jobnames": [],
        "emails": []
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-21 10:44:08",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-21 10:44:08",
        "employeeid": 18,
        "name": "Millard Bailey",
        "salary": 75320.27095487631,
        "jobnames": [],
        "emails": []
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-21 10:44:08",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-21 10:44:08",
        "employeeid": 19,
        "name": "Trinidad Hackett",
        "salary": 133329.11862916453,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:08",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:08",
                "emailid": 20,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="44362b26306a2f2129292136042c2b3029252d286a272b29">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-21 10:44:08",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-21 10:44:08",
        "employeeid": 21,
        "name": "Eleni Bernhard",
        "salary": 138614.61426692628,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:08",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:08",
                "emailid": 22,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="4c3f242d3522296224253e3824290c2b212d2520622f2321">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-21 10:44:08",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-21 10:44:08",
        "employeeid": 23,
        "name": "Prince Christiansen",
        "salary": 70426.82059191875,
        "jobnames": [],
        "emails": []
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-21 10:44:08",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-21 10:44:08",
        "employeeid": 24,
        "name": "Shannon Bartoletti",
        "salary": 68337.71135189131,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:08",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:08",
                "emailid": 25,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="acc6cdd5dfc3c282cbc9dec0cdcfc4ecd5cdc4c3c382cfc3c1">[email&#160;protected]</a>"
            },
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:08",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:08",
                "emailid": 26,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="2741554e535d094a44444b52554267404a464e4b0944484a">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-21 10:44:08",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-21 10:44:08",
        "employeeid": 27,
        "name": "Harold Conroy",
        "salary": 142133.9551248509,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:08",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:08",
                "emailid": 28,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="dab8bfa9a9b3bff4b1b5acbbb9bfb19aa3bbb2b5b5f4b9b5b7">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-21 10:44:08",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-21 10:44:08",
        "employeeid": 29,
        "name": "Marceline Borer DDS",
        "salary": 138667.54834687297,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:08",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:08",
                "emailid": 30,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="83e5e6eff7ecedade6e1e6f1f7c3fae2ebececade0ecee">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-21 10:44:08",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-21 10:44:08",
        "employeeid": 31,
        "name": "Booker Spinka",
        "salary": 137212.6280766009,
        "jobnames": [],
        "emails": []
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-21 10:44:08",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-21 10:44:08",
        "employeeid": 32,
        "name": "Rashad Crist",
        "salary": 96591.48970477152,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:08",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:08",
                "emailid": 33,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="41332e232433356f2a332428262433013820292e2e6f222e2c">[email&#160;protected]</a>"
            },
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:08",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:08",
                "emailid": 34,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="30425f5c515e541e5d59445358555c5c70585f445d51595c1e535f5d">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-21 10:44:08",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-21 10:44:08",
        "employeeid": 35,
        "name": "Catharine Labadie",
        "salary": 71895.31589367473,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:08",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:08",
                "emailid": 36,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="7510111c105b021c19191806351d1a0118141c195b161a18">[email&#160;protected]</a>"
            },
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:08",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:08",
                "emailid": 37,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="651104090c160d044b080a170c161600111100250208040c094b060a08">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-21 10:44:08",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-21 10:44:08",
        "employeeid": 38,
        "name": "Tatiana Nitzsche",
        "salary": 85443.76158015004,
        "jobnames": [],
        "emails": []
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-21 10:44:08",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-21 10:44:08",
        "employeeid": 39,
        "name": "Arthur Kuphal",
        "salary": 81377.47009783119,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:08",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:08",
                "emailid": 40,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="1d7a747171747c733369747171707c735d647c757272337e7270">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-21 10:44:08",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-21 10:44:08",
        "employeeid": 41,
        "name": "Dr. Lawerence Casper",
        "salary": 147748.70206736086,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:08",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:08",
                "emailid": 42,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="ea869f89838b8485c481838f8284aa8d878b8386c4898587">[email&#160;protected]</a>"
            },
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:08",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:08",
                "emailid": 43,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="4d39222f34633d2c2e222e252c0d2a202c2421632e2220">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-21 10:44:08",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-21 10:44:08",
        "employeeid": 44,
        "name": "Seymour Olson DVM",
        "salary": 89899.87248405197,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:08",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:08",
                "emailid": 45,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="7e101b121250190c1f100a3e071f161111501d1113">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-21 10:44:08",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-21 10:44:08",
        "employeeid": 46,
        "name": "Alina Miller",
        "salary": 84556.90367960025,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:08",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:08",
                "emailid": 47,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="b6c5d7d8c2dfd7d1d998ddd9c0d7d5d3ddf6cfd7ded9d998d5d9db">[email&#160;protected]</a>"
            },
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:08",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:08",
                "emailid": 48,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="d1b6b8a5b0ffbdb4bcbab491b6bcb0b8bdffb2bebc">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-21 10:44:08",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-21 10:44:08",
        "employeeid": 49,
        "name": "Nichole Russel",
        "salary": 82481.30000026332,
        "jobnames": [],
        "emails": []
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-21 10:44:08",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-21 10:44:08",
        "employeeid": 50,
        "name": "Stephany Osinski",
        "salary": 93073.50912637703,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:08",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:08",
                "emailid": 51,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="601219010e4e0c05080e051220080f140d01090c4e030f0d">[email&#160;protected]</a>"
            },
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:08",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:08",
                "emailid": 52,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="452d242b246b2820212d30373631053c242d2a2a6b262a28">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-21 10:44:08",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-21 10:44:08",
        "employeeid": 53,
        "name": "Christopher Bednar Sr.",
        "salary": 89464.93132507637,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:08",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:08",
                "emailid": 54,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="244e4b454a410a57474c4b414a644349454d480a474b49">[email&#160;protected]</a>"
            },
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:08",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:08",
                "emailid": 55,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="16737a706473727738657f7b79787f65566f777e79793875797b">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-21 10:44:08",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-21 10:44:08",
        "employeeid": 56,
        "name": "Miss Major Schuppe",
        "salary": 53814.565016417524,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:08",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:08",
                "emailid": 57,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="611215041109080f044f16140f12020921060c00080d4f020e0c">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-21 10:44:08",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-21 10:44:08",
        "employeeid": 58,
        "name": "Toby Weissnat",
        "salary": 103092.68543880018,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:08",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:08",
                "emailid": 59,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="cdbdbfa2bba4a9a8a3aea4ace3afacbfb9a2a38db4aca5a2a2e3aea2a0">[email&#160;protected]</a>"
            },
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:08",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:08",
                "emailid": 60,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="197376717777707c377a766b6e7077597e74787075377a7674">[email&#160;protected]</a>"
            }
        ]
    },
    {
        "createdBy": "SYSTEM",
        "createdDate": "2020-03-21 10:44:08",
        "lastModifiedBy": "SYSTEM",
        "lastModifiedDate": "2020-03-21 10:44:08",
        "employeeid": 61,
        "name": "Miss Brendon Bogisich",
        "salary": 91668.23355765417,
        "jobnames": [],
        "emails": [
            {
                "createdBy": "SYSTEM",
                "createdDate": "2020-03-21 10:44:08",
                "lastModifiedBy": "SYSTEM",
                "lastModifiedDate": "2020-03-21 10:44:08",
                "emailid": 62,
                "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="5f3336313b2c3e2671323e383836301f37302b323e3633713c3032">[email&#160;protected]</a>"
            }
        ]
    }
]

</code></pre>

</details>

### Here are a couple of common pitfalls to avoid

- You have everything set up. You are using Spring Data and JPA to populate your data. In other words you are using SeedData. You have extended Auditable for all your tables. You run your code and no Audit Data. See picture below:

![Auditing Data](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2011%20-%20Java%20with%20RDBMS%20and%20API%20Intros/Module%204%20-%20JX%20Java%20-%20Data%20Modeling%20and%20Auditing%20Fields%20with%20custom%20querying/assets/JX-SP11-M4-07.png)

- In this case you have left out the `@EnableJpaAuditing` in the main class. This is a common mistake of mine. So watch out for it!

- New Issue: You have everything set up. You have extended Auditable for all your tables. You have added @EnableJpaAuditing you your main class but you are using data.sql to populate your data. You run your code and no Audit Data. See picture below:

![Auditing Data](https://lambdaschool.github.io/java-curriculum-assets/Sprint%2011%20-%20Java%20with%20RDBMS%20and%20API%20Intros/Module%204%20-%20JX%20Java%20-%20Data%20Modeling%20and%20Auditing%20Fields%20with%20custom%20querying/assets/JX-SP11-M4-08.png)

- JPA Auditing only works when using JPA! `data.sql` bypasses Spring Data JPA altogether and does its own inserts. So if you want auditing data in this case, you have to manually add it your data.sql like this. Notice the addition of the four auditing fields in the column list and their corresponding values in the values being inserted.

<details>
<summary>data.sql with Auditing Data</summary>

<pre><code class="language-SQL">

DELETE
FROM EMPLOYEETITLES;

DELETE
FROM JOBTITLES;

DELETE
FROM EMAILS;

DELETE
FROM EMPLOYEES;

INSERT INTO EMPLOYEES (EMPLOYEEID, NAME, SALARY, CREATED_BY, CREATED_DATE, LAST_MODIFIED_BY, LAST_MODIFIED_DATE)
    VALUES (1, 'CINNAMON', 80000.00, 'SYSTEM', CURRENT_TIMESTAMP, 'SYSTEM', CURRENT_TIMESTAMP),
           (2, 'BARNBARN', 80000.00, 'SYSTEM', CURRENT_TIMESTAMP, 'SYSTEM', CURRENT_TIMESTAMP),
           (3, 'JOHN', 75000.00, 'SYSTEM', CURRENT_TIMESTAMP, 'SYSTEM', CURRENT_TIMESTAMP);

INSERT INTO EMAILS (EMAILID, EMAIL, EMPLOYEEID, CREATED_BY, CREATED_DATE, LAST_MODIFIED_BY, LAST_MODIFIED_DATE)
    VALUES (1, '<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="bed6d1cecdfed2d1dddfd290ddd1d3">[email&#160;protected]</a>', 1, 'SYSTEM', CURRENT_TIMESTAMP, 'SYSTEM', CURRENT_TIMESTAMP),
           (2, '<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="2a485f4444536a42455a5a4344044645494b46">[email&#160;protected]</a>', 1, 'SYSTEM', CURRENT_TIMESTAMP, 'SYSTEM', CURRENT_TIMESTAMP),
           (3, '<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="afcdceddc1cdceddc1efc3c0cccec381ccc0c2">[email&#160;protected]</a>', 2, 'SYSTEM', CURRENT_TIMESTAMP, 'SYSTEM', CURRENT_TIMESTAMP);

INSERT INTO JOBTITLES (JOBTITLEID, TITLE, CREATED_BY, CREATED_DATE, LAST_MODIFIED_BY, LAST_MODIFIED_DATE)
    VALUES (1, 'Big Boss', 'SYSTEM', CURRENT_TIMESTAMP, 'SYSTEM', CURRENT_TIMESTAMP),
           (2, 'Wizard', 'SYSTEM', CURRENT_TIMESTAMP, 'SYSTEM', CURRENT_TIMESTAMP);

INSERT INTO EMPLOYEETITLES (EMPLOYEEID, JOBTITLEID, MANAGER, CREATED_BY, CREATED_DATE, LAST_MODIFIED_BY, LAST_MODIFIED_DATE)
    VALUES (1, 1, 'MOJO', 'SYSTEM', CURRENT_TIMESTAMP, 'SYSTEM', CURRENT_TIMESTAMP),
           (1, 2, 'STUBS', 'SYSTEM', CURRENT_TIMESTAMP, 'SYSTEM', CURRENT_TIMESTAMP),
           (2, 2, 'MOJO', 'SYSTEM', CURRENT_TIMESTAMP, 'SYSTEM', CURRENT_TIMESTAMP);

/*
Must tell hibernate of the id numbers already used.
The number after with must be greater than the highest number id assigned.
 */
alter sequence hibernate_sequence restart with 15;

</code></pre>

</details>

- And now you will have auditing data using data.sql!
</p></code></pre></details>
<hr>
<h4 class="mark mb-3 p-2">Learn to use SQL, JPA and Hibernate to perform custom data manipulation operations on a RDBMS through a Spring Application</h4>
<p><a id="Data_Manipulation_using_SQL"></a></p>
<h5>Overview</h5>
<ul>
<li>See the Github Repository <a href="https://github.com/LambdaSchool/java-sampleemps.git">https://github.com/LambdaSchool/java-sampleemps.git/sampleemps_data_modeling</a> for the code used in the objective.</li>
</ul>
<h3 id="software-needed">Software Needed</h3>
<ul>
<li>Java Development Kit (JDK) - at least version 11</li>
<li>JetBrains IntelliJ IDEA IDE</li>
<li>Postman</li>
</ul>
<h3 id="modifying-custom-queries">Modifying Custom Queries</h3>
<p>Sometimes we need to use custom queries to update data. This is especially true as our entity relationships get more complicated. For an example of this, let’s write a custom query to update, change, the Job Title title field without affecting any other data or relationships in the database.</p>
<p>First, let’s write the query to make sure it does what we want</p>
<pre><code class="language-SQL">UPDATE jobtitles
SET title = :ititle,
    last_modified_by = :uname,
    last_modified_date = CURRENT_TIMESTAMP
WHERE jobtitleid = :jobtitleid
</code></pre>
<p>Note that the variables starting with a <code class="highlighter-rouge">:</code> are parameters we will get from Java. So we are</p>
<ul>
<li>Updating the <code class="highlighter-rouge">jobtitles</code> table</li>
<li>Setting
<ul>
<li>
<code class="highlighter-rouge">title</code> field to a new one coming from Java</li>
<li>we are modifying the row outside of Spring Data JPA, so we need to manually update the modified auditing fields
<ul>
<li>
<code class="highlighter-rouge">last_modified_by</code> is set to a username coming from Java</li>
<li>
<code class="highlighter-rouge">last_modified_date</code> is set from the system date</li>
</ul>
</li>
</ul>
</li>
<li>Updating row where <code class="highlighter-rouge">jobtitleid</code> = some id coming from Java</li>
</ul>
<h5>Follow Along</h5>
<p>We are continuing taking the repo <a href="https://github.com/LambdaSchool/java-sampleemps.git">https://github.com/LambdaSchool/java-sampleemps.git/sampleemps_create_delete_update</a> and transforming it into the repo <a href="https://github.com/LambdaSchool/java-sampleemps.git">https://github.com/LambdaSchool/java-sampleemps.git/sampleemps_data_modeling</a> step by step! So, from the following, make the necessary changes to the code you are working through for this Module.</p>
<p>Since this is related to the <code class="highlighter-rouge">JobTitle</code> table, let’s put this custom query in the <code class="highlighter-rouge">JobTitleRepository</code>.</p>
<pre><code class="language-JAVA">/* ...more code... */
    @Transactional
    @Modifying
    @Query(value = "UPDATE jobtitles SET title = :ititle, last_modified_by = :uname, last_modified_date = CURRENT_TIMESTAMP WHERE jobtitleid = :jobtitleid\n",
        nativeQuery = true)
    void updateJobTitle(
        String uname,
        long jobtitleid,
        String title);
/* ...more code... */
</code></pre>
<p>Some notes on the query</p>
<ul>
<li>
<code class="highlighter-rouge">@Transactional</code> - we are changing data in the database so best practice says to make the operation transactional.</li>
<li>
<code class="highlighter-rouge">@Modifying</code> - by default, a query can only read, and not manipulate, data. We have to override that behavior with this annotation.</li>
<li>
<code class="highlighter-rouge">@Query</code> is the notation that says we are doing a query.
<ul>
<li>
<code class="highlighter-rouge">@Query</code> takes some attributes
<ul>
<li>
<code class="highlighter-rouge">value</code> is the actual query in String form. Yes, the query has to be all on one line!</li>
<li>
<code class="highlighter-rouge">nativeQuery = true</code> means the query will be using the actual database names of things. A preference of mine.
<ul>
<li>native queries are usually faster</li>
<li>can lose portability to other databases if care is not taken in naming conventions, which of course we do take care in class!</li>
</ul>
</li>
</ul>
</li>
<li>The Query returns nothing, hence the void. To invoke the query we call the method updateJobTitle with three parameters:
<ul>
<li>
<code class="highlighter-rouge">uname</code> - the username of who is updating the date</li>
<li>
<code class="highlighter-rouge">jobtitleid</code> - the primary key of the row to update</li>
<li>
<code class="highlighter-rouge">title</code> - the new job title</li>
<li>Note that like in controllers, these parameters match with the parameters in the query by NAME. So, <code class="highlighter-rouge">uname</code> goes with <code class="highlighter-rouge">:uname</code>!</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Now let’s use our new query. We use it like we use any regular CRUD method from our repository. We make a service call and a controller method for our clients!</p>
<ul>
<li>Create the services.JobTitleServices class</li>
</ul>
<pre><code class="language-JAVA">package com.lambdaschool.sampleemps.services;

import com.lambdaschool.sampleemps.models.JobTitle;

public interface JobTitleService
{
    JobTitle update(
        long id,
        JobTitle jt);
}
</code></pre>
<ul>
<li>Create the services.JobTitleServiceImpl class</li>
</ul>
<pre><code class="language-JAVA">package com.lambdaschool.sampleemps.services;

import com.lambdaschool.sampleemps.models.JobTitle;
import com.lambdaschool.sampleemps.repositories.EmployeeRepository;
import com.lambdaschool.sampleemps.repositories.JobTitleRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;

import javax.persistence.EntityExistsException;
import javax.persistence.EntityNotFoundException;

@Transactional
@Service(value = "jobtitleSerivce") // needed to name this implementation as the service to use
public class JobTitleServiceImpl
        implements JobTitleService
{
    @Autowired
    private EmployeeRepository employeerepos;

    @Autowired
    private JobTitleRepository jtrepos;

    @Transactional
    @Override
    public JobTitle update(
        long id,
        JobTitle jt)
    {
        if (jt.getTitle() == null)
        {
            throw new EntityNotFoundException("No Title found to update!");
        }

        if (jt.getEmpnames()
            .size() &gt; 0)
        {
            throw new EntityExistsException("Employees are not updated through Job Titles");
        }

        jtrepos.findById(id)
            .orElseThrow(() -&gt; new EntityNotFoundException("Job Title id " + id + " not found!"));

        jtrepos.updateJobTitle("SYSTEM",
            id,
            jt.getTitle());
        return jtrepos.findById(id)
            .orElseThrow(() -&gt; new EntityNotFoundException("Job Title id " + id + " not found!"));
    }
}
</code></pre>
<ul>
<li>This requires some explanation:
<ul>
<li>First we check to make sure that a Job Title actually comes across from the client</li>
<li>Then we make sure no Employees were sent with the Job Title object. We add Job Titles to Employees through another endpoint.</li>
<li>Now we check to make sure we have a valid Job Title Id.</li>
<li>If all that works, we invoke the update query</li>
<li>Finally we find again the Job Title object in order to get a good Job Title object with the newly updated Job Title and return that Job Title object</li>
</ul>
</li>
<li>Create the controllers.JobTitleController class</li>
</ul>
<pre><code class="language-JAVA">package com.lambdaschool.sampleemps.controllers;

import com.lambdaschool.sampleemps.models.JobTitle;
import com.lambdaschool.sampleemps.services.JobTitleService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.PatchMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.PutMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import javax.validation.Valid;

@RestController
@RequestMapping("/jobtitles")
public class JobTitleController
{
    @Autowired
    JobTitleService jtService;

    @PutMapping(value = "/jobtitle/{jobtitleid}",
            consumes = {"application/json"})
    public ResponseEntity&lt;?&gt; putUpdateJobTitle(
            @PathVariable
                    long jobtitleid,
            @Valid
            @RequestBody
                    JobTitle newJT)
    {
        newJT = jtService.update(jobtitleid,
                                 newJT);
        return new ResponseEntity&lt;&gt;(HttpStatus.OK);
    }


    @PatchMapping(value = "/jobtitle/{jobtitlesid}",
            consumes = {"application/json"})
    public ResponseEntity&lt;?&gt; patchUpdateJobTitle(
            @PathVariable
                    long jobtitlesid,
            @RequestBody
                    JobTitle newJT)
    {
        newJT = jtService.update(jobtitlesid,
                                 newJT);
        return new ResponseEntity&lt;&gt;(HttpStatus.OK);
    }
}
</code></pre>
<ul>
<li>Some explanation
<ul>
<li>The body for each of these endpoints would look the same</li>
<li>In this case since there is only 1 field to update, PUT and PATCH do exactly the same thing. I decided to provide both to prevent the client from having to remember which one is implemented.</li>
</ul>
</li>
</ul>
<p>You can use the following JSON to test the endpoints</p>
<pre><code class="language-JSON">{
  "title":"Lizard"
}
</code></pre>
<h5>Challenge</h5>
<p>Let’s try adding some code on our own. You will need to find the appropriate code from the provided repository and add it to your own application.</p>
<p>A combination of custom Read queries and custom Modify queries are used to update the Many To Many relationship between Employee and JobTitle. You can see this code in action in the sampleemps_data_modeling application. The flow of this process is this. Since Employee is our driving table, I am putting this work with the methods for Employees</p>
<ul>
<li>services.EmployeeService gets the methods to delete or add an employee job title combination
<ul>
<li>deleteEmpJobTitle, addEmpJobTitle</li>
<li>Both takes two parameters, the employee id and role id of the combination to delete or add</li>
</ul>
</li>
<li>services.EmployeeServiceImpl
<ul>
<li>Implements the deleteEmpJobTitle and addEmpJobTitle methods with this process
<ul>
<li>Verify that the employee id is valid</li>
<li>Verify that the job title id is valid</li>
<li>Using a custom query, verify that the employee job title combinations
<ul>
<li>exists when doing a delete. We must have something to delete!</li>
<li>does not exist when doing an add. We don’t want duplicate combinations!</li>
</ul>
</li>
<li>Once all has been verified, use a custom query to actually perform the delete or add</li>
</ul>
</li>
</ul>
</li>
<li>controller.EmployeeController
<ul>
<li>We need a way for clients to delete or add the employee job title combination.</li>
<li>We get the ids through path variables</li>
<li>see methods deleteEmployeeJobTitlesByid and addEmployeeJobTitlesByid</li>
</ul>
</li>
<li>For the above we made use of three custom queries, all of which are located in repositories.EmployeeRepository
<ul>
<li>checkEmpJobTitleCombo
<ul>
<li>Counts the number of the given employee job titles combinations in the database</li>
<li>Uses the interface views.JustTheCount</li>
</ul>
</li>
<li>deleteEmployeeJobTitleCombo
<ul>
<li>deletes the combination of the given employee id and job title id</li>
</ul>
</li>
<li>insertEmployeeJobTitleCombo
<ul>
<li>inserts the given combination of the given employee id and job title id</li>
<li>initializes the audit fields with the username sent to the query and the current system date</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h4 class="mark mb-3 p-2">Learn to implement default Swagger documentation</h4>
<p><a id="Swagger"></a></p>
<h5>Overview</h5>
<ul>
<li>See the Github Repository <a href="https://github.com/LambdaSchool/java-sampleemps.git">https://github.com/LambdaSchool/java-sampleemps.git/sampleemps_data_modeling</a> for the code used in the objective.</li>
</ul>
<h3 id="software-needed">Software Needed</h3>
<ul>
<li>Java Development Kit (JDK) - at least version 11</li>
<li>JetBrains IntelliJ IDEA IDE</li>
<li>Postman</li>
</ul>
<p>The point of our Web REST API Applications is to provide endpoints that allow clients to work with our data. But how do those clients know what our endpoints are and how to use them? We need to provide them documentation. One automated way to do this is through the Swagger system. Let’s implement Swagger and see the corresponding documentation!</p>
<h5>Follow Along</h5>
<ul>
<li>Swagger is implemented through a few dependencies. We are adding three. One is the base Swagger dependency. Another implements the Swagger user interface. And the third on connects Swagger to our validation constraints. Let’s add those to our POM.XML</li>
</ul>
<pre><code class="language-XML">        &lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger2 --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;io.springfox&lt;/groupId&gt;
            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;
            &lt;version&gt;2.9.2&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui --&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;io.springfox&lt;/groupId&gt;
            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;
            &lt;version&gt;2.9.2&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;io.springfox&lt;/groupId&gt;
            &lt;artifactId&gt;springfox-bean-validators&lt;/artifactId&gt;
            &lt;version&gt;2.9.2&lt;/version&gt;
        &lt;/dependency&gt;
</code></pre>
<ul>
<li>Now we need to add a configuration file to connect Swagger to Spring. The file being added is config.Swagger2Config. We are using Swagger Version 2. This version is the most straightforward to configure and is the most mature, stable version of Swagger.
<ul>
<li>This class is boilerplate code we can add to any project where we want Swagger documentation. We do have a few items to customize to our application.</li>
</ul>
</li>
</ul>
<pre><code class="language-JAVA">/* ...some code ... */
@Configuration // annotation to tell Spring this is a configuration file
@EnableSwagger2 // annotation to enable Swagger
@Import(BeanValidatorPluginsConfiguration.class) // connects our validation constraints to this configuration class
public class Swagger2Config
{
    @Bean
    public Docket api()
    {
        return new Docket(DocumentationType.SWAGGER_2)
            .select()
            .apis(RequestHandlerSelectors
                .basePackage("com.lambdaschool.sampleemps"))
            .paths(PathSelectors.regex("/.*"))
            .build()
            .apiInfo(apiEndPointsInfo());
    }

    private ApiInfo apiEndPointsInfo()
    {
        return new ApiInfoBuilder().title("Sample Employees Project")
            .description("A Project Used to Introduce Swagger Documentation")
            .contact(new Contact("John Mitchell",
                "http://www.lambdaschool.com",
                "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="43292c2b2d032f222e21272230202b2c2c2f6d202c2e">[email&#160;protected]</a>"))
            .license("MIT")
            .licenseUrl("https://github.com/LambdaSchool/java-sampleemps/blob/master/LICENSE")
            .version("1.0.0")
            .build();
    }
}
</code></pre>
<ul>
<li>In the method <code class="highlighter-rouge">api()</code> we must set the <code class="highlighter-rouge">.basePackage</code> to be the base package of our application. In our current example that is <code class="highlighter-rouge">com.lambdaschool.sampleemps</code>
</li>
<li>In the method <code class="highlighter-rouge">apiEndPointsInfo()</code> we set
<ul>
<li>
<code class="highlighter-rouge">.title("")</code> - A general short title of our application</li>
<li>
<code class="highlighter-rouge">.description("")</code> - A longer more descriptive explanation of our application</li>
<li>
<code class="highlighter-rouge">.contact()</code> - you can add only one contact for the application</li>
<li>
<code class="highlighter-rouge">.license("")</code> - at Lambda School we prefer the MIT license but any string will work</li>
<li>
<code class="highlighter-rouge">.licenseUrl("")</code> - at link to the text for your license agreement</li>
<li>
<code class="highlighter-rouge">.version("")</code> - any string is fine but is meant to convey a version number to the client</li>
</ul>
</li>
</ul>
<p>That is all we need to set up to generate Swagger documentation. Swagger uses our class names, method names, parameters, and annotations to generate default documentation. If we have named everything using a reasonable naming convention, then we get reasonable Swagger documentation!</p>
<p>Annotations exist to customize your Swagger documentation but this is beyond the scope of this class :-(</p>
<p>One you are done, the Swagger Documentation generated for our sample application can be found at</p>
<p><a href="http://localhost:2019/swagger-ui.html">http://localhost:2019/swagger-ui.html</a>l</p>
<p>with <code class="highlighter-rouge">/swagger-ui</code> being the default endpoint. If you fully expand all options on this page, you can generate the following PDF of the documentation:</p>
<p><a href="https://drive.google.com/open?id=1EijscrIhpv6lbnSbLXcaH7NeLFCEpI2l">Click Here Swagger Documentation PDF</a></p>
<p>You can also generate a full JSON representation of the documentation. You surf to the following URL. Expand to see the resulting JSON.</p>
<details>
<summary>http://localhost:2019/v2/api-docs</summary>
<pre><code class="language-JSON">
{
    "swagger": "2.0",
    "info": {
        "description": "A Project Used to Introduce Swagger Documentation",
        "version": "1.0.0",
        "title": "Sample Employees Project",
        "contact": {
            "name": "John Mitchell",
            "url": "http://www.lambdaschool.com",
            "email": "<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="52383d3a3c123e333f30363321313a3d3d3e7c313d3f">[email&#160;protected]</a>"
        },
        "license": {
            "name": "MIT",
            "url": "https://github.com/LambdaSchool/java-sampleemps/blob/master/LICENSE"
        }
    },
    "host": "localhost:2019",
    "basePath": "/",
    "tags": [
        {
            "name": "employee-controller",
            "description": "Employee Controller"
        },
        {
            "name": "job-title-controller",
            "description": "Job Title Controller"
        }
    ],
    "paths": {
        "/employees/employee": {
            "post": {
                "tags": [
                    "employee-controller"
                ],
                "summary": "addNewEmployee",
                "operationId": "addNewEmployeeUsingPOST",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "*/*"
                ],
                "parameters": [
                    {
                        "in": "body",
                        "name": "newEmployee",
                        "description": "newEmployee",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/Employee"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object"
                        }
                    },
                    "201": {
                        "description": "Created"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Not Found"
                    }
                },
                "deprecated": false
            }
        },
        "/employees/employee/{employeeid}": {
            "put": {
                "tags": [
                    "employee-controller"
                ],
                "summary": "updateFullEmployee",
                "operationId": "updateFullEmployeeUsingPUT",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "*/*"
                ],
                "parameters": [
                    {
                        "name": "employeeid",
                        "in": "path",
                        "description": "employeeid",
                        "required": true,
                        "type": "integer",
                        "format": "int64"
                    },
                    {
                        "in": "body",
                        "name": "updateEmployee",
                        "description": "updateEmployee",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/Employee"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object"
                        }
                    },
                    "201": {
                        "description": "Created"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Not Found"
                    }
                },
                "deprecated": false
            },
            "delete": {
                "tags": [
                    "employee-controller"
                ],
                "summary": "deleteEmployeeById",
                "operationId": "deleteEmployeeByIdUsingDELETE",
                "produces": [
                    "*/*"
                ],
                "parameters": [
                    {
                        "name": "employeeid",
                        "in": "path",
                        "description": "employeeid",
                        "required": true,
                        "type": "integer",
                        "format": "int64"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object"
                        }
                    },
                    "204": {
                        "description": "No Content"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "deprecated": false
            },
            "patch": {
                "tags": [
                    "employee-controller"
                ],
                "summary": "updateEmployee",
                "operationId": "updateEmployeeUsingPATCH",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "*/*"
                ],
                "parameters": [
                    {
                        "name": "employeeid",
                        "in": "path",
                        "description": "employeeid",
                        "required": true,
                        "type": "integer",
                        "format": "int64"
                    },
                    {
                        "in": "body",
                        "name": "updateEmployee",
                        "description": "updateEmployee",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/Employee"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object"
                        }
                    },
                    "204": {
                        "description": "No Content"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "deprecated": false
            }
        },
        "/employees/employeeemail/{subemail}": {
            "get": {
                "tags": [
                    "employee-controller"
                ],
                "summary": "listEmployeesWithEmail",
                "operationId": "listEmployeesWithEmailUsingGET",
                "produces": [
                    "*/*"
                ],
                "parameters": [
                    {
                        "name": "subemail",
                        "in": "path",
                        "description": "subemail",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object"
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Not Found"
                    }
                },
                "deprecated": false
            }
        },
        "/employees/employeename/{subname}": {
            "get": {
                "tags": [
                    "employee-controller"
                ],
                "summary": "listEmployeesWithName",
                "operationId": "listEmployeesWithNameUsingGET",
                "produces": [
                    "*/*"
                ],
                "parameters": [
                    {
                        "name": "subname",
                        "in": "path",
                        "description": "subname",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object"
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Not Found"
                    }
                },
                "deprecated": false
            }
        },
        "/employees/employees": {
            "get": {
                "tags": [
                    "employee-controller"
                ],
                "summary": "listAllEmployees",
                "operationId": "listAllEmployeesUsingGET",
                "produces": [
                    "*/*"
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object"
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Not Found"
                    }
                },
                "deprecated": false
            }
        },
        "/employees/job/counts": {
            "get": {
                "tags": [
                    "employee-controller"
                ],
                "summary": "getEmpJobCounts",
                "operationId": "getEmpJobCountsUsingGET",
                "produces": [
                    "*/*"
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object"
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Not Found"
                    }
                },
                "deprecated": false
            }
        },
        "/jobtitles/jobtitle/{jobtitleid}": {
            "put": {
                "tags": [
                    "job-title-controller"
                ],
                "summary": "putUpdateJobTitle",
                "operationId": "putUpdateJobTitleUsingPUT",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "*/*"
                ],
                "parameters": [
                    {
                        "name": "jobtitleid",
                        "in": "path",
                        "description": "jobtitleid",
                        "required": true,
                        "type": "integer",
                        "format": "int64"
                    },
                    {
                        "in": "body",
                        "name": "newJT",
                        "description": "newJT",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/JobTitle"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object"
                        }
                    },
                    "201": {
                        "description": "Created"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "Not Found"
                    }
                },
                "deprecated": false
            }
        },
        "/jobtitles/jobtitle/{jobtitlesid}": {
            "patch": {
                "tags": [
                    "job-title-controller"
                ],
                "summary": "patchUpdateJobTitle",
                "operationId": "patchUpdateJobTitleUsingPATCH",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "*/*"
                ],
                "parameters": [
                    {
                        "name": "jobtitlesid",
                        "in": "path",
                        "description": "jobtitlesid",
                        "required": true,
                        "type": "integer",
                        "format": "int64"
                    },
                    {
                        "in": "body",
                        "name": "newJT",
                        "description": "newJT",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/JobTitle"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object"
                        }
                    },
                    "204": {
                        "description": "No Content"
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    }
                },
                "deprecated": false
            }
        }
    },
    "definitions": {
        "Email": {
            "type": "object",
            "properties": {
                "createdBy": {
                    "type": "string"
                },
                "createdDate": {
                    "type": "string",
                    "format": "date-time"
                },
                "email": {
                    "type": "string"
                },
                "emailid": {
                    "type": "integer",
                    "format": "int64"
                },
                "employee": {
                    "$ref": "#/definitions/Employee"
                },
                "lastModifiedBy": {
                    "type": "string"
                },
                "lastModifiedDate": {
                    "type": "string",
                    "format": "date-time"
                }
            },
            "title": "Email"
        },
        "Employee": {
            "type": "object",
            "properties": {
                "createdBy": {
                    "type": "string"
                },
                "createdDate": {
                    "type": "string",
                    "format": "date-time"
                },
                "emails": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/Email"
                    }
                },
                "employeeid": {
                    "type": "integer",
                    "format": "int64"
                },
                "hasvalueforsalary": {
                    "type": "boolean"
                },
                "jobnames": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/EmployeeTitles"
                    }
                },
                "lastModifiedBy": {
                    "type": "string"
                },
                "lastModifiedDate": {
                    "type": "string",
                    "format": "date-time"
                },
                "name": {
                    "type": "string"
                },
                "salary": {
                    "type": "number",
                    "format": "double"
                }
            },
            "title": "Employee"
        },
        "EmployeeTitles": {
            "type": "object",
            "properties": {
                "createdBy": {
                    "type": "string"
                },
                "createdDate": {
                    "type": "string",
                    "format": "date-time"
                },
                "emp": {
                    "$ref": "#/definitions/Employee"
                },
                "jobname": {
                    "$ref": "#/definitions/JobTitle"
                },
                "lastModifiedBy": {
                    "type": "string"
                },
                "lastModifiedDate": {
                    "type": "string",
                    "format": "date-time"
                },
                "manager": {
                    "type": "string"
                }
            },
            "title": "EmployeeTitles"
        },
        "JobTitle": {
            "type": "object",
            "properties": {
                "createdBy": {
                    "type": "string"
                },
                "createdDate": {
                    "type": "string",
                    "format": "date-time"
                },
                "empnames": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/EmployeeTitles"
                    }
                },
                "jobtitleid": {
                    "type": "integer",
                    "format": "int64"
                },
                "lastModifiedBy": {
                    "type": "string"
                },
                "lastModifiedDate": {
                    "type": "string",
                    "format": "date-time"
                },
                "title": {
                    "type": "string"
                }
            },
            "title": "JobTitle"
        }
    }
}
</code></pre>
</details>
<h5>Dig Deeper</h5>
<ul>
<li>
<a href="https://springframework.guru/spring-boot-restful-api-documentation-with-swagger-2/" target="blank_">Spring Boot RESTful API Documentation with Swagger 2</a><br> Spring Boot RESTful API Documentation with Swagger 2</li>
<li>
<a href="https://www.vojtechruzicka.com/documenting-spring-boot-rest-api-swagger-springfox/" target="blank_">Documenting Spring Boot REST API with Swagger and SpringFox</a><br> Documenting Spring Boot REST API with Swagger and SpringFox</li>
<li>
<a href="https://www.baeldung.com/spring-rest-openapi-documentation" target="blank_">A different approach</a><br> A different approach - Documenting a Spring REST API Using OpenAPI 3.0</li>
</ul>
<hr>
<h4 class="mark mb-3 p-2">Learn to print the default Swagger documentation</h4>
<p><a id="Printing_Swagger"></a></p>
<h5>Overview</h5>
<ul>
<li>See the Github Repository <a href="https://github.com/LambdaSchool/java-sampleemps.git">https://github.com/LambdaSchool/java-sampleemps.git/sampleemps_data_modeling</a> for the code used in the objective.</li>
</ul>
<h3 id="software-needed">Software Needed</h3>
<ul>
<li>Java Development Kit (JDK) - at least version 11</li>
<li>JetBrains IntelliJ IDEA IDE</li>
<li>Postman</li>
</ul>
<p>Once we have Swagger documentation enabled, clients can access it online. However making a printed form of the documentation available is often required. Here are ways to generate a couple of popular formats for the documentation.</p>
<h5>Follow Along</h5>
<h3 id="getting-started">Getting Started</h3>
<ul>
<li>Surf to the site <a href="https://editor.swagger.io/">https://editor.swagger.io/</a>
</li>
<li>On the site, goto the pull down menu <code class="highlighter-rouge">File</code> -&gt; <code class="highlighter-rouge">Clear Editor</code>
</li>
<li>With your application running, surf to the Swagger JSON endpoint. In our example it is<br>
<a href="http://localhost:2019/v2/api-docs">http://localhost:2019/v2/api-docs</a>.<br>
This will generate the JSON for the Swagger documentation for your application</li>
<li>Select all of the generate JSON and copy it.</li>
<li>Back on the editor.swagger.io site, paste the JSON into the editor by clicking in the editor and doing a paste.
<ul>
<li>You will be prompted with “Would you like convert your JSON into YAML?”. Click OK.</li>
<li>If after pasting, error messages show at the top of your generated documentation, you can usually just collapse the section where the errors appear and ignore them.</li>
</ul>
</li>
<li>What we want to do next is Generate Clients that have the format we desire.</li>
</ul>
<h3 id="generating-markdown-files">Generating markdown files</h3>
<ul>
<li>To generate markdown (*.md) files
<ul>
<li>Goto <code class="highlighter-rouge">Generate Client</code> -&gt; <code class="highlighter-rouge">bash</code>
</li>
<li>This will download a file called <code class="highlighter-rouge">bash-client-generated.zip</code> Unzip, expand, this file</li>
</ul>
</li>
<li>You now have a new folder called <code class="highlighter-rouge">bash-client</code>
<ul>
<li>A sub folder of <code class="highlighter-rouge">bash-client</code> is <code class="highlighter-rouge">docs</code> and contains all of the markdown files for each section of your application
<ul>
<li>One file for each model, entity</li>
<li>One file for each controller</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="generating-a-pdf">Generating a PDF</h3>
<ul>
<li>To generate a single PDF file of all your documentation
<ul>
<li>Goto <code class="highlighter-rouge">Generate Client</code> -&gt; <code class="highlighter-rouge">html</code>
</li>
<li>This will download a file <code class="highlighter-rouge">html-client-generated.zip</code> Unzip, expand, this file</li>
<li>You now have a new folder called <code class="highlighter-rouge">html-client</code>
</li>
</ul>
</li>
<li>Under that folder, you have a file called <code class="highlighter-rouge">index.html</code>
<ul>
<li>Open that file in a browser. I am using Chrome and the rest of the instructions work on Chrome. You will have research how your favorite works.</li>
<li>You now all of your documentation in a single browser window. We can print this document to a PDF and be done
<ul>
<li>Right click in the browser window</li>
<li>From the context menu, select <code class="highlighter-rouge">Print</code>
</li>
<li>For you Destination, select <code class="highlighter-rouge">Save as PDF</code>.</li>
<li>The rest of the options are up to you!</li>
<li>Click save and give your new PDF documentation a name.</li>
<li>Now distribute that PDF to your clients!</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Alternatively, you can expand all sections from the website<br>
<a href="http://localhost:2019/swagger-ui.html">http://localhost:2019/swagger-ui.html</a><br>
And then print that browser window to a PDF. This gives the following pdf documentation<br>
<a href="https://drive.google.com/open?id=1EijscrIhpv6lbnSbLXcaH7NeLFCEpI2l">Click Here Swagger Documentation PDF</a><br>
This method does require more work than the previous example and is up to you as to what you wish to give your clients!</p>
<h5>Dig Deeper</h5>
<ul>
<li>
<a href="https://editor.swagger.io/" target="blank_">Swagger Editor</a><br> https://editor.swagger.io/</li>
</ul>
<hr>
<h2>
<a id="guided-project" class="anchor" href="#guided-project" aria-hidden="true"><span class="octicon octicon-link"></span></a>Guided Project</h2>
<h3>java-usermodel</h3>
<p>We are continuing our study of Relational Database Design and custom queries. We need the usermodel - initial application from this repo. The guided project starts with this application and works toward the usermodel - final application.</p>
<a target="_blank" href="https://github.com/LambdaSchool/java-usermodel.git">GitHub Repo</a>
<hr>
<h2 class="display-4">
<a id="project" class="anchor" href="#project" aria-hidden="true"><span class="octicon octicon-link"></span></a>Project</h2>
<ul class="list-group">
<li class="list-group-item">
<h5><a target="_blank" href="https://github.com/LambdaSchool/java-zoos.git">java-zoos</a></h5>
</li>
</ul>
<h2 class="display-4">
<a id="review" class="anchor" href="#review" aria-hidden="true"><span class="octicon octicon-link"></span></a>Review</h2>
<h3 class="display-5">Class Recordings</h3>
<p class="lead">You can use class recordings to help you master the material.</p>
<div>
<ul class="list-group list-group-flush">
<li class="list-group-item">
<strong><a target="_blank" href="https://youtu.be/oxOPY68e_Cs">Java Auditing Fields for WEB33 with John Mitchell</a></strong>
</li>
<li class="list-group-item">
<a href="/archive/WEB4Java/module/rec2oQCFWOVShtxIx">All previous recordings</a>
</li>
</ul>
</div>
<h3 class="display-5">Demonstrate Mastery</h3>
<p>To demonstrate mastery of this module, you need to complete and pass a code review on each of the following:</p>
<ul>
<li>Objective challenge: <p>Let’s try adding some code on our own. You will need to find the appropriate code from the provided repository and add it to your own application.</p>
<p>A combination of custom Read queries and custom Modify queries are used to update the Many To Many relationship between Employee and JobTitle. You can see this code in action in the sampleemps_data_modeling application. The flow of this process is this. Since Employee is our driving table, I am putting this work with the methods for Employees</p>
<ul>
<li>services.EmployeeService gets the methods to delete or add an employee job title combination
<ul>
<li>deleteEmpJobTitle, addEmpJobTitle</li>
<li>Both takes two parameters, the employee id and role id of the combination to delete or add</li>
</ul>
</li>
<li>services.EmployeeServiceImpl
<ul>
<li>Implements the deleteEmpJobTitle and addEmpJobTitle methods with this process
<ul>
<li>Verify that the employee id is valid</li>
<li>Verify that the job title id is valid</li>
<li>Using a custom query, verify that the employee job title combinations
<ul>
<li>exists when doing a delete. We must have something to delete!</li>
<li>does not exist when doing an add. We don’t want duplicate combinations!</li>
</ul>
</li>
<li>Once all has been verified, use a custom query to actually perform the delete or add</li>
</ul>
</li>
</ul>
</li>
<li>controller.EmployeeController
<ul>
<li>We need a way for clients to delete or add the employee job title combination.</li>
<li>We get the ids through path variables</li>
<li>see methods deleteEmployeeJobTitlesByid and addEmployeeJobTitlesByid</li>
</ul>
</li>
<li>For the above we made use of three custom queries, all of which are located in repositories.EmployeeRepository
<ul>
<li>checkEmpJobTitleCombo
<ul>
<li>Counts the number of the given employee job titles combinations in the database</li>
<li>Uses the interface views.JustTheCount</li>
</ul>
</li>
<li>deleteEmployeeJobTitleCombo
<ul>
<li>deletes the combination of the given employee id and job title id</li>
</ul>
</li>
<li>insertEmployeeJobTitleCombo
<ul>
<li>inserts the given combination of the given employee id and job title id</li>
<li>initializes the audit fields with the username sent to the query and the current system date</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Guided Project: java-usermodel</li>
<li>Project: java-zoos</li>

</ul>
</div>
</div>
</div>
</main>
</div>

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-80850900-4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());

  gtag('config', 'UA-80850900-4');
</script>
<script type="text/javascript">
  function getDomain() {
    const domainName = window.location.hostname.split('.')[1];
    return `${domainName}.com`;
  }
</script>
<script src="" integrity="" crossorigin="anonymous"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
<script src="/assets/js/vendor/popper.min.js" integrity="" crossorigin="anonymous"></script><script src="/dist/js/bootstrap.min.js" integrity="" crossorigin="anonymous"></script><script src="/assets/js/activate.js"></script>
<script src="/assets/js/jekyll-search.js" type="text/javascript"></script>
<script type="text/javascript">
  SimpleJekyllSearch.init({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('results-container'),
    dataSource: '/search.json',
    searchResultTemplate: '<li class="list-group-item"><a href="{url}" title="Java - Data Modeling and Auditing Fields with custom querying">{title}</a></li>',
    noResultsText: '',
    limit: 10,
    fuzzy: true,
  })
</script>
<script src="/assets/js/mermaid.min.js"></script><script type="text/javascript">
  if (window.attachEvent) {
    window.attachEvent('onload', verifySignedIn);
  } else {
    if (window.onload) {
      var currentOnLoadFn = window.onload;
      var newOnLoadFn = function (evt) {
        currentOnLoadFn(evt);
        verifySignedIn();
      };
      window.onload = newOnLoadFn;
    } else {
      window.onload = verifySignedIn;
    }
  }

  function verifySignedIn() {
    if (isPagePublic()) {
      return showPageContents();
    }

    window.__user = null;
    isSignedIn().then((user) => {
      window.__user = user;

      if (!user.signedIn) {
        redirectToSignIn();
      } else if (!user.student && !window.__openToAdmissions) {
        showUnauthorizedMessage();
      } else {
        showPageContents();
      }
    });
  }

  function isPagePublic() {
    const openCourses = [
      'and-pre',
      'ds-pre',
      'fsw-pre',
      'help',
      'ios-pre',
    ];

    const openPages = [
      'cs-and',
      'cs-fsw',
      'cs-ios',
      'cr',
      'ds',
      'jx',
      'p4s',
      'ux',
    ];

    const pathParts = window.location.pathname.split('/');
    const courseName = pathParts[1];
    const pageName = pathParts[pathParts.length - 1];

    return openCourses.includes(courseName) || openPages.includes(pageName);
  }

  function isSignedIn() {
    const isDeployPreview = window.location.hostname.startsWith('deploy-preview') && window.location.hostname.endsWith('netlify.com');

    if (isDeployPreview) return Promise.resolve({ signedIn: true, student: true });

    return fetch(`${getAuthBaseUrl()}/whoami`, { credentials: 'include' })
      .then((response) => response.text())
      .then((userAsText) => userAsText ? JSON.parse(userAsText) : null)
      .then((userData) => ({ signedIn: Boolean(userData), student: Boolean(userData && userData.airtableId), id: userData ? userData.id : null, email: userData ? userData.email : null }))
      .catch((error) => {});
  }

  function redirectToSignIn() {
    const signInUrl = `${getAuthBaseUrl()}/sign-in?redirect=${encodeURIComponent(window.location.href)}&reason=auth_required`
    const redirectMessage = document.querySelector('#redirect-message');
    redirectMessage.style.display = "block";
    redirectMessage.innerHTML = `<div>You are being redirected to the sign in page. If you aren't redirected automatically, you can use <a href=${signInUrl}>this link</a>.</div>`
    window.location = signInUrl;
  }

  function showPageContents() {
    document.querySelector('#content-wrapper').style.visibility = 'visible';
  }

  function showUnauthorizedMessage() {
    document.querySelector('#unauthorized-message').style.display = 'block';
  }

  function getAuthBaseUrl() {
    const domain = getDomain();
    const authBaseUrl = `https://auth.${domain}`;
    return authBaseUrl;
  }
</script><script src="/assets/js/docs.min.js"></script><script>
  var MathJax = {
    tex: {
      inlineMath: [['$$', '$$'], ['\[', '\])']]
    },
    "HTML-CSS": {
      styles: {
        ".MathJax span": {
          color: "#000000"
        }
      }
    }
  }
</script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
<script>
  handleExternalLinks();

  function handleExternalLinks() {
    const domain = getDomain();
    const links = document.querySelectorAll('a');
    return links.forEach((link) => {
      if (!link.host.includes(domain)) link.target = '_blank';
    })
  };
</script>
</div>
</body>
</html>
